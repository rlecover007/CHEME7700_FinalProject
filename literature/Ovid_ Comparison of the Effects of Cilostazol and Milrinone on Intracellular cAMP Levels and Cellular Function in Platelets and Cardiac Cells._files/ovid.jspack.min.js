(function(a,b){function c(j,k,m){if(m===b&&j.nodeType===1){m=j.getAttribute("data-"+k);if(typeof m==="string"){try{m=m==="true"?true:m==="false"?false:m==="null"?null:!h.isNaN(m)?parseFloat(m):L.test(m)?h.parseJSON(m):m}catch(q){}h.data(j,k,m)}else m=b}return m}function f(){return false}function e(){return true}function d(j,k,m){m[0].type=j;return h.event.handle.apply(k,m)}function g(j){var k,m,q,v,y,E,D,I,V,N,Y,ba=[];v=[];y=h.data(this,this.nodeType?"events":"__events__");if(typeof y==="function")y=
y.events;if(!(j.liveFired===this||!y||!y.live||j.button&&j.type==="click")){if(j.namespace)Y=RegExp("(^|\\.)"+j.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");j.liveFired=this;var la=y.live.slice(0);for(D=0;D<la.length;D++){y=la[D];y.origType.replace(ia,"")===j.type?v.push(y.selector):la.splice(D--,1)}v=h(j.target).closest(v,j.currentTarget);I=0;for(V=v.length;I<V;I++){N=v[I];for(D=0;D<la.length;D++){y=la[D];if(N.selector===y.selector&&(!Y||Y.test(y.namespace))){E=N.elem;q=null;if(y.preType===
"mouseenter"||y.preType==="mouseleave"){j.type=y.preType;q=h(j.relatedTarget).closest(y.selector)[0]}if(!q||q!==E)ba.push({elem:E,handleObj:y,level:N.level})}}}I=0;for(V=ba.length;I<V;I++){v=ba[I];if(m&&v.level>m)break;j.currentTarget=v.elem;j.data=v.handleObj.data;j.handleObj=v.handleObj;Y=v.handleObj.origHandler.apply(v.elem,arguments);if(Y===false||j.isPropagationStopped()){m=v.level;if(Y===false)k=false;if(j.isImmediatePropagationStopped())break}}return k}}function l(j,k){return(j&&j!=="*"?j+
".":"")+k.replace(Da,"`").replace(qa,"&")}function n(j,k,m){if(h.isFunction(k))return h.grep(j,function(v,y){return!!k.call(v,y,v)===m});else if(k.nodeType)return h.grep(j,function(v){return v===k===m});else if(typeof k==="string"){var q=h.grep(j,function(v){return v.nodeType===1});if($a.test(k))return h.filter(k,q,!m);else k=h.filter(k,q)}return h.grep(j,function(v){return h.inArray(v,k)>=0===m})}function o(j,k){var m=0;k.each(function(){if(this.nodeName===(j[m]&&j[m].nodeName)){var q=h.data(j[m++]),
v=h.data(this,q);if(q=q&&q.events){delete v.handle;v.events={};for(var y in q)for(var E in q[y])h.event.add(this,y,q[y][E],q[y][E].data)}}})}function u(j,k){k.src?h.ajax({url:k.src,async:false,dataType:"script"}):h.globalEval(k.text||k.textContent||k.innerHTML||"");k.parentNode&&k.parentNode.removeChild(k)}function r(j,k,m){var q=k==="width"?j.offsetWidth:j.offsetHeight;if(m==="border")return q;h.each(k==="width"?ab:bb,function(){m||(q-=parseFloat(h.css(j,"padding"+this))||0);if(m==="margin")q+=parseFloat(h.css(j,
"margin"+this))||0;else q-=parseFloat(h.css(j,"border"+this+"Width"))||0});return q}function p(j,k,m,q){if(h.isArray(k)&&k.length)h.each(k,function(v,y){m||cb.test(j)?q(j,y):p(j+"["+(typeof y==="object"||h.isArray(y)?v:"")+"]",y,m,q)});else if(!m&&k!=null&&typeof k==="object")h.isEmptyObject(k)?q(j,""):h.each(k,function(v,y){p(j+"["+v+"]",y,m,q)});else q(j,k)}function s(j,k){var m={};h.each(Pa.concat.apply([],Pa.slice(0,k)),function(){m[this]=j});return m}function z(j){if(!Ma[j]){var k=h("<"+j+">").appendTo("body"),
m=k.css("display");k.remove();if(m==="none"||m==="")m="block";Ma[j]=m}return Ma[j]}function A(j){return h.isWindow(j)?j:j.nodeType===9?j.defaultView||j.parentWindow:false}var x=a.document,h=function(){function j(){if(!k.isReady){try{x.documentElement.doScroll("left")}catch(C){setTimeout(j,1);return}k.ready()}}var k=function(C,O){return new k.fn.init(C,O)},m=a.jQuery,q=a.$,v,y=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,E=/\S/,D=/^\s+/,I=/\s+$/,V=/\W/,N=/\d/,Y=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ba=/^[\],:{}\s]*$/,
la=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,T=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,ja=/(?:^|:|,)(?:\s*\[)+/g,ra=/(webkit)[ \/]([\w.]+)/,w=/(opera)(?:.*version)?[ \/]([\w.]+)/,B=/(msie) ([\w.]+)/,H=/(mozilla)(?:.*? rv:([\w.]+))?/,G=navigator.userAgent,J=false,K=[],R,W=Object.prototype.toString,ea=Object.prototype.hasOwnProperty,sa=Array.prototype.push,va=Array.prototype.slice,wa=String.prototype.trim,ca=Array.prototype.indexOf,Ea={};k.fn=k.prototype={init:function(C,O){var S,
X,ga;if(!C)return this;if(C.nodeType){this.context=this[0]=C;this.length=1;return this}if(C==="body"&&!O&&x.body){this.context=x;this[0]=x.body;this.selector="body";this.length=1;return this}if(typeof C==="string")if((S=y.exec(C))&&(S[1]||!O))if(S[1]){ga=O?O.ownerDocument||O:x;if(X=Y.exec(C))if(k.isPlainObject(O)){C=[x.createElement(X[1])];k.fn.attr.call(C,O,true)}else C=[ga.createElement(X[1])];else{X=k.buildFragment([S[1]],[ga]);C=(X.cacheable?X.fragment.cloneNode(true):X.fragment).childNodes}return k.merge(this,
C)}else{if((X=x.getElementById(S[2]))&&X.parentNode){if(X.id!==S[2])return v.find(C);this.length=1;this[0]=X}this.context=x;this.selector=C;return this}else if(!O&&!V.test(C)){this.selector=C;this.context=x;C=x.getElementsByTagName(C);return k.merge(this,C)}else return!O||O.jquery?(O||v).find(C):k(O).find(C);else if(k.isFunction(C))return v.ready(C);if(C.selector!==b){this.selector=C.selector;this.context=C.context}return k.makeArray(C,this)},selector:"",jquery:"1.4.4",length:0,size:function(){return this.length},
toArray:function(){return va.call(this,0)},get:function(C){return C==null?this.toArray():C<0?this.slice(C)[0]:this[C]},pushStack:function(C,O,S){var X=k();k.isArray(C)?sa.apply(X,C):k.merge(X,C);X.prevObject=this;X.context=this.context;if(O==="find")X.selector=this.selector+(this.selector?" ":"")+S;else if(O)X.selector=this.selector+"."+O+"("+S+")";return X},each:function(C,O){return k.each(this,C,O)},ready:function(C){k.bindReady();if(k.isReady)C.call(x,k);else K&&K.push(C);return this},eq:function(C){return C===
-1?this.slice(C):this.slice(C,+C+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(va.apply(this,arguments),"slice",va.call(arguments).join(","))},map:function(C){return this.pushStack(k.map(this,function(O,S){return C.call(O,S,O)}))},end:function(){return this.prevObject||k(null)},push:sa,sort:[].sort,splice:[].splice};k.fn.init.prototype=k.fn;k.extend=k.fn.extend=function(){var C,O,S,X,ga,fa=arguments[0]||{},pa=1,ya=arguments.length,
Na=false;if(typeof fa==="boolean"){Na=fa;fa=arguments[1]||{};pa=2}if(typeof fa!=="object"&&!k.isFunction(fa))fa={};if(ya===pa){fa=this;--pa}for(;pa<ya;pa++)if((C=arguments[pa])!=null)for(O in C){S=fa[O];X=C[O];if(fa!==X)if(Na&&X&&(k.isPlainObject(X)||(ga=k.isArray(X)))){if(ga){ga=false;S=S&&k.isArray(S)?S:[]}else S=S&&k.isPlainObject(S)?S:{};fa[O]=k.extend(Na,S,X)}else if(X!==b)fa[O]=X}return fa};k.extend({noConflict:function(C){a.$=q;if(C)a.jQuery=m;return k},isReady:false,readyWait:1,ready:function(C){C===
true&&k.readyWait--;if(!k.readyWait||C!==true&&!k.isReady){if(!x.body)return setTimeout(k.ready,1);k.isReady=true;if(!(C!==true&&--k.readyWait>0))if(K){var O=0,S=K;for(K=null;C=S[O++];)C.call(x,k);k.fn.trigger&&k(x).trigger("ready").unbind("ready")}}},bindReady:function(){if(!J){J=true;if(x.readyState==="complete")return setTimeout(k.ready,1);if(x.addEventListener){x.addEventListener("DOMContentLoaded",R,false);a.addEventListener("load",k.ready,false)}else if(x.attachEvent){x.attachEvent("onreadystatechange",
R);a.attachEvent("onload",k.ready);var C=false;try{C=a.frameElement==null}catch(O){}x.documentElement.doScroll&&C&&j()}}},isFunction:function(C){return k.type(C)==="function"},isArray:Array.isArray||function(C){return k.type(C)==="array"},isWindow:function(C){return C&&typeof C==="object"&&"setInterval"in C},isNaN:function(C){return C==null||!N.test(C)||isNaN(C)},type:function(C){return C==null?String(C):Ea[W.call(C)]||"object"},isPlainObject:function(C){if(!C||k.type(C)!=="object"||C.nodeType||k.isWindow(C))return false;
if(C.constructor&&!ea.call(C,"constructor")&&!ea.call(C.constructor.prototype,"isPrototypeOf"))return false;for(var O in C);return O===b||ea.call(C,O)},isEmptyObject:function(C){for(var O in C)return false;return true},error:function(C){throw C;},parseJSON:function(C){if(typeof C!=="string"||!C)return null;C=k.trim(C);if(ba.test(C.replace(la,"@").replace(T,"]").replace(ja,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(C):(new Function("return "+C))();else k.error("Invalid JSON: "+C)},noop:function(){},
globalEval:function(C){if(C&&E.test(C)){var O=x.getElementsByTagName("head")[0]||x.documentElement,S=x.createElement("script");S.type="text/javascript";if(k.support.scriptEval)S.appendChild(x.createTextNode(C));else S.text=C;O.insertBefore(S,O.firstChild);O.removeChild(S)}},nodeName:function(C,O){return C.nodeName&&C.nodeName.toUpperCase()===O.toUpperCase()},each:function(C,O,S){var X,ga=0,fa=C.length,pa=fa===b||k.isFunction(C);if(S)if(pa)for(X in C){if(O.apply(C[X],S)===false)break}else for(;ga<
fa;){if(O.apply(C[ga++],S)===false)break}else if(pa)for(X in C){if(O.call(C[X],X,C[X])===false)break}else for(S=C[0];ga<fa&&O.call(S,ga,S)!==false;S=C[++ga]);return C},trim:wa?function(C){return C==null?"":wa.call(C)}:function(C){return C==null?"":C.toString().replace(D,"").replace(I,"")},makeArray:function(C,O){var S=O||[];if(C!=null){var X=k.type(C);C.length==null||X==="string"||X==="function"||X==="regexp"||k.isWindow(C)?sa.call(S,C):k.merge(S,C)}return S},inArray:function(C,O){if(O.indexOf)return O.indexOf(C);
for(var S=0,X=O.length;S<X;S++)if(O[S]===C)return S;return-1},merge:function(C,O){var S=C.length,X=0;if(typeof O.length==="number")for(var ga=O.length;X<ga;X++)C[S++]=O[X];else for(;O[X]!==b;)C[S++]=O[X++];C.length=S;return C},grep:function(C,O,S){var X=[],ga;S=!!S;for(var fa=0,pa=C.length;fa<pa;fa++){ga=!!O(C[fa],fa);S!==ga&&X.push(C[fa])}return X},map:function(C,O,S){for(var X=[],ga,fa=0,pa=C.length;fa<pa;fa++){ga=O(C[fa],fa,S);if(ga!=null)X[X.length]=ga}return X.concat.apply([],X)},guid:1,proxy:function(C,
O,S){if(arguments.length===2)if(typeof O==="string"){S=C;C=S[O];O=b}else if(O&&!k.isFunction(O)){S=O;O=b}if(!O&&C)O=function(){return C.apply(S||this,arguments)};if(C)O.guid=C.guid=C.guid||O.guid||k.guid++;return O},access:function(C,O,S,X,ga,fa){var pa=C.length;if(typeof O==="object"){for(var ya in O)k.access(C,ya,O[ya],X,ga,S);return C}if(S!==b){X=!fa&&X&&k.isFunction(S);for(ya=0;ya<pa;ya++)ga(C[ya],O,X?S.call(C[ya],ya,ga(C[ya],O)):S,fa);return C}return pa?ga(C[0],O):b},now:function(){return(new Date).getTime()},
uaMatch:function(C){C=C.toLowerCase();C=ra.exec(C)||w.exec(C)||B.exec(C)||C.indexOf("compatible")<0&&H.exec(C)||[];return{browser:C[1]||"",version:C[2]||"0"}},browser:{}});k.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(C,O){Ea["[object "+O+"]"]=O.toLowerCase()});G=k.uaMatch(G);if(G.browser){k.browser[G.browser]=true;k.browser.version=G.version}if(k.browser.webkit)k.browser.safari=true;if(ca)k.inArray=function(C,O){return ca.call(O,C)};if(!/\s/.test("\u00a0")){D=
/^[\s\xA0]+/;I=/[\s\xA0]+$/}v=k(x);if(x.addEventListener)R=function(){x.removeEventListener("DOMContentLoaded",R,false);k.ready()};else if(x.attachEvent)R=function(){if(x.readyState==="complete"){x.detachEvent("onreadystatechange",R);k.ready()}};return a.jQuery=a.$=k}();(function(){h.support={};var j=x.documentElement,k=x.createElement("script"),m=x.createElement("div"),q="script"+h.now();m.style.display="none";m.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";
var v=m.getElementsByTagName("*"),y=m.getElementsByTagName("a")[0],E=x.createElement("select"),D=E.appendChild(x.createElement("option"));if(!(!v||!v.length||!y)){h.support={leadingWhitespace:m.firstChild.nodeType===3,tbody:!m.getElementsByTagName("tbody").length,htmlSerialize:!!m.getElementsByTagName("link").length,style:/red/.test(y.getAttribute("style")),hrefNormalized:y.getAttribute("href")==="/a",opacity:/^0.55$/.test(y.style.opacity),cssFloat:!!y.style.cssFloat,checkOn:m.getElementsByTagName("input")[0].value===
"on",optSelected:D.selected,deleteExpando:true,optDisabled:false,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};E.disabled=true;h.support.optDisabled=!D.disabled;k.type="text/javascript";try{k.appendChild(x.createTextNode("window."+q+"=1;"))}catch(I){}j.insertBefore(k,j.firstChild);if(a[q]){h.support.scriptEval=true;delete a[q]}try{delete k.test}catch(V){h.support.deleteExpando=false}j.removeChild(k);
if(m.attachEvent&&m.fireEvent){m.attachEvent("onclick",function N(){h.support.noCloneEvent=false;m.detachEvent("onclick",N)});m.cloneNode(true).fireEvent("onclick")}m=x.createElement("div");m.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";j=x.createDocumentFragment();j.appendChild(m.firstChild);h.support.checkClone=j.cloneNode(true).cloneNode(true).lastChild.checked;h(function(){var N=x.createElement("div");N.style.width=N.style.paddingLeft="1px";x.body.appendChild(N);h.boxModel=
h.support.boxModel=N.offsetWidth===2;if("zoom"in N.style){N.style.display="inline";N.style.zoom=1;h.support.inlineBlockNeedsLayout=N.offsetWidth===2;N.style.display="";N.innerHTML="<div style='width:4px;'></div>";h.support.shrinkWrapBlocks=N.offsetWidth!==2}N.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";var Y=N.getElementsByTagName("td");h.support.reliableHiddenOffsets=Y[0].offsetHeight===0;Y[0].style.display="";Y[1].style.display="none";h.support.reliableHiddenOffsets=
h.support.reliableHiddenOffsets&&Y[0].offsetHeight===0;N.innerHTML="";x.body.removeChild(N).style.display="none"});j=function(N){var Y=x.createElement("div");N="on"+N;var ba=N in Y;if(!ba){Y.setAttribute(N,"return;");ba=typeof Y[N]==="function"}return ba};h.support.submitBubbles=j("submit");h.support.changeBubbles=j("change");j=k=m=v=y=null}})();var F={},L=/^(?:\{.*\}|\[.*\])$/;h.extend({cache:{},uuid:0,expando:"jQuery"+h.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",
applet:true},data:function(j,k,m){if(h.acceptData(j)){j=j==a?F:j;var q=j.nodeType,v=q?j[h.expando]:null,y=h.cache;if(!(q&&!v&&typeof k==="string"&&m===b)){if(q)v||(j[h.expando]=v=++h.uuid);else y=j;if(typeof k==="object")if(q)y[v]=h.extend(y[v],k);else h.extend(y,k);else if(q&&!y[v])y[v]={};j=q?y[v]:y;if(m!==b)j[k]=m;return typeof k==="string"?j[k]:j}}},removeData:function(j,k){if(h.acceptData(j)){j=j==a?F:j;var m=j.nodeType,q=m?j[h.expando]:j,v=h.cache,y=m?v[q]:q;if(k){if(y){delete y[k];m&&h.isEmptyObject(y)&&
h.removeData(j)}}else if(m&&h.support.deleteExpando)delete j[h.expando];else if(j.removeAttribute)j.removeAttribute(h.expando);else if(m)delete v[q];else for(var E in j)delete j[E]}},acceptData:function(j){if(j.nodeName){var k=h.noData[j.nodeName.toLowerCase()];if(k)return!(k===true||j.getAttribute("classid")!==k)}return true}});h.fn.extend({data:function(j,k){var m=null;if(typeof j==="undefined"){if(this.length){var q=this[0].attributes,v;m=h.data(this[0]);for(var y=0,E=q.length;y<E;y++){v=q[y].name;
if(v.indexOf("data-")===0){v=v.substr(5);c(this[0],v,m[v])}}}return m}else if(typeof j==="object")return this.each(function(){h.data(this,j)});var D=j.split(".");D[1]=D[1]?"."+D[1]:"";if(k===b){m=this.triggerHandler("getData"+D[1]+"!",[D[0]]);if(m===b&&this.length){m=h.data(this[0],j);m=c(this[0],j,m)}return m===b&&D[1]?this.data(D[0]):m}else return this.each(function(){var I=h(this),V=[D[0],k];I.triggerHandler("setData"+D[1]+"!",V);h.data(this,j,k);I.triggerHandler("changeData"+D[1]+"!",V)})},removeData:function(j){return this.each(function(){h.removeData(this,
j)})}});h.extend({queue:function(j,k,m){if(j){k=(k||"fx")+"queue";var q=h.data(j,k);if(!m)return q||[];if(!q||h.isArray(m))q=h.data(j,k,h.makeArray(m));else q.push(m);return q}},dequeue:function(j,k){k=k||"fx";var m=h.queue(j,k),q=m.shift();if(q==="inprogress")q=m.shift();if(q){k==="fx"&&m.unshift("inprogress");q.call(j,function(){h.dequeue(j,k)})}}});h.fn.extend({queue:function(j,k){if(typeof j!=="string"){k=j;j="fx"}if(k===b)return h.queue(this[0],j);return this.each(function(){var m=h.queue(this,
j,k);j==="fx"&&m[0]!=="inprogress"&&h.dequeue(this,j)})},dequeue:function(j){return this.each(function(){h.dequeue(this,j)})},delay:function(j,k){j=h.fx?h.fx.speeds[j]||j:j;k=k||"fx";return this.queue(k,function(){var m=this;setTimeout(function(){h.dequeue(m,k)},j)})},clearQueue:function(j){return this.queue(j||"fx",[])}});var M=/[\n\t]/g,Q=/\s+/,P=/\r/g,Z=/^(?:href|src|style)$/,U=/^(?:button|input)$/i,aa=/^(?:button|input|object|select|textarea)$/i,da=/^a(?:rea)?$/i,na=/^(?:radio|checkbox)$/i;h.props=
{"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};h.fn.extend({attr:function(j,k){return h.access(this,j,k,true,h.attr)},removeAttr:function(j){return this.each(function(){h.attr(this,j,"");this.nodeType===1&&this.removeAttribute(j)})},addClass:function(j){if(h.isFunction(j))return this.each(function(V){var N=h(this);N.addClass(j.call(this,V,N.attr("class")))});
if(j&&typeof j==="string")for(var k=(j||"").split(Q),m=0,q=this.length;m<q;m++){var v=this[m];if(v.nodeType===1)if(v.className){for(var y=" "+v.className+" ",E=v.className,D=0,I=k.length;D<I;D++)if(y.indexOf(" "+k[D]+" ")<0)E+=" "+k[D];v.className=h.trim(E)}else v.className=j}return this},removeClass:function(j){if(h.isFunction(j))return this.each(function(I){var V=h(this);V.removeClass(j.call(this,I,V.attr("class")))});if(j&&typeof j==="string"||j===b)for(var k=(j||"").split(Q),m=0,q=this.length;m<
q;m++){var v=this[m];if(v.nodeType===1&&v.className)if(j){for(var y=(" "+v.className+" ").replace(M," "),E=0,D=k.length;E<D;E++)y=y.replace(" "+k[E]+" "," ");v.className=h.trim(y)}else v.className=""}return this},toggleClass:function(j,k){var m=typeof j,q=typeof k==="boolean";if(h.isFunction(j))return this.each(function(v){var y=h(this);y.toggleClass(j.call(this,v,y.attr("class"),k),k)});return this.each(function(){if(m==="string")for(var v,y=0,E=h(this),D=k,I=j.split(Q);v=I[y++];){D=q?D:!E.hasClass(v);
E[D?"addClass":"removeClass"](v)}else if(m==="undefined"||m==="boolean"){this.className&&h.data(this,"__className__",this.className);this.className=this.className||j===false?"":h.data(this,"__className__")||""}})},hasClass:function(j){j=" "+j+" ";for(var k=0,m=this.length;k<m;k++)if((" "+this[k].className+" ").replace(M," ").indexOf(j)>-1)return true;return false},val:function(j){if(!arguments.length){var k=this[0];if(k){if(h.nodeName(k,"option")){var m=k.attributes.value;return!m||m.specified?k.value:
k.text}if(h.nodeName(k,"select")){var q=k.selectedIndex;m=[];var v=k.options;k=k.type==="select-one";if(q<0)return null;var y=k?q:0;for(q=k?q+1:v.length;y<q;y++){var E=v[y];if(E.selected&&(h.support.optDisabled?!E.disabled:E.getAttribute("disabled")===null)&&(!E.parentNode.disabled||!h.nodeName(E.parentNode,"optgroup"))){j=h(E).val();if(k)return j;m.push(j)}}return m}if(na.test(k.type)&&!h.support.checkOn)return k.getAttribute("value")===null?"on":k.value;return(k.value||"").replace(P,"")}return b}var D=
h.isFunction(j);return this.each(function(I){var V=h(this),N=j;if(this.nodeType===1){if(D)N=j.call(this,I,V.val());if(N==null)N="";else if(typeof N==="number")N+="";else if(h.isArray(N))N=h.map(N,function(ba){return ba==null?"":ba+""});if(h.isArray(N)&&na.test(this.type))this.checked=h.inArray(V.val(),N)>=0;else if(h.nodeName(this,"select")){var Y=h.makeArray(N);h("option",this).each(function(){this.selected=h.inArray(h(this).val(),Y)>=0});if(!Y.length)this.selectedIndex=-1}else this.value=N}})}});
h.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(j,k,m,q){if(!j||j.nodeType===3||j.nodeType===8)return b;if(q&&k in h.attrFn)return h(j)[k](m);q=j.nodeType!==1||!h.isXMLDoc(j);var v=m!==b;k=q&&h.props[k]||k;var y=Z.test(k);if((k in j||j[k]!==b)&&q&&!y){if(v){k==="type"&&U.test(j.nodeName)&&j.parentNode&&h.error("type property can't be changed");if(m===null)j.nodeType===1&&j.removeAttribute(k);else j[k]=m}if(h.nodeName(j,"form")&&j.getAttributeNode(k))return j.getAttributeNode(k).nodeValue;
if(k==="tabIndex")return(k=j.getAttributeNode("tabIndex"))&&k.specified?k.value:aa.test(j.nodeName)||da.test(j.nodeName)&&j.href?0:b;return j[k]}if(!h.support.style&&q&&k==="style"){if(v)j.style.cssText=""+m;return j.style.cssText}v&&j.setAttribute(k,""+m);if(!j.attributes[k]&&j.hasAttribute&&!j.hasAttribute(k))return b;j=!h.support.hrefNormalized&&q&&y?j.getAttribute(k,2):j.getAttribute(k);return j===null?b:j}});var ia=/\.(.*)$/,ma=/^(?:textarea|input|select)$/i,Da=/\./g,qa=/ /g,ha=/[^\w\s.|`]/g,
oa=function(j){return j.replace(ha,"\\$&")},ta={focusin:0,focusout:0};h.event={add:function(j,k,m,q){if(!(j.nodeType===3||j.nodeType===8)){if(h.isWindow(j)&&j!==a&&!j.frameElement)j=a;if(m===false)m=f;else if(!m)return;var v,y;if(m.handler){v=m;m=v.handler}if(!m.guid)m.guid=h.guid++;if(y=h.data(j)){var E=j.nodeType?"events":"__events__",D=y[E],I=y.handle;if(typeof D==="function"){I=D.handle;D=D.events}else if(!D){j.nodeType||(y[E]=y=function(){});y.events=D={}}if(!I)y.handle=I=function(){return typeof h!==
"undefined"&&!h.event.triggered?h.event.handle.apply(I.elem,arguments):b};I.elem=j;k=k.split(" ");for(var V=0,N;E=k[V++];){y=v?h.extend({},v):{handler:m,data:q};if(E.indexOf(".")>-1){N=E.split(".");E=N.shift();y.namespace=N.slice(0).sort().join(".")}else{N=[];y.namespace=""}y.type=E;if(!y.guid)y.guid=m.guid;var Y=D[E],ba=h.event.special[E]||{};if(!Y){Y=D[E]=[];if(!ba.setup||ba.setup.call(j,q,N,I)===false)if(j.addEventListener)j.addEventListener(E,I,false);else j.attachEvent&&j.attachEvent("on"+E,
I)}if(ba.add){ba.add.call(j,y);if(!y.handler.guid)y.handler.guid=m.guid}Y.push(y);h.event.global[E]=true}j=null}}},global:{},remove:function(j,k,m,q){if(!(j.nodeType===3||j.nodeType===8)){if(m===false)m=f;var v,y,E=0,D,I,V,N,Y,ba,la=j.nodeType?"events":"__events__",T=h.data(j),ja=T&&T[la];if(T&&ja){if(typeof ja==="function"){T=ja;ja=ja.events}if(k&&k.type){m=k.handler;k=k.type}if(!k||typeof k==="string"&&k.charAt(0)==="."){k=k||"";for(v in ja)h.event.remove(j,v+k)}else{for(k=k.split(" ");v=k[E++];){N=
v;D=v.indexOf(".")<0;I=[];if(!D){I=v.split(".");v=I.shift();V=RegExp("(^|\\.)"+h.map(I.slice(0).sort(),oa).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(Y=ja[v])if(m){N=h.event.special[v]||{};for(y=q||0;y<Y.length;y++){ba=Y[y];if(m.guid===ba.guid){if(D||V.test(ba.namespace)){q==null&&Y.splice(y--,1);N.remove&&N.remove.call(j,ba)}if(q!=null)break}}if(Y.length===0||q!=null&&Y.length===1){if(!N.teardown||N.teardown.call(j,I)===false)h.removeEvent(j,v,T.handle);delete ja[v]}}else for(y=0;y<Y.length;y++){ba=Y[y];
if(D||V.test(ba.namespace)){h.event.remove(j,N,ba.handler,y);Y.splice(y--,1)}}}if(h.isEmptyObject(ja)){if(k=T.handle)k.elem=null;delete T.events;delete T.handle;if(typeof T==="function")h.removeData(j,la);else h.isEmptyObject(T)&&h.removeData(j)}}}}},trigger:function(j,k,m,q){var v=j.type||j;if(!q){j=typeof j==="object"?j[h.expando]?j:h.extend(h.Event(v),j):h.Event(v);if(v.indexOf("!")>=0){j.type=v=v.slice(0,-1);j.exclusive=true}if(!m){j.stopPropagation();h.event.global[v]&&h.each(h.cache,function(){this.events&&
this.events[v]&&h.event.trigger(j,k,this.handle.elem)})}if(!m||m.nodeType===3||m.nodeType===8)return b;j.result=b;j.target=m;k=h.makeArray(k);k.unshift(j)}j.currentTarget=m;(q=m.nodeType?h.data(m,"handle"):(h.data(m,"__events__")||{}).handle)&&q.apply(m,k);q=m.parentNode||m.ownerDocument;try{if(!(m&&m.nodeName&&h.noData[m.nodeName.toLowerCase()]))if(m["on"+v]&&m["on"+v].apply(m,k)===false){j.result=false;j.preventDefault()}}catch(y){}if(!j.isPropagationStopped()&&q)h.event.trigger(j,k,q,true);else if(!j.isDefaultPrevented()){var E;
q=j.target;var D=v.replace(ia,""),I=h.nodeName(q,"a")&&D==="click",V=h.event.special[D]||{};if((!V._default||V._default.call(m,j)===false)&&!I&&!(q&&q.nodeName&&h.noData[q.nodeName.toLowerCase()])){try{if(q[D]){if(E=q["on"+D])q["on"+D]=null;h.event.triggered=true;q[D]()}}catch(N){}if(E)q["on"+D]=E;h.event.triggered=false}}},handle:function(j){var k,m,q,v;m=[];var y=h.makeArray(arguments);j=y[0]=h.event.fix(j||a.event);j.currentTarget=this;k=j.type.indexOf(".")<0&&!j.exclusive;if(!k){q=j.type.split(".");
j.type=q.shift();m=q.slice(0).sort();q=RegExp("(^|\\.)"+m.join("\\.(?:.*\\.)?")+"(\\.|$)")}j.namespace=j.namespace||m.join(".");v=h.data(this,this.nodeType?"events":"__events__");if(typeof v==="function")v=v.events;m=(v||{})[j.type];if(v&&m){m=m.slice(0);v=0;for(var E=m.length;v<E;v++){var D=m[v];if(k||q.test(D.namespace)){j.handler=D.handler;j.data=D.data;j.handleObj=D;D=D.handler.apply(this,y);if(D!==b){j.result=D;if(D===false){j.preventDefault();j.stopPropagation()}}if(j.isImmediatePropagationStopped())break}}}return j.result},
props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),fix:function(j){if(j[h.expando])return j;var k=j;j=h.Event(k);for(var m=this.props.length,q;m;){q=this.props[--m];j[q]=k[q]}if(!j.target)j.target=j.srcElement||x;
if(j.target.nodeType===3)j.target=j.target.parentNode;if(!j.relatedTarget&&j.fromElement)j.relatedTarget=j.fromElement===j.target?j.toElement:j.fromElement;if(j.pageX==null&&j.clientX!=null){k=x.documentElement;m=x.body;j.pageX=j.clientX+(k&&k.scrollLeft||m&&m.scrollLeft||0)-(k&&k.clientLeft||m&&m.clientLeft||0);j.pageY=j.clientY+(k&&k.scrollTop||m&&m.scrollTop||0)-(k&&k.clientTop||m&&m.clientTop||0)}if(j.which==null&&(j.charCode!=null||j.keyCode!=null))j.which=j.charCode!=null?j.charCode:j.keyCode;
if(!j.metaKey&&j.ctrlKey)j.metaKey=j.ctrlKey;if(!j.which&&j.button!==b)j.which=j.button&1?1:j.button&2?3:j.button&4?2:0;return j},guid:1E8,proxy:h.proxy,special:{ready:{setup:h.bindReady,teardown:h.noop},live:{add:function(j){h.event.add(this,l(j.origType,j.selector),h.extend({},j,{handler:g,guid:j.handler.guid}))},remove:function(j){h.event.remove(this,l(j.origType,j.selector),j)}},beforeunload:{setup:function(j,k,m){if(h.isWindow(this))this.onbeforeunload=m},teardown:function(j,k){if(this.onbeforeunload===
k)this.onbeforeunload=null}}}};h.removeEvent=x.removeEventListener?function(j,k,m){j.removeEventListener&&j.removeEventListener(k,m,false)}:function(j,k,m){j.detachEvent&&j.detachEvent("on"+k,m)};h.Event=function(j){if(!this.preventDefault)return new h.Event(j);if(j&&j.type){this.originalEvent=j;this.type=j.type}else this.type=j;this.timeStamp=h.now();this[h.expando]=true};h.Event.prototype={preventDefault:function(){this.isDefaultPrevented=e;var j=this.originalEvent;if(j)if(j.preventDefault)j.preventDefault();
else j.returnValue=false},stopPropagation:function(){this.isPropagationStopped=e;var j=this.originalEvent;if(j){j.stopPropagation&&j.stopPropagation();j.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f};var za=function(j){var k=j.relatedTarget;try{for(;k&&k!==this;)k=k.parentNode;if(k!==this){j.type=j.data;h.event.handle.apply(this,arguments)}}catch(m){}},
ka=function(j){j.type=j.data;h.event.handle.apply(this,arguments)};h.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(j,k){h.event.special[j]={setup:function(m){h.event.add(this,k,m&&m.selector?ka:za,j)},teardown:function(m){h.event.remove(this,k,m&&m.selector?ka:za)}}});if(!h.support.submitBubbles)h.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!=="form"){h.event.add(this,"click.specialSubmit",function(j){var k=j.target,m=k.type;if((m==="submit"||m==="image")&&
h(k).closest("form").length){j.liveFired=b;return d("submit",this,arguments)}});h.event.add(this,"keypress.specialSubmit",function(j){var k=j.target,m=k.type;if((m==="text"||m==="password")&&h(k).closest("form").length&&j.keyCode===13){j.liveFired=b;return d("submit",this,arguments)}})}else return false},teardown:function(){h.event.remove(this,".specialSubmit")}};if(!h.support.changeBubbles){var Ca,Ga=function(j){var k=j.type,m=j.value;if(k==="radio"||k==="checkbox")m=j.checked;else if(k==="select-multiple")m=
j.selectedIndex>-1?h.map(j.options,function(q){return q.selected}).join("-"):"";else if(j.nodeName.toLowerCase()==="select")m=j.selectedIndex;return m},Aa=function(j,k){var m=j.target,q,v;if(!(!ma.test(m.nodeName)||m.readOnly)){q=h.data(m,"_change_data");v=Ga(m);if(j.type!=="focusout"||m.type!=="radio")h.data(m,"_change_data",v);if(!(q===b||v===q))if(q!=null||v){j.type="change";j.liveFired=b;return h.event.trigger(j,k,m)}}};h.event.special.change={filters:{focusout:Aa,beforedeactivate:Aa,click:function(j){var k=
j.target,m=k.type;if(m==="radio"||m==="checkbox"||k.nodeName.toLowerCase()==="select")return Aa.call(this,j)},keydown:function(j){var k=j.target,m=k.type;if(j.keyCode===13&&k.nodeName.toLowerCase()!=="textarea"||j.keyCode===32&&(m==="checkbox"||m==="radio")||m==="select-multiple")return Aa.call(this,j)},beforeactivate:function(j){j=j.target;h.data(j,"_change_data",Ga(j))}},setup:function(){if(this.type==="file")return false;for(var j in Ca)h.event.add(this,j+".specialChange",Ca[j]);return ma.test(this.nodeName)},
teardown:function(){h.event.remove(this,".specialChange");return ma.test(this.nodeName)}};Ca=h.event.special.change.filters;Ca.focus=Ca.beforeactivate}x.addEventListener&&h.each({focus:"focusin",blur:"focusout"},function(j,k){function m(q){q=h.event.fix(q);q.type=k;return h.event.trigger(q,null,q.target)}h.event.special[k]={setup:function(){ta[k]++===0&&x.addEventListener(j,m,true)},teardown:function(){--ta[k]===0&&x.removeEventListener(j,m,true)}}});h.each(["bind","one"],function(j,k){h.fn[k]=function(m,
q,v){if(typeof m==="object"){for(var y in m)this[k](y,q,m[y],v);return this}if(h.isFunction(q)||q===false){v=q;q=b}var E=k==="one"?h.proxy(v,function(I){h(this).unbind(I,E);return v.apply(this,arguments)}):v;if(m==="unload"&&k!=="one")this.one(m,q,v);else{y=0;for(var D=this.length;y<D;y++)h.event.add(this[y],m,E,q)}return this}});h.fn.extend({unbind:function(j,k){if(typeof j==="object"&&!j.preventDefault)for(var m in j)this.unbind(m,j[m]);else{m=0;for(var q=this.length;m<q;m++)h.event.remove(this[m],
j,k)}return this},delegate:function(j,k,m,q){return this.live(k,m,q,j)},undelegate:function(j,k,m){return arguments.length===0?this.unbind("live"):this.die(k,null,m,j)},trigger:function(j,k){return this.each(function(){h.event.trigger(j,k,this)})},triggerHandler:function(j,k){if(this[0]){var m=h.Event(j);m.preventDefault();m.stopPropagation();h.event.trigger(m,k,this[0]);return m.result}},toggle:function(j){for(var k=arguments,m=1;m<k.length;)h.proxy(j,k[m++]);return this.click(h.proxy(j,function(q){var v=
(h.data(this,"lastToggle"+j.guid)||0)%m;h.data(this,"lastToggle"+j.guid,v+1);q.preventDefault();return k[v].apply(this,arguments)||false}))},hover:function(j,k){return this.mouseenter(j).mouseleave(k||j)}});var Ba={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};h.each(["live","die"],function(j,k){h.fn[k]=function(m,q,v,y){var E,D=0,I,V,N=y||this.selector;y=y?this:h(this.context);if(typeof m==="object"&&!m.preventDefault){for(E in m)y[k](E,q,m[E],N);return this}if(h.isFunction(q)){v=
q;q=b}for(m=(m||"").split(" ");(E=m[D++])!=null;){I=ia.exec(E);V="";if(I){V=I[0];E=E.replace(ia,"")}if(E==="hover")m.push("mouseenter"+V,"mouseleave"+V);else{I=E;if(E==="focus"||E==="blur"){m.push(Ba[E]+V);E+=V}else E=(Ba[E]||E)+V;if(k==="live"){V=0;for(var Y=y.length;V<Y;V++)h.event.add(y[V],"live."+l(E,N),{data:q,selector:N,handler:v,origType:E,origHandler:v,preType:I})}else y.unbind("live."+l(E,N),v)}}return this}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(j,k){h.fn[k]=function(m,q){if(q==null){q=m;m=null}return arguments.length>0?this.bind(k,m,q):this.trigger(k)};if(h.attrFn)h.attrFn[k]=true});a.attachEvent&&!a.addEventListener&&h(a).bind("unload",function(){for(var j in h.cache)if(h.cache[j].handle)try{h.event.remove(h.cache[j].handle.elem)}catch(k){}});(function(){function j(w,B,H,G,J,K){J=0;for(var R=G.length;J<R;J++){var W=G[J];if(W){var ea=false;for(W=W[w];W;){if(W.sizcache===H){ea=G[W.sizset];break}if(W.nodeType===1&&!K){W.sizcache=
H;W.sizset=J}if(W.nodeName.toLowerCase()===B){ea=W;break}W=W[w]}G[J]=ea}}}function k(w,B,H,G,J,K){J=0;for(var R=G.length;J<R;J++){var W=G[J];if(W){var ea=false;for(W=W[w];W;){if(W.sizcache===H){ea=G[W.sizset];break}if(W.nodeType===1){if(!K){W.sizcache=H;W.sizset=J}if(typeof B!=="string"){if(W===B){ea=true;break}}else if(D.filter(B,[W]).length>0){ea=W;break}}W=W[w]}G[J]=ea}}}var m=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
q=0,v=Object.prototype.toString,y=false,E=true;[0,0].sort(function(){E=false;return 0});var D=function(w,B,H,G){H=H||[];var J=B=B||x;if(B.nodeType!==1&&B.nodeType!==9)return[];if(!w||typeof w!=="string")return H;var K,R,W,ea,sa,va=true,wa=D.isXML(B),ca=[],Ea=w;do{m.exec("");if(K=m.exec(Ea)){Ea=K[3];ca.push(K[1]);if(K[2]){ea=K[3];break}}}while(K);if(ca.length>1&&V.exec(w))if(ca.length===2&&I.relative[ca[0]])R=ra(ca[0]+ca[1],B);else for(R=I.relative[ca[0]]?[B]:D(ca.shift(),B);ca.length;){w=ca.shift();
if(I.relative[w])w+=ca.shift();R=ra(w,R)}else{if(!G&&ca.length>1&&B.nodeType===9&&!wa&&I.match.ID.test(ca[0])&&!I.match.ID.test(ca[ca.length-1])){K=D.find(ca.shift(),B,wa);B=K.expr?D.filter(K.expr,K.set)[0]:K.set[0]}if(B){K=G?{expr:ca.pop(),set:ba(G)}:D.find(ca.pop(),ca.length===1&&(ca[0]==="~"||ca[0]==="+")&&B.parentNode?B.parentNode:B,wa);R=K.expr?D.filter(K.expr,K.set):K.set;if(ca.length>0)W=ba(R);else va=false;for(;ca.length;){K=sa=ca.pop();if(I.relative[sa])K=ca.pop();else sa="";if(K==null)K=
B;I.relative[sa](W,K,wa)}}else W=[]}W||(W=R);W||D.error(sa||w);if(v.call(W)==="[object Array]")if(va)if(B&&B.nodeType===1)for(w=0;W[w]!=null;w++){if(W[w]&&(W[w]===true||W[w].nodeType===1&&D.contains(B,W[w])))H.push(R[w])}else for(w=0;W[w]!=null;w++)W[w]&&W[w].nodeType===1&&H.push(R[w]);else H.push.apply(H,W);else ba(W,H);if(ea){D(ea,J,H,G);D.uniqueSort(H)}return H};D.uniqueSort=function(w){if(T){y=E;w.sort(T);if(y)for(var B=1;B<w.length;B++)w[B]===w[B-1]&&w.splice(B--,1)}return w};D.matches=function(w,
B){return D(w,null,null,B)};D.matchesSelector=function(w,B){return D(B,null,null,[w]).length>0};D.find=function(w,B,H){var G;if(!w)return[];for(var J=0,K=I.order.length;J<K;J++){var R,W=I.order[J];if(R=I.leftMatch[W].exec(w)){var ea=R[1];R.splice(1,1);if(ea.substr(ea.length-1)!=="\\"){R[1]=(R[1]||"").replace(/\\/g,"");G=I.find[W](R,B,H);if(G!=null){w=w.replace(I.match[W],"");break}}}}G||(G=B.getElementsByTagName("*"));return{set:G,expr:w}};D.filter=function(w,B,H,G){for(var J,K,R=w,W=[],ea=B,sa=B&&
B[0]&&D.isXML(B[0]);w&&B.length;){for(var va in I.filter)if((J=I.leftMatch[va].exec(w))!=null&&J[2]){var wa,ca,Ea=I.filter[va];ca=J[1];K=false;J.splice(1,1);if(ca.substr(ca.length-1)!=="\\"){if(ea===W)W=[];if(I.preFilter[va])if(J=I.preFilter[va](J,ea,H,W,G,sa)){if(J===true)continue}else K=wa=true;if(J)for(var C=0;(ca=ea[C])!=null;C++)if(ca){wa=Ea(ca,J,C,ea);var O=G^!!wa;if(H&&wa!=null)if(O)K=true;else ea[C]=false;else if(O){W.push(ca);K=true}}if(wa!==b){H||(ea=W);w=w.replace(I.match[va],"");if(!K)return[];
break}}}if(w===R)if(K==null)D.error(w);else break;R=w}return ea};D.error=function(w){throw"Syntax error, unrecognized expression: "+w;};var I=D.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,
POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(w){return w.getAttribute("href")}},relative:{"+":function(w,B){var H=typeof B==="string",G=H&&!/\W/.test(B);H=H&&!G;if(G)B=B.toLowerCase();G=0;for(var J=w.length,K;G<J;G++)if(K=w[G]){for(;(K=K.previousSibling)&&K.nodeType!==1;);w[G]=H||K&&K.nodeName.toLowerCase()===
B?K||false:K===B}H&&D.filter(B,w,true)},">":function(w,B){var H,G=typeof B==="string",J=0,K=w.length;if(G&&!/\W/.test(B))for(B=B.toLowerCase();J<K;J++){if(H=w[J]){H=H.parentNode;w[J]=H.nodeName.toLowerCase()===B?H:false}}else{for(;J<K;J++)if(H=w[J])w[J]=G?H.parentNode:H.parentNode===B;G&&D.filter(B,w,true)}},"":function(w,B,H){var G,J=q++,K=k;if(typeof B==="string"&&!/\W/.test(B)){G=B=B.toLowerCase();K=j}K("parentNode",B,J,w,G,H)},"~":function(w,B,H){var G,J=q++,K=k;if(typeof B==="string"&&!/\W/.test(B)){G=
B=B.toLowerCase();K=j}K("previousSibling",B,J,w,G,H)}},find:{ID:function(w,B,H){if(typeof B.getElementById!=="undefined"&&!H)return(w=B.getElementById(w[1]))&&w.parentNode?[w]:[]},NAME:function(w,B){if(typeof B.getElementsByName!=="undefined"){for(var H=[],G=B.getElementsByName(w[1]),J=0,K=G.length;J<K;J++)G[J].getAttribute("name")===w[1]&&H.push(G[J]);return H.length===0?null:H}},TAG:function(w,B){return B.getElementsByTagName(w[1])}},preFilter:{CLASS:function(w,B,H,G,J,K){w=" "+w[1].replace(/\\/g,
"")+" ";if(K)return w;K=0;for(var R;(R=B[K])!=null;K++)if(R)if(J^(R.className&&(" "+R.className+" ").replace(/[\t\n]/g," ").indexOf(w)>=0))H||G.push(R);else if(H)B[K]=false;return false},ID:function(w){return w[1].replace(/\\/g,"")},TAG:function(w){return w[1].toLowerCase()},CHILD:function(w){if(w[1]==="nth"){var B=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(w[2]==="even"&&"2n"||w[2]==="odd"&&"2n+1"||!/\D/.test(w[2])&&"0n+"+w[2]||w[2]);w[2]=B[1]+(B[2]||1)-0;w[3]=B[3]-0}w[0]=q++;return w},ATTR:function(w,B,H,
G,J,K){B=w[1].replace(/\\/g,"");if(!K&&I.attrMap[B])w[1]=I.attrMap[B];if(w[2]==="~=")w[4]=" "+w[4]+" ";return w},PSEUDO:function(w,B,H,G,J){if(w[1]==="not")if((m.exec(w[3])||"").length>1||/^\w/.test(w[3]))w[3]=D(w[3],null,null,B);else{w=D.filter(w[3],B,H,true^J);H||G.push.apply(G,w);return false}else if(I.match.POS.test(w[0])||I.match.CHILD.test(w[0]))return true;return w},POS:function(w){w.unshift(true);return w}},filters:{enabled:function(w){return w.disabled===false&&w.type!=="hidden"},disabled:function(w){return w.disabled===
true},checked:function(w){return w.checked===true},selected:function(w){return w.selected===true},parent:function(w){return!!w.firstChild},empty:function(w){return!w.firstChild},has:function(w,B,H){return!!D(H[3],w).length},header:function(w){return/h\d/i.test(w.nodeName)},text:function(w){return"text"===w.type},radio:function(w){return"radio"===w.type},checkbox:function(w){return"checkbox"===w.type},file:function(w){return"file"===w.type},password:function(w){return"password"===w.type},submit:function(w){return"submit"===
w.type},image:function(w){return"image"===w.type},reset:function(w){return"reset"===w.type},button:function(w){return"button"===w.type||w.nodeName.toLowerCase()==="button"},input:function(w){return/input|select|textarea|button/i.test(w.nodeName)}},setFilters:{first:function(w,B){return B===0},last:function(w,B,H,G){return B===G.length-1},even:function(w,B){return B%2===0},odd:function(w,B){return B%2===1},lt:function(w,B,H){return B<H[3]-0},gt:function(w,B,H){return B>H[3]-0},nth:function(w,B,H){return H[3]-
0===B},eq:function(w,B,H){return H[3]-0===B}},filter:{PSEUDO:function(w,B,H,G){var J=B[1],K=I.filters[J];if(K)return K(w,H,B,G);else if(J==="contains")return(w.textContent||w.innerText||D.getText([w])||"").indexOf(B[3])>=0;else if(J==="not"){B=B[3];H=0;for(G=B.length;H<G;H++)if(B[H]===w)return false;return true}else D.error("Syntax error, unrecognized expression: "+J)},CHILD:function(w,B){var H=B[1],G=w;switch(H){case "only":case "first":for(;G=G.previousSibling;)if(G.nodeType===1)return false;if(H===
"first")return true;G=w;case "last":for(;G=G.nextSibling;)if(G.nodeType===1)return false;return true;case "nth":H=B[2];var J=B[3];if(H===1&&J===0)return true;var K=B[0],R=w.parentNode;if(R&&(R.sizcache!==K||!w.nodeIndex)){var W=0;for(G=R.firstChild;G;G=G.nextSibling)if(G.nodeType===1)G.nodeIndex=++W;R.sizcache=K}G=w.nodeIndex-J;return H===0?G===0:G%H===0&&G/H>=0}},ID:function(w,B){return w.nodeType===1&&w.getAttribute("id")===B},TAG:function(w,B){return B==="*"&&w.nodeType===1||w.nodeName.toLowerCase()===
B},CLASS:function(w,B){return(" "+(w.className||w.getAttribute("class"))+" ").indexOf(B)>-1},ATTR:function(w,B){var H=B[1];H=I.attrHandle[H]?I.attrHandle[H](w):w[H]!=null?w[H]:w.getAttribute(H);var G=H+"",J=B[2],K=B[4];return H==null?J==="!=":J==="="?G===K:J==="*="?G.indexOf(K)>=0:J==="~="?(" "+G+" ").indexOf(K)>=0:!K?G&&H!==false:J==="!="?G!==K:J==="^="?G.indexOf(K)===0:J==="$="?G.substr(G.length-K.length)===K:J==="|="?G===K||G.substr(0,K.length+1)===K+"-":false},POS:function(w,B,H,G){var J=I.setFilters[B[2]];
if(J)return J(w,H,B,G)}}},V=I.match.POS,N=function(w,B){return"\\"+(B-0+1)},Y;for(Y in I.match){I.match[Y]=RegExp(I.match[Y].source+/(?![^\[]*\])(?![^\(]*\))/.source);I.leftMatch[Y]=RegExp(/(^(?:.|\r|\n)*?)/.source+I.match[Y].source.replace(/\\(\d+)/g,N))}var ba=function(w,B){w=Array.prototype.slice.call(w,0);if(B){B.push.apply(B,w);return B}return w};try{Array.prototype.slice.call(x.documentElement.childNodes,0)}catch(la){ba=function(w,B){var H=0,G=B||[];if(v.call(w)==="[object Array]")Array.prototype.push.apply(G,
w);else if(typeof w.length==="number")for(var J=w.length;H<J;H++)G.push(w[H]);else for(;w[H];H++)G.push(w[H]);return G}}var T,ja;if(x.documentElement.compareDocumentPosition)T=function(w,B){if(w===B){y=true;return 0}if(!w.compareDocumentPosition||!B.compareDocumentPosition)return w.compareDocumentPosition?-1:1;return w.compareDocumentPosition(B)&4?-1:1};else{T=function(w,B){var H,G,J=[],K=[];H=w.parentNode;G=B.parentNode;var R=H;if(w===B){y=true;return 0}else if(H===G)return ja(w,B);else if(H){if(!G)return 1}else return-1;
for(;R;){J.unshift(R);R=R.parentNode}for(R=G;R;){K.unshift(R);R=R.parentNode}H=J.length;G=K.length;for(R=0;R<H&&R<G;R++)if(J[R]!==K[R])return ja(J[R],K[R]);return R===H?ja(w,K[R],-1):ja(J[R],B,1)};ja=function(w,B,H){if(w===B)return H;for(w=w.nextSibling;w;){if(w===B)return-1;w=w.nextSibling}return 1}}D.getText=function(w){for(var B="",H,G=0;w[G];G++){H=w[G];if(H.nodeType===3||H.nodeType===4)B+=H.nodeValue;else if(H.nodeType!==8)B+=D.getText(H.childNodes)}return B};(function(){var w=x.createElement("div"),
B="script"+(new Date).getTime(),H=x.documentElement;w.innerHTML="<a name='"+B+"'/>";H.insertBefore(w,H.firstChild);if(x.getElementById(B)){I.find.ID=function(G,J,K){if(typeof J.getElementById!=="undefined"&&!K)return(J=J.getElementById(G[1]))?J.id===G[1]||typeof J.getAttributeNode!=="undefined"&&J.getAttributeNode("id").nodeValue===G[1]?[J]:b:[]};I.filter.ID=function(G,J){var K=typeof G.getAttributeNode!=="undefined"&&G.getAttributeNode("id");return G.nodeType===1&&K&&K.nodeValue===J}}H.removeChild(w);
H=w=null})();(function(){var w=x.createElement("div");w.appendChild(x.createComment(""));if(w.getElementsByTagName("*").length>0)I.find.TAG=function(B,H){var G=H.getElementsByTagName(B[1]);if(B[1]==="*"){for(var J=[],K=0;G[K];K++)G[K].nodeType===1&&J.push(G[K]);G=J}return G};w.innerHTML="<a href='#'></a>";if(w.firstChild&&typeof w.firstChild.getAttribute!=="undefined"&&w.firstChild.getAttribute("href")!=="#")I.attrHandle.href=function(B){return B.getAttribute("href",2)};w=null})();x.querySelectorAll&&
function(){var w=D,B=x.createElement("div");B.innerHTML="<p class='TEST'></p>";if(!(B.querySelectorAll&&B.querySelectorAll(".TEST").length===0)){D=function(G,J,K,R){J=J||x;G=G.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!R&&!D.isXML(J))if(J.nodeType===9)try{return ba(J.querySelectorAll(G),K)}catch(W){}else if(J.nodeType===1&&J.nodeName.toLowerCase()!=="object"){var ea=J.getAttribute("id"),sa=ea||"__sizzle__";ea||J.setAttribute("id",sa);try{return ba(J.querySelectorAll("#"+sa+" "+G),K)}catch(va){}finally{ea||
J.removeAttribute("id")}}return w(G,J,K,R)};for(var H in w)D[H]=w[H];B=null}}();(function(){var w=x.documentElement,B=w.matchesSelector||w.mozMatchesSelector||w.webkitMatchesSelector||w.msMatchesSelector,H=false;try{B.call(x.documentElement,"[test!='']:sizzle")}catch(G){H=true}if(B)D.matchesSelector=function(J,K){K=K.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!D.isXML(J))try{if(H||!I.match.PSEUDO.test(K)&&!/!=/.test(K))return B.call(J,K)}catch(R){}return D(K,null,null,[J]).length>0}})();(function(){var w=
x.createElement("div");w.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!w.getElementsByClassName||w.getElementsByClassName("e").length===0)){w.lastChild.className="e";if(w.getElementsByClassName("e").length!==1){I.order.splice(1,0,"CLASS");I.find.CLASS=function(B,H,G){if(typeof H.getElementsByClassName!=="undefined"&&!G)return H.getElementsByClassName(B[1])};w=null}}})();D.contains=x.documentElement.contains?function(w,B){return w!==B&&(w.contains?w.contains(B):true)}:x.documentElement.compareDocumentPosition?
function(w,B){return!!(w.compareDocumentPosition(B)&16)}:function(){return false};D.isXML=function(w){return(w=(w?w.ownerDocument||w:0).documentElement)?w.nodeName!=="HTML":false};var ra=function(w,B){for(var H,G=[],J="",K=B.nodeType?[B]:B;H=I.match.PSEUDO.exec(w);){J+=H[0];w=w.replace(I.match.PSEUDO,"")}w=I.relative[w]?w+"*":w;H=0;for(var R=K.length;H<R;H++)D(w,K[H],G);return D.filter(J,G)};h.find=D;h.expr=D.selectors;h.expr[":"]=h.expr.filters;h.unique=D.uniqueSort;h.text=D.getText;h.isXMLDoc=D.isXML;
h.contains=D.contains})();var Ha=/Until$/,db=/^(?:parents|prevUntil|prevAll)/,eb=/,/,$a=/^.[^:#\[\.,]*$/,fb=Array.prototype.slice,gb=h.expr.match.POS;h.fn.extend({find:function(j){for(var k=this.pushStack("","find",j),m=0,q=0,v=this.length;q<v;q++){m=k.length;h.find(j,this[q],k);if(q>0)for(var y=m;y<k.length;y++)for(var E=0;E<m;E++)if(k[E]===k[y]){k.splice(y--,1);break}}return k},has:function(j){var k=h(j);return this.filter(function(){for(var m=0,q=k.length;m<q;m++)if(h.contains(this,k[m]))return true})},
not:function(j){return this.pushStack(n(this,j,false),"not",j)},filter:function(j){return this.pushStack(n(this,j,true),"filter",j)},is:function(j){return!!j&&h.filter(j,this).length>0},closest:function(j,k){var m=[],q,v,y=this[0];if(h.isArray(j)){var E,D={},I=1;if(y&&j.length){q=0;for(v=j.length;q<v;q++){E=j[q];D[E]||(D[E]=h.expr.match.POS.test(E)?h(E,k||this.context):E)}for(;y&&y.ownerDocument&&y!==k;){for(E in D){q=D[E];if(q.jquery?q.index(y)>-1:h(y).is(q))m.push({selector:E,elem:y,level:I})}y=
y.parentNode;I++}}return m}E=gb.test(j)?h(j,k||this.context):null;q=0;for(v=this.length;q<v;q++)for(y=this[q];y;)if(E?E.index(y)>-1:h.find.matchesSelector(y,j)){m.push(y);break}else{y=y.parentNode;if(!y||!y.ownerDocument||y===k)break}m=m.length>1?h.unique(m):m;return this.pushStack(m,"closest",j)},index:function(j){if(!j||typeof j==="string")return h.inArray(this[0],j?h(j):this.parent().children());return h.inArray(j.jquery?j[0]:j,this)},add:function(j,k){var m=typeof j==="string"?h(j,k||this.context):
h.makeArray(j),q=h.merge(this.get(),m);return this.pushStack(!m[0]||!m[0].parentNode||m[0].parentNode.nodeType===11||!q[0]||!q[0].parentNode||q[0].parentNode.nodeType===11?q:h.unique(q))},andSelf:function(){return this.add(this.prevObject)}});h.each({parent:function(j){return(j=j.parentNode)&&j.nodeType!==11?j:null},parents:function(j){return h.dir(j,"parentNode")},parentsUntil:function(j,k,m){return h.dir(j,"parentNode",m)},next:function(j){return h.nth(j,2,"nextSibling")},prev:function(j){return h.nth(j,
2,"previousSibling")},nextAll:function(j){return h.dir(j,"nextSibling")},prevAll:function(j){return h.dir(j,"previousSibling")},nextUntil:function(j,k,m){return h.dir(j,"nextSibling",m)},prevUntil:function(j,k,m){return h.dir(j,"previousSibling",m)},siblings:function(j){return h.sibling(j.parentNode.firstChild,j)},children:function(j){return h.sibling(j.firstChild)},contents:function(j){return h.nodeName(j,"iframe")?j.contentDocument||j.contentWindow.document:h.makeArray(j.childNodes)}},function(j,
k){h.fn[j]=function(m,q){var v=h.map(this,k,m);Ha.test(j)||(q=m);if(q&&typeof q==="string")v=h.filter(q,v);v=this.length>1?h.unique(v):v;if((this.length>1||eb.test(q))&&db.test(j))v=v.reverse();return this.pushStack(v,j,fb.call(arguments).join(","))}});h.extend({filter:function(j,k,m){if(m)j=":not("+j+")";return k.length===1?h.find.matchesSelector(k[0],j)?[k[0]]:[]:h.find.matches(j,k)},dir:function(j,k,m){var q=[];for(j=j[k];j&&j.nodeType!==9&&(m===b||j.nodeType!==1||!h(j).is(m));){j.nodeType===1&&
q.push(j);j=j[k]}return q},nth:function(j,k,m){k=k||1;for(var q=0;j;j=j[m])if(j.nodeType===1&&++q===k)break;return j},sibling:function(j,k){for(var m=[];j;j=j.nextSibling)j.nodeType===1&&j!==k&&m.push(j);return m}});var Qa=/ jQuery\d+="(?:\d+|null)"/g,Ja=/^\s+/,Ra=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Sa=/<([\w:]+)/,hb=/<tbody/i,ib=/<|&#?\w+;/,Ta=/<(?:script|object|embed|option|style)/i,Ua=/checked\s*(?:[^=]|=\s*.checked.)/i,jb=/\=([^="'>\s]+\/)>/g,xa={option:[1,
"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};xa.optgroup=xa.option;xa.tbody=xa.tfoot=xa.colgroup=xa.caption=xa.thead;xa.th=xa.td;if(!h.support.htmlSerialize)xa._default=[1,"div<div>","</div>"];h.fn.extend({text:function(j){if(h.isFunction(j))return this.each(function(k){var m=
h(this);m.text(j.call(this,k,m.text()))});if(typeof j!=="object"&&j!==b)return this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(j));return h.text(this)},wrapAll:function(j){if(h.isFunction(j))return this.each(function(m){h(this).wrapAll(j.call(this,m))});if(this[0]){var k=h(j,this[0].ownerDocument).eq(0).clone(true);this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var m=this;m.firstChild&&m.firstChild.nodeType===1;)m=m.firstChild;return m}).append(this)}return this},
wrapInner:function(j){if(h.isFunction(j))return this.each(function(k){h(this).wrapInner(j.call(this,k))});return this.each(function(){var k=h(this),m=k.contents();m.length?m.wrapAll(j):k.append(j)})},wrap:function(j){return this.each(function(){h(this).wrapAll(j)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(j){this.nodeType===1&&this.appendChild(j)})},
prepend:function(){return this.domManip(arguments,true,function(j){this.nodeType===1&&this.insertBefore(j,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,this)});else if(arguments.length){var j=h(arguments[0]);j.push.apply(j,this.toArray());return this.pushStack(j,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,
this.nextSibling)});else if(arguments.length){var j=this.pushStack(this,"after",arguments);j.push.apply(j,h(arguments[0]).toArray());return j}},remove:function(j,k){for(var m=0,q;(q=this[m])!=null;m++)if(!j||h.filter(j,[q]).length){if(!k&&q.nodeType===1){h.cleanData(q.getElementsByTagName("*"));h.cleanData([q])}q.parentNode&&q.parentNode.removeChild(q)}return this},empty:function(){for(var j=0,k;(k=this[j])!=null;j++)for(k.nodeType===1&&h.cleanData(k.getElementsByTagName("*"));k.firstChild;)k.removeChild(k.firstChild);
return this},clone:function(j){var k=this.map(function(){if(!h.support.noCloneEvent&&!h.isXMLDoc(this)){var m=this.outerHTML,q=this.ownerDocument;if(!m){m=q.createElement("div");m.appendChild(this.cloneNode(true));m=m.innerHTML}return h.clean([m.replace(Qa,"").replace(jb,'="$1">').replace(Ja,"")],q)[0]}else return this.cloneNode(true)});if(j===true){o(this,k);o(this.find("*"),k.find("*"))}return k},html:function(j){if(j===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(Qa,""):null;
else if(typeof j==="string"&&!Ta.test(j)&&(h.support.leadingWhitespace||!Ja.test(j))&&!xa[(Sa.exec(j)||["",""])[1].toLowerCase()]){j=j.replace(Ra,"<$1></$2>");try{for(var k=0,m=this.length;k<m;k++)if(this[k].nodeType===1){h.cleanData(this[k].getElementsByTagName("*"));this[k].innerHTML=j}}catch(q){this.empty().append(j)}}else h.isFunction(j)?this.each(function(v){var y=h(this);y.html(j.call(this,v,y.html()))}):this.empty().append(j);return this},replaceWith:function(j){if(this[0]&&this[0].parentNode){if(h.isFunction(j))return this.each(function(k){var m=
h(this),q=m.html();m.replaceWith(j.call(this,k,q))});if(typeof j!=="string")j=h(j).detach();return this.each(function(){var k=this.nextSibling,m=this.parentNode;h(this).remove();k?h(k).before(j):h(m).append(j)})}else return this.pushStack(h(h.isFunction(j)?j():j),"replaceWith",j)},detach:function(j){return this.remove(j,true)},domManip:function(j,k,m){var q,v,y,E=j[0],D=[];if(!h.support.checkClone&&arguments.length===3&&typeof E==="string"&&Ua.test(E))return this.each(function(){h(this).domManip(j,
k,m,true)});if(h.isFunction(E))return this.each(function(V){var N=h(this);j[0]=E.call(this,V,k?N.html():b);N.domManip(j,k,m)});if(this[0]){q=E&&E.parentNode;q=h.support.parentNode&&q&&q.nodeType===11&&q.childNodes.length===this.length?{fragment:q}:h.buildFragment(j,this,D);y=q.fragment;if(v=y.childNodes.length===1?y=y.firstChild:y.firstChild){k=k&&h.nodeName(v,"tr");v=0;for(var I=this.length;v<I;v++)m.call(k?h.nodeName(this[v],"table")?this[v].getElementsByTagName("tbody")[0]||this[v].appendChild(this[v].ownerDocument.createElement("tbody")):
this[v]:this[v],v>0||q.cacheable||this.length>1?y.cloneNode(true):y)}D.length&&h.each(D,u)}return this}});h.buildFragment=function(j,k,m){var q,v,y;k=k&&k[0]?k[0].ownerDocument||k[0]:x;if(j.length===1&&typeof j[0]==="string"&&j[0].length<512&&k===x&&!Ta.test(j[0])&&(h.support.checkClone||!Ua.test(j[0]))){v=true;if(y=h.fragments[j[0]])if(y!==1)q=y}if(!q){q=k.createDocumentFragment();h.clean(j,k,q,m)}if(v)h.fragments[j[0]]=y?q:1;return{fragment:q,cacheable:v}};h.fragments={};h.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(j,k){h.fn[j]=function(m){var q=[];m=h(m);var v=this.length===1&&this[0].parentNode;if(v&&v.nodeType===11&&v.childNodes.length===1&&m.length===1){m[k](this[0]);return this}else{v=0;for(var y=m.length;v<y;v++){var E=(v>0?this.clone(true):this).get();h(m[v])[k](E);q=q.concat(E)}return this.pushStack(q,j,m.selector)}}});h.extend({clean:function(j,k,m,q){k=k||x;if(typeof k.createElement==="undefined")k=k.ownerDocument||
k[0]&&k[0].ownerDocument||x;for(var v=[],y=0,E;(E=j[y])!=null;y++){if(typeof E==="number")E+="";if(E){if(typeof E==="string"&&!ib.test(E))E=k.createTextNode(E);else if(typeof E==="string"){E=E.replace(Ra,"<$1></$2>");var D=(Sa.exec(E)||["",""])[1].toLowerCase(),I=xa[D]||xa._default,V=I[0],N=k.createElement("div");for(N.innerHTML=I[1]+E+I[2];V--;)N=N.lastChild;if(!h.support.tbody){V=hb.test(E);D=D==="table"&&!V?N.firstChild&&N.firstChild.childNodes:I[1]==="<table>"&&!V?N.childNodes:[];for(I=D.length-
1;I>=0;--I)h.nodeName(D[I],"tbody")&&!D[I].childNodes.length&&D[I].parentNode.removeChild(D[I])}!h.support.leadingWhitespace&&Ja.test(E)&&N.insertBefore(k.createTextNode(Ja.exec(E)[0]),N.firstChild);E=N.childNodes}if(E.nodeType)v.push(E);else v=h.merge(v,E)}}if(m)for(y=0;v[y];y++)if(q&&h.nodeName(v[y],"script")&&(!v[y].type||v[y].type.toLowerCase()==="text/javascript"))q.push(v[y].parentNode?v[y].parentNode.removeChild(v[y]):v[y]);else{v[y].nodeType===1&&v.splice.apply(v,[y+1,0].concat(h.makeArray(v[y].getElementsByTagName("script"))));
m.appendChild(v[y])}return v},cleanData:function(j){for(var k,m,q=h.cache,v=h.event.special,y=h.support.deleteExpando,E=0,D;(D=j[E])!=null;E++)if(!(D.nodeName&&h.noData[D.nodeName.toLowerCase()]))if(m=D[h.expando]){if((k=q[m])&&k.events)for(var I in k.events)v[I]?h.event.remove(D,I):h.removeEvent(D,I,k.handle);if(y)delete D[h.expando];else D.removeAttribute&&D.removeAttribute(h.expando);delete q[m]}}});var Va=/alpha\([^)]*\)/i,kb=/opacity=([^)]*)/,lb=/-([a-z])/ig,mb=/([A-Z])/g,Wa=/^-?\d+(?:px)?$/i,
nb=/^-?\d/,ob={position:"absolute",visibility:"hidden",display:"block"},ab=["Left","Right"],bb=["Top","Bottom"],Ia,Xa,Ka,pb=function(j,k){return k.toUpperCase()};h.fn.css=function(j,k){if(arguments.length===2&&k===b)return this;return h.access(this,j,k,true,function(m,q,v){return v!==b?h.style(m,q,v):h.css(m,q)})};h.extend({cssHooks:{opacity:{get:function(j,k){if(k){var m=Ia(j,"opacity","opacity");return m===""?"1":m}else return j.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,
zoom:true,lineHeight:true},cssProps:{"float":h.support.cssFloat?"cssFloat":"styleFloat"},style:function(j,k,m,q){if(!(!j||j.nodeType===3||j.nodeType===8||!j.style)){var v,y=h.camelCase(k),E=j.style,D=h.cssHooks[y];k=h.cssProps[y]||y;if(m!==b){if(!(typeof m==="number"&&isNaN(m)||m==null)){if(typeof m==="number"&&!h.cssNumber[y])m+="px";if(!D||!("set"in D)||(m=D.set(j,m))!==b)try{E[k]=m}catch(I){}}}else{if(D&&"get"in D&&(v=D.get(j,false,q))!==b)return v;return E[k]}}},css:function(j,k,m){var q,v=h.camelCase(k),
y=h.cssHooks[v];k=h.cssProps[v]||v;if(y&&"get"in y&&(q=y.get(j,true,m))!==b)return q;else if(Ia)return Ia(j,k,v)},swap:function(j,k,m){var q={},v;for(v in k){q[v]=j.style[v];j.style[v]=k[v]}m.call(j);for(v in k)j.style[v]=q[v]},camelCase:function(j){return j.replace(lb,pb)}});h.curCSS=h.css;h.each(["height","width"],function(j,k){h.cssHooks[k]={get:function(m,q,v){var y;if(q){if(m.offsetWidth!==0)y=r(m,k,v);else h.swap(m,ob,function(){y=r(m,k,v)});if(y<=0){y=Ia(m,k,k);if(y==="0px"&&Ka)y=Ka(m,k,k);
if(y!=null)return y===""||y==="auto"?"0px":y}if(y<0||y==null){y=m.style[k];return y===""||y==="auto"?"0px":y}return typeof y==="string"?y:y+"px"}},set:function(m,q){if(Wa.test(q)){q=parseFloat(q);if(q>=0)return q+"px"}else return q}}});if(!h.support.opacity)h.cssHooks.opacity={get:function(j,k){return kb.test((k&&j.currentStyle?j.currentStyle.filter:j.style.filter)||"")?parseFloat(RegExp.$1)/100+"":k?"1":""},set:function(j,k){var m=j.style;m.zoom=1;var q=h.isNaN(k)?"":"alpha(opacity="+k*100+")",v=
m.filter||"";m.filter=Va.test(v)?v.replace(Va,q):m.filter+" "+q}};if(x.defaultView&&x.defaultView.getComputedStyle)Xa=function(j,k,m){var q;m=m.replace(mb,"-$1").toLowerCase();if(!(k=j.ownerDocument.defaultView))return b;if(k=k.getComputedStyle(j,null)){q=k.getPropertyValue(m);if(q===""&&!h.contains(j.ownerDocument.documentElement,j))q=h.style(j,m)}return q};if(x.documentElement.currentStyle)Ka=function(j,k){var m,q,v=j.currentStyle&&j.currentStyle[k],y=j.style;if(!Wa.test(v)&&nb.test(v)){m=y.left;
q=j.runtimeStyle.left;j.runtimeStyle.left=j.currentStyle.left;y.left=k==="fontSize"?"1em":v||0;v=y.pixelLeft+"px";y.left=m;j.runtimeStyle.left=q}return v===""?"auto":v};Ia=Xa||Ka;if(h.expr&&h.expr.filters){h.expr.filters.hidden=function(j){var k=j.offsetHeight;return j.offsetWidth===0&&k===0||!h.support.reliableHiddenOffsets&&(j.style.display||h.css(j,"display"))==="none"};h.expr.filters.visible=function(j){return!h.expr.filters.hidden(j)}}var qb=h.now(),rb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
sb=/^(?:select|textarea)/i,tb=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,ub=/^(?:GET|HEAD)$/,cb=/\[\]$/,Fa=/\=\?(&|$)/,Oa=/\?/,vb=/([?&])_=[^&]*/,wb=/^(\w+:)?\/\/([^\/?#]+)/,xb=/%20/g,yb=/#.*$/,Ya=h.fn.load;h.fn.extend({load:function(j,k,m){if(typeof j!=="string"&&Ya)return Ya.apply(this,arguments);else if(!this.length)return this;var q=j.indexOf(" ");if(q>=0){var v=j.slice(q,j.length);j=j.slice(0,q)}q="GET";if(k)if(h.isFunction(k)){m=k;k=null}else if(typeof k===
"object"){k=h.param(k,h.ajaxSettings.traditional);q="POST"}var y=this;h.ajax({url:j,type:q,dataType:"html",data:k,complete:function(E,D){if(D==="success"||D==="notmodified")y.html(v?h("<div>").append(E.responseText.replace(rb,"")).find(v):E.responseText);m&&y.each(m,[E.responseText,D,E])}});return this},serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?h.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||sb.test(this.nodeName)||tb.test(this.type))}).map(function(j,k){var m=h(this).val();return m==null?null:h.isArray(m)?h.map(m,function(q){return{name:k.name,value:q}}):{name:k.name,value:m}}).get()}});h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(j,k){h.fn[k]=function(m){return this.bind(k,m)}});h.extend({get:function(j,k,m,q){if(h.isFunction(k)){q=q||m;m=k;k=null}return h.ajax({type:"GET",url:j,data:k,success:m,dataType:q})},
getScript:function(j,k){return h.get(j,null,k,"script")},getJSON:function(j,k,m){return h.get(j,k,m,"json")},post:function(j,k,m,q){if(h.isFunction(k)){q=q||m;m=k;k={}}return h.ajax({type:"POST",url:j,data:k,success:m,dataType:q})},ajaxSetup:function(j){h.extend(h.ajaxSettings,j)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new a.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",
script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(j){var k=h.extend(true,{},h.ajaxSettings,j),m,q,v,y=k.type.toUpperCase(),E=ub.test(y);k.url=k.url.replace(yb,"");k.context=j&&j.context!=null?j.context:k;if(k.data&&k.processData&&typeof k.data!=="string")k.data=h.param(k.data,k.traditional);if(k.dataType==="jsonp"){if(y==="GET")Fa.test(k.url)||(k.url+=(Oa.test(k.url)?"&":"?")+(k.jsonp||"callback")+"=?");else if(!k.data||
!Fa.test(k.data))k.data=(k.data?k.data+"&":"")+(k.jsonp||"callback")+"=?";k.dataType="json"}if(k.dataType==="json"&&(k.data&&Fa.test(k.data)||Fa.test(k.url))){m=k.jsonpCallback||"jsonp"+qb++;if(k.data)k.data=(k.data+"").replace(Fa,"="+m+"$1");k.url=k.url.replace(Fa,"="+m+"$1");k.dataType="script";var D=a[m];a[m]=function(G){if(h.isFunction(D))D(G);else{a[m]=b;try{delete a[m]}catch(J){}}v=G;h.handleSuccess(k,T,q,v);h.handleComplete(k,T,q,v);N&&N.removeChild(Y)}}if(k.dataType==="script"&&k.cache===
null)k.cache=false;if(k.cache===false&&E){var I=h.now(),V=k.url.replace(vb,"$1_="+I);k.url=V+(V===k.url?(Oa.test(k.url)?"&":"?")+"_="+I:"")}if(k.data&&E)k.url+=(Oa.test(k.url)?"&":"?")+k.data;k.global&&h.active++===0&&h.event.trigger("ajaxStart");I=(I=wb.exec(k.url))&&(I[1]&&I[1].toLowerCase()!==location.protocol||I[2].toLowerCase()!==location.host);if(k.dataType==="script"&&y==="GET"&&I){var N=x.getElementsByTagName("head")[0]||x.documentElement,Y=x.createElement("script");if(k.scriptCharset)Y.charset=
k.scriptCharset;Y.src=k.url;if(!m){var ba=false;Y.onload=Y.onreadystatechange=function(){if(!ba&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ba=true;h.handleSuccess(k,T,q,v);h.handleComplete(k,T,q,v);Y.onload=Y.onreadystatechange=null;N&&Y.parentNode&&N.removeChild(Y)}}}N.insertBefore(Y,N.firstChild);return b}var la=false,T=k.xhr();if(T){k.username?T.open(y,k.url,k.async,k.username,k.password):T.open(y,k.url,k.async);try{if(k.data!=null&&!E||j&&j.contentType)T.setRequestHeader("Content-Type",
k.contentType);if(k.ifModified){h.lastModified[k.url]&&T.setRequestHeader("If-Modified-Since",h.lastModified[k.url]);h.etag[k.url]&&T.setRequestHeader("If-None-Match",h.etag[k.url])}I||T.setRequestHeader("X-Requested-With","XMLHttpRequest");T.setRequestHeader("Accept",k.dataType&&k.accepts[k.dataType]?k.accepts[k.dataType]+", */*; q=0.01":k.accepts._default)}catch(ja){}if(k.beforeSend&&k.beforeSend.call(k.context,T,k)===false){k.global&&h.active--===1&&h.event.trigger("ajaxStop");T.abort();return false}k.global&&
h.triggerGlobal(k,"ajaxSend",[T,k]);var ra=T.onreadystatechange=function(G){if(!T||T.readyState===0||G==="abort"){la||h.handleComplete(k,T,q,v);la=true;if(T)T.onreadystatechange=h.noop}else if(!la&&T&&(T.readyState===4||G==="timeout")){la=true;T.onreadystatechange=h.noop;q=G==="timeout"?"timeout":!h.httpSuccess(T)?"error":k.ifModified&&h.httpNotModified(T,k.url)?"notmodified":"success";var J;if(q==="success")try{v=h.httpData(T,k.dataType,k)}catch(K){q="parsererror";J=K}if(q==="success"||q==="notmodified")m||
h.handleSuccess(k,T,q,v);else h.handleError(k,T,q,J);m||h.handleComplete(k,T,q,v);G==="timeout"&&T.abort();if(k.async)T=null}};try{var w=T.abort;T.abort=function(){T&&Function.prototype.call.call(w,T);ra("abort")}}catch(B){}k.async&&k.timeout>0&&setTimeout(function(){T&&!la&&ra("timeout")},k.timeout);try{T.send(E||k.data==null?null:k.data)}catch(H){h.handleError(k,T,null,H);h.handleComplete(k,T,q,v)}k.async||ra();return T}},param:function(j,k){var m=[],q=function(y,E){E=h.isFunction(E)?E():E;m[m.length]=
encodeURIComponent(y)+"="+encodeURIComponent(E)};if(k===b)k=h.ajaxSettings.traditional;if(h.isArray(j)||j.jquery)h.each(j,function(){q(this.name,this.value)});else for(var v in j)p(v,j[v],k,q);return m.join("&").replace(xb,"+")}});h.extend({active:0,lastModified:{},etag:{},handleError:function(j,k,m,q){j.error&&j.error.call(j.context,k,m,q);j.global&&h.triggerGlobal(j,"ajaxError",[k,j,q])},handleSuccess:function(j,k,m,q){j.success&&j.success.call(j.context,q,m,k);j.global&&h.triggerGlobal(j,"ajaxSuccess",
[k,j])},handleComplete:function(j,k,m){j.complete&&j.complete.call(j.context,k,m);j.global&&h.triggerGlobal(j,"ajaxComplete",[k,j]);j.global&&h.active--===1&&h.event.trigger("ajaxStop")},triggerGlobal:function(j,k,m){(j.context&&j.context.url==null?h(j.context):h.event).trigger(k,m)},httpSuccess:function(j){try{return!j.status&&location.protocol==="file:"||j.status>=200&&j.status<300||j.status===304||j.status===1223}catch(k){}return false},httpNotModified:function(j,k){var m=j.getResponseHeader("Last-Modified"),
q=j.getResponseHeader("Etag");if(m)h.lastModified[k]=m;if(q)h.etag[k]=q;return j.status===304},httpData:function(j,k,m){var q=j.getResponseHeader("content-type")||"",v=k==="xml"||!k&&q.indexOf("xml")>=0;j=v?j.responseXML:j.responseText;v&&j.documentElement.nodeName==="parsererror"&&h.error("parsererror");if(m&&m.dataFilter)j=m.dataFilter(j,k);if(typeof j==="string")if(k==="json"||!k&&q.indexOf("json")>=0)j=h.parseJSON(j);else if(k==="script"||!k&&q.indexOf("javascript")>=0)h.globalEval(j);return j}});
if(a.ActiveXObject)h.ajaxSettings.xhr=function(){if(a.location.protocol!=="file:")try{return new a.XMLHttpRequest}catch(j){}try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(k){}};h.support.ajax=!!h.ajaxSettings.xhr();var Ma={},zb=/^(?:toggle|show|hide)$/,Ab=/^([+\-]=)?([\d+.\-]+)(.*)$/,La,Pa=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];h.fn.extend({show:function(j,k,m){if(j||j===0)return this.animate(s("show",
3),j,k,m);else{m=0;for(var q=this.length;m<q;m++){j=this[m];k=j.style.display;if(!h.data(j,"olddisplay")&&k==="none")k=j.style.display="";k===""&&h.css(j,"display")==="none"&&h.data(j,"olddisplay",z(j.nodeName))}for(m=0;m<q;m++){j=this[m];k=j.style.display;if(k===""||k==="none")j.style.display=h.data(j,"olddisplay")||""}return this}},hide:function(j,k,m){if(j||j===0)return this.animate(s("hide",3),j,k,m);else{j=0;for(k=this.length;j<k;j++){m=h.css(this[j],"display");m!=="none"&&h.data(this[j],"olddisplay",
m)}for(j=0;j<k;j++)this[j].style.display="none";return this}},_toggle:h.fn.toggle,toggle:function(j,k,m){var q=typeof j==="boolean";if(h.isFunction(j)&&h.isFunction(k))this._toggle.apply(this,arguments);else j==null||q?this.each(function(){var v=q?j:h(this).is(":hidden");h(this)[v?"show":"hide"]()}):this.animate(s("toggle",3),j,k,m);return this},fadeTo:function(j,k,m,q){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:k},j,m,q)},animate:function(j,k,m,q){var v=h.speed(k,
m,q);if(h.isEmptyObject(j))return this.each(v.complete);return this[v.queue===false?"each":"queue"](function(){var y=h.extend({},v),E,D=this.nodeType===1,I=D&&h(this).is(":hidden"),V=this;for(E in j){var N=h.camelCase(E);if(E!==N){j[N]=j[E];delete j[E];E=N}if(j[E]==="hide"&&I||j[E]==="show"&&!I)return y.complete.call(this);if(D&&(E==="height"||E==="width")){y.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(h.css(this,"display")==="inline"&&h.css(this,"float")==="none")if(h.support.inlineBlockNeedsLayout)if(z(this.nodeName)===
"inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(h.isArray(j[E])){(y.specialEasing=y.specialEasing||{})[E]=j[E][1];j[E]=j[E][0]}}if(y.overflow!=null)this.style.overflow="hidden";y.curAnim=h.extend({},j);h.each(j,function(Y,ba){var la=new h.fx(V,y,Y);if(zb.test(ba))la[ba==="toggle"?I?"show":"hide":ba](j);else{var T=Ab.exec(ba),ja=la.cur()||0;if(T){var ra=parseFloat(T[2]),w=T[3]||"px";if(w!=="px"){h.style(V,Y,(ra||
1)+w);ja=(ra||1)/la.cur()*ja;h.style(V,Y,ja+w)}if(T[1])ra=(T[1]==="-="?-1:1)*ra+ja;la.custom(ja,ra,w)}else la.custom(ja,ba,"")}});return true})},stop:function(j,k){var m=h.timers;j&&this.queue([]);this.each(function(){for(var q=m.length-1;q>=0;q--)if(m[q].elem===this){k&&m[q](true);m.splice(q,1)}});k||this.dequeue();return this}});h.each({slideDown:s("show",1),slideUp:s("hide",1),slideToggle:s("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(j,k){h.fn[j]=
function(m,q,v){return this.animate(k,m,q,v)}});h.extend({speed:function(j,k,m){var q=j&&typeof j==="object"?h.extend({},j):{complete:m||!m&&k||h.isFunction(j)&&j,duration:j,easing:m&&k||k&&!h.isFunction(k)&&k};q.duration=h.fx.off?0:typeof q.duration==="number"?q.duration:q.duration in h.fx.speeds?h.fx.speeds[q.duration]:h.fx.speeds._default;q.old=q.complete;q.complete=function(){q.queue!==false&&h(this).dequeue();h.isFunction(q.old)&&q.old.call(this)};return q},easing:{linear:function(j,k,m,q){return m+
q*j},swing:function(j,k,m,q){return(-Math.cos(j*Math.PI)/2+0.5)*q+m}},timers:[],fx:function(j,k,m){this.options=k;this.elem=j;this.prop=m;if(!k.orig)k.orig={}}});h.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(h.fx.step[this.prop]||h.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var j=parseFloat(h.css(this.elem,this.prop));return j&&j>-1E4?
j:0},custom:function(j,k,m){function q(E){return v.step(E)}var v=this,y=h.fx;this.startTime=h.now();this.start=j;this.end=k;this.unit=m||this.unit||"px";this.now=this.start;this.pos=this.state=0;q.elem=this.elem;if(q()&&h.timers.push(q)&&!La)La=setInterval(y.tick,y.interval)},show:function(){this.options.orig[this.prop]=h.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur());h(this.elem).show()},hide:function(){this.options.orig[this.prop]=
h.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(j){var k=h.now(),m=true;if(j||k>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var q in this.options.curAnim)if(this.options.curAnim[q]!==true)m=false;if(m){if(this.options.overflow!=null&&!h.support.shrinkWrapBlocks){var v=this.elem,y=this.options;h.each(["","X","Y"],function(D,I){v.style["overflow"+I]=y.overflow[D]})}this.options.hide&&
h(this.elem).hide();if(this.options.hide||this.options.show)for(var E in this.options.curAnim)h.style(this.elem,E,this.options.orig[E]);this.options.complete.call(this.elem)}return false}else{j=k-this.startTime;this.state=j/this.options.duration;k=this.options.easing||(h.easing.swing?"swing":"linear");this.pos=h.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||k](this.state,j,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};
h.extend(h.fx,{tick:function(){for(var j=h.timers,k=0;k<j.length;k++)j[k]()||j.splice(k--,1);j.length||h.fx.stop()},interval:13,stop:function(){clearInterval(La);La=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(j){h.style(j.elem,"opacity",j.now)},_default:function(j){if(j.elem.style&&j.elem.style[j.prop]!=null)j.elem.style[j.prop]=(j.prop==="width"||j.prop==="height"?Math.max(0,j.now):j.now)+j.unit;else j.elem[j.prop]=j.now}}});if(h.expr&&h.expr.filters)h.expr.filters.animated=
function(j){return h.grep(h.timers,function(k){return j===k.elem}).length};var Bb=/^t(?:able|d|h)$/i,Za=/^(?:body|html)$/i;h.fn.offset="getBoundingClientRect"in x.documentElement?function(j){var k=this[0],m;if(j)return this.each(function(E){h.offset.setOffset(this,j,E)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return h.offset.bodyOffset(k);try{m=k.getBoundingClientRect()}catch(q){}var v=k.ownerDocument,y=v.documentElement;if(!m||!h.contains(y,k))return m||{top:0,left:0};k=
v.body;v=A(v);return{top:m.top+(v.pageYOffset||h.support.boxModel&&y.scrollTop||k.scrollTop)-(y.clientTop||k.clientTop||0),left:m.left+(v.pageXOffset||h.support.boxModel&&y.scrollLeft||k.scrollLeft)-(y.clientLeft||k.clientLeft||0)}}:function(j){var k=this[0];if(j)return this.each(function(V){h.offset.setOffset(this,j,V)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return h.offset.bodyOffset(k);h.offset.initialize();var m,q=k.offsetParent,v=k.ownerDocument,y=v.documentElement,
E=v.body;m=(v=v.defaultView)?v.getComputedStyle(k,null):k.currentStyle;for(var D=k.offsetTop,I=k.offsetLeft;(k=k.parentNode)&&k!==E&&k!==y;){if(h.offset.supportsFixedPosition&&m.position==="fixed")break;m=v?v.getComputedStyle(k,null):k.currentStyle;D-=k.scrollTop;I-=k.scrollLeft;if(k===q){D+=k.offsetTop;I+=k.offsetLeft;if(h.offset.doesNotAddBorder&&!(h.offset.doesAddBorderForTableAndCells&&Bb.test(k.nodeName))){D+=parseFloat(m.borderTopWidth)||0;I+=parseFloat(m.borderLeftWidth)||0}q=k.offsetParent}if(h.offset.subtractsBorderForOverflowNotVisible&&
m.overflow!=="visible"){D+=parseFloat(m.borderTopWidth)||0;I+=parseFloat(m.borderLeftWidth)||0}m=m}if(m.position==="relative"||m.position==="static"){D+=E.offsetTop;I+=E.offsetLeft}if(h.offset.supportsFixedPosition&&m.position==="fixed"){D+=Math.max(y.scrollTop,E.scrollTop);I+=Math.max(y.scrollLeft,E.scrollLeft)}return{top:D,left:I}};h.offset={initialize:function(){var j=x.body,k=x.createElement("div"),m,q,v,y=parseFloat(h.css(j,"marginTop"))||0;h.extend(k.style,{position:"absolute",top:0,left:0,
margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});k.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";j.insertBefore(k,j.firstChild);m=k.firstChild;q=m.firstChild;v=m.nextSibling.firstChild.firstChild;this.doesNotAddBorder=q.offsetTop!==
5;this.doesAddBorderForTableAndCells=v.offsetTop===5;q.style.position="fixed";q.style.top="20px";this.supportsFixedPosition=q.offsetTop===20||q.offsetTop===15;q.style.position=q.style.top="";m.style.overflow="hidden";m.style.position="relative";this.subtractsBorderForOverflowNotVisible=q.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=j.offsetTop!==y;j.removeChild(k);h.offset.initialize=h.noop},bodyOffset:function(j){var k=j.offsetTop,m=j.offsetLeft;h.offset.initialize();if(h.offset.doesNotIncludeMarginInBodyOffset){k+=
parseFloat(h.css(j,"marginTop"))||0;m+=parseFloat(h.css(j,"marginLeft"))||0}return{top:k,left:m}},setOffset:function(j,k,m){var q=h.css(j,"position");if(q==="static")j.style.position="relative";var v=h(j),y=v.offset(),E=h.css(j,"top"),D=h.css(j,"left"),I=q==="absolute"&&h.inArray("auto",[E,D])>-1;q={};var V={};if(I)V=v.position();E=I?V.top:parseInt(E,10)||0;D=I?V.left:parseInt(D,10)||0;if(h.isFunction(k))k=k.call(j,m,y);if(k.top!=null)q.top=k.top-y.top+E;if(k.left!=null)q.left=k.left-y.left+D;"using"in
k?k.using.call(j,q):v.css(q)}};h.fn.extend({position:function(){if(!this[0])return null;var j=this[0],k=this.offsetParent(),m=this.offset(),q=Za.test(k[0].nodeName)?{top:0,left:0}:k.offset();m.top-=parseFloat(h.css(j,"marginTop"))||0;m.left-=parseFloat(h.css(j,"marginLeft"))||0;q.top+=parseFloat(h.css(k[0],"borderTopWidth"))||0;q.left+=parseFloat(h.css(k[0],"borderLeftWidth"))||0;return{top:m.top-q.top,left:m.left-q.left}},offsetParent:function(){return this.map(function(){for(var j=this.offsetParent||
x.body;j&&!Za.test(j.nodeName)&&h.css(j,"position")==="static";)j=j.offsetParent;return j})}});h.each(["Left","Top"],function(j,k){var m="scroll"+k;h.fn[m]=function(q){var v=this[0],y;if(!v)return null;return q!==b?this.each(function(){if(y=A(this))y.scrollTo(!j?q:h(y).scrollLeft(),j?q:h(y).scrollTop());else this[m]=q}):(y=A(v))?"pageXOffset"in y?y[j?"pageYOffset":"pageXOffset"]:h.support.boxModel&&y.document.documentElement[m]||y.document.body[m]:v[m]}});h.each(["Height","Width"],function(j,k){var m=
k.toLowerCase();h.fn["inner"+k]=function(){return this[0]?parseFloat(h.css(this[0],m,"padding")):null};h.fn["outer"+k]=function(q){return this[0]?parseFloat(h.css(this[0],m,q?"margin":"border")):null};h.fn[m]=function(q){var v=this[0];if(!v)return q==null?null:this;if(h.isFunction(q))return this.each(function(E){var D=h(this);D[m](q.call(this,E,D[m]()))});if(h.isWindow(v))return v.document.compatMode==="CSS1Compat"&&v.document.documentElement["client"+k]||v.document.body["client"+k];else if(v.nodeType===
9)return Math.max(v.documentElement["client"+k],v.body["scroll"+k],v.documentElement["scroll"+k],v.body["offset"+k],v.documentElement["offset"+k]);else if(q===b){v=h.css(v,m);var y=parseFloat(v);return h.isNaN(y)?v:y}else return this.css(m,typeof q==="string"?q:q+"px")}})})(window);
(function(a){a.fn.extend({autocomplete:function(b,c){var f=typeof b=="string";c=a.extend({},a.Autocompleter.defaults,{url:f?b:null,data:f?null:b,delay:f?a.Autocompleter.defaults.delay:10,max:c&&!c.scroll?10:150},c);c.highlight=c.highlight||function(e){return e};c.formatMatch=c.formatMatch||c.formatItem;return this.each(function(){new a.Autocompleter(this,c)})},result:function(b){return this.bind("result",b)},search:function(b){return this.trigger("search",[b])},flushCache:function(){return this.trigger("flushCache")},
setOptions:function(b){return this.trigger("setOptions",[b])},unautocomplete:function(){return this.trigger("unautocomplete")}});a.Autocompleter=function(b,c){function f(){var M=F.selected();if(!M)return false;var Q=M.result;s=Q;if(c.multiple){var P=d(r.val());if(P.length>1)Q=P.slice(0,P.length-1).join(c.multipleSeparator)+c.multipleSeparator+Q;Q+=c.multipleSeparator}r.val(Q);l();r.trigger("result",[M.data,M.value]);return true}function e(M,Q){if(x==u.DEL)F.hide();else{var P=r.val();if(!(!Q&&P==s)){s=
P;P=g(P);if(P.length>=c.minChars){r.addClass(c.loadingClass);c.matchCase||(P=P.toLowerCase());o(P,n,l)}else{r.removeClass(c.loadingClass);F.hide()}}}}function d(M){if(!M)return[""];M=M.split(c.multipleSeparator);var Q=[];a.each(M,function(P,Z){if(a.trim(Z))Q[P]=a.trim(Z)});return Q}function g(M){if(!c.multiple)return M;M=d(M);return M[M.length-1]}function l(){var M=F.visible();F.hide();clearTimeout(p);r.removeClass(c.loadingClass);c.mustMatch&&r.search(function(Q){if(!Q)if(c.multiple){Q=d(r.val()).slice(0,
-1);r.val(Q.join(c.multipleSeparator)+(Q.length?c.multipleSeparator:""))}else r.val("")});M&&a.Autocompleter.Selection(b,b.value.length,b.value.length)}function n(M,Q){if(Q&&Q.length&&A){r.removeClass(c.loadingClass);F.display(Q,M);var P=Q[0].value;if(c.autoFill&&g(r.val()).toLowerCase()==M.toLowerCase()&&x!=u.BACKSPACE){r.val(r.val()+P.substring(g(s).length));a.Autocompleter.Selection(b,s.length,s.length+P.length)}F.show()}else l()}function o(M,Q,P){c.matchCase||(M=M.toLowerCase());var Z=z.load(M);
if(Z&&Z.length)Q(M,Z);else if(typeof c.url=="string"&&c.url.length>0){var U={timestamp:+new Date};a.each(c.extraParams,function(aa,da){U[aa]=typeof da=="function"?da():da});a.ajax({mode:"abort",port:"autocomplete"+b.name,dataType:c.dataType,url:c.url,data:a.extend({q:g(M),limit:c.max},U),success:function(aa){var da;if(!(da=c.parse&&c.parse(aa))){da=[];aa=aa.split("\n");for(var na=0;na<aa.length;na++){var ia=a.trim(aa[na]);if(ia){ia=ia.split("|");da[da.length]={data:ia,value:ia[0],result:c.formatResult&&
c.formatResult(ia,ia[0])||ia[0]}}}da=da}da=da;z.add(M,da);Q(M,da)}})}else{F.emptyList();P(M)}}var u={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},r=a(b).attr("autocomplete","off").addClass(c.inputClass),p,s="",z=a.Autocompleter.Cache(c),A=0,x,h={mouseDownOnSelect:false},F=a.Autocompleter.Select(c,b,f,h),L;a.browser.opera&&a(b.form).bind("submit.autocomplete",function(){if(L)return L=false});r.bind((a.browser.opera?"keypress":"keydown")+".autocomplete",function(M){x=
M.keyCode;switch(M.keyCode){case u.UP:M.preventDefault();F.visible()?F.prev():e(0,true);break;case u.DOWN:M.preventDefault();F.visible()?F.next():e(0,true);break;case u.PAGEUP:M.preventDefault();F.visible()?F.pageUp():e(0,true);break;case u.PAGEDOWN:M.preventDefault();F.visible()?F.pageDown():e(0,true);break;case c.multiple&&a.trim(c.multipleSeparator)==","&&u.COMMA:case u.TAB:case u.RETURN:if(f()){M.preventDefault();L=true;return false}break;case u.ESC:F.hide();break;default:clearTimeout(p);p=setTimeout(e,
c.delay)}}).focus(function(){A++}).blur(function(){A=0;if(!h.mouseDownOnSelect){clearTimeout(p);p=setTimeout(l,200)}}).click(function(){A++>1&&!F.visible()&&e(0,true)}).bind("search",function(){function M(P,Z){var U;if(Z&&Z.length)for(var aa=0;aa<Z.length;aa++)if(Z[aa].result.toLowerCase()==P.toLowerCase()){U=Z[aa];break}typeof Q=="function"?Q(U):r.trigger("result",U&&[U.data,U.value])}var Q=arguments.length>1?arguments[1]:null;a.each(d(r.val()),function(P,Z){o(Z,M,M)})}).bind("flushCache",function(){z.flush()}).bind("setOptions",
function(M,Q){a.extend(c,Q);"data"in Q&&z.populate()}).bind("unautocomplete",function(){F.unbind();r.unbind();a(b.form).unbind(".autocomplete")})};a.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(b){return b[0]},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",
highlight:function(b,c){return b.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+c.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:true,scrollHeight:180};a.Autocompleter.Cache=function(b){function c(n,o){b.matchCase||(n=n.toLowerCase());var u=n.indexOf(o);if(u==-1)return false;return u==0||b.matchContains}function f(n,o){l>b.cacheLength&&d();g[n]||l++;g[n]=o}function e(){if(!b.data)return false;var n={},o=0;if(!b.url)b.cacheLength=1;n[""]=
[];for(var u=0,r=b.data.length;u<r;u++){var p=b.data[u];p=typeof p=="string"?[p]:p;var s=b.formatMatch(p,u+1,b.data.length);if(s!==false){var z=s.charAt(0).toLowerCase();n[z]||(n[z]=[]);p={value:s,data:p,result:b.formatResult&&b.formatResult(p)||s};n[z].push(p);o++<b.max&&n[""].push(p)}}a.each(n,function(A,x){b.cacheLength++;f(A,x)})}function d(){g={};l=0}var g={},l=0;setTimeout(e,25);return{flush:d,add:f,populate:e,load:function(n){if(!b.cacheLength||!l)return null;if(!b.url&&b.matchContains){var o=
[],u;for(u in g)if(u.length>0){var r=g[u];a.each(r,function(p,s){c(s.value,n)&&o.push(s)})}return o}else if(g[n])return g[n];else if(b.matchSubset)for(u=n.length-1;u>=b.minChars;u--)if(r=g[n.substr(0,u)]){o=[];a.each(r,function(p,s){if(c(s.value,n))o[o.length]=s});return o}return null}}};a.Autocompleter.Select=function(b,c,f,e){function d(){if(s){z=a("<div/>").hide().addClass(b.resultsClass).css("position","absolute").appendTo(document.body);A=a("<ul/>").appendTo(z).mouseover(function(x){if(g(x).nodeName&&
g(x).nodeName.toUpperCase()=="LI"){u=a("li",A).removeClass(n.ACTIVE).index(g(x));a(g(x)).addClass(n.ACTIVE)}}).click(function(x){a(g(x)).addClass(n.ACTIVE);f();c.focus();return false}).mousedown(function(){e.mouseDownOnSelect=true}).mouseup(function(){e.mouseDownOnSelect=false});b.width>0&&z.css("width",b.width);s=false}}function g(x){for(x=x.target;x&&x.tagName!="LI";)x=x.parentNode;if(!x)return[];return x}function l(x){o.slice(u,u+1).removeClass(n.ACTIVE);u+=x;if(u<0)u=o.size()-1;else if(u>=o.size())u=
0;x=o.slice(u,u+1).addClass(n.ACTIVE);if(b.scroll){var h=0;o.slice(0,u).each(function(){h+=this.offsetHeight});if(h+x[0].offsetHeight-A.scrollTop()>A[0].clientHeight)A.scrollTop(h+x[0].offsetHeight-A.innerHeight());else h<A.scrollTop()&&A.scrollTop(h)}}var n={ACTIVE:"ac_over"},o,u=-1,r,p="",s=true,z,A;return{display:function(x,h){d();r=x;p=h;A.empty();for(var F=b.max&&b.max<r.length?b.max:r.length,L=0;L<F;L++)if(r[L]){var M=b.formatItem(r[L].data,L+1,F,r[L].value,p);if(M!==false){M=a("<li/>").html(b.highlight(M,
p)).addClass(L%2==0?"ac_even":"ac_odd").appendTo(A)[0];a.data(M,"ac_data",r[L])}}o=A.find("li");if(b.selectFirst){o.slice(0,1).addClass(n.ACTIVE);u=0}a.fn.bgiframe&&A.bgiframe()},next:function(){l(1)},prev:function(){l(-1)},pageUp:function(){u!=0&&u-8<0?l(-u):l(-8)},pageDown:function(){u!=o.size()-1&&u+8>o.size()?l(o.size()-1-u):l(8)},hide:function(){z&&z.hide();o&&o.removeClass(n.ACTIVE);u=-1},visible:function(){return z&&z.is(":visible")},current:function(){return this.visible()&&(o.filter("."+
n.ACTIVE)[0]||b.selectFirst&&o[0])},show:function(){var x=a(c).offset();z.css({width:typeof b.width=="string"||b.width>0?b.width:a(c).width(),top:x.top+c.offsetHeight,left:x.left}).show();if(b.scroll){A.scrollTop(0);A.css({maxHeight:b.scrollHeight,overflow:"auto"});if(a.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var h=0;o.each(function(){h+=this.offsetHeight});x=h>b.scrollHeight;A.css("height",x?b.scrollHeight:h);x||o.width(A.width()-parseInt(o.css("padding-left"))-parseInt(o.css("padding-right")))}}},
selected:function(){var x=o&&o.filter("."+n.ACTIVE).removeClass(n.ACTIVE);return x&&x.length&&a.data(x[0],"ac_data")},emptyList:function(){A&&A.empty()},unbind:function(){z&&z.remove()}}};a.Autocompleter.Selection=function(b,c,f){if(b.createTextRange){var e=b.createTextRange();e.collapse(true);e.moveStart("character",c);e.moveEnd("character",f);e.select()}else if(b.setSelectionRange)b.setSelectionRange(c,f);else if(b.selectionStart){b.selectionStart=c;b.selectionEnd=f}b.focus()}})(jQuery);
(function(a){function b(c,f){return parseInt(a.curCSS(c.jquery?c[0]:c,f,true))||0}a.dimensions={version:"1.2"};a.each(["Height","Width"],function(c,f){a.fn["inner"+f]=function(){if(this[0]){var e=f=="Height"?"Top":"Left",d=f=="Height"?"Bottom":"Right";return this.is(":visible")?this[0]["client"+f]:b(this,f.toLowerCase())+b(this,"padding"+e)+b(this,"padding"+d)}};a.fn["outer"+f]=function(e){if(this[0]){var d=f=="Height"?"Top":"Left",g=f=="Height"?"Bottom":"Right";e=a.extend({margin:false},e||{});return(this.is(":visible")?
this[0]["offset"+f]:b(this,f.toLowerCase())+b(this,"border"+d+"Width")+b(this,"border"+g+"Width")+b(this,"padding"+d)+b(this,"padding"+g))+(e.margin?b(this,"margin"+d)+b(this,"margin"+g):0)}}});a.each(["Left","Top"],function(c,f){a.fn["scroll"+f]=function(e){if(this[0])return e!=undefined?this.each(function(){this==window||this==document?window.scrollTo(f=="Left"?e:a(window).scrollLeft(),f=="Top"?e:a(window).scrollTop()):this["scroll"+f]=e}):this[0]==window||this[0]==document?self[f=="Left"?"pageXOffset":
"pageYOffset"]||a.boxModel&&document.documentElement["scroll"+f]||document.body["scroll"+f]:this[0]["scroll"+f]}});a.fn.extend({position:function(){var c=this[0],f,e,d;if(c){d=this.offsetParent();f=this.offset();e=d.offset();f.top-=b(c,"marginTop");f.left-=b(c,"marginLeft");e.top+=b(d,"borderTopWidth");e.left+=b(d,"borderLeftWidth");f={top:f.top-e.top,left:f.left-e.left}}return f},offsetParent:function(){for(var c=this[0].offsetParent;c&&!/^body|html$/i.test(c.tagName)&&a.css(c,"position")=="static";)c=
c.offsetParent;return a(c)}})})(jQuery);
(function(a,b){function c(f){return!a(f).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.6",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,
PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(f,e){return typeof f==="number"?this.each(function(){var d=this;setTimeout(function(){a(d).focus();e&&e.call(d)},f)}):this._focus.apply(this,arguments)},scrollParent:function(){var f;f=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,
"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!f.length?a(document):f},zIndex:function(f){if(f!==b)return this.css("zIndex",f);if(this.length){f=a(this[0]);for(var e;f.length&&f[0]!==document;){e=f.css("position");
if(e==="absolute"||e==="relative"||e==="fixed"){e=parseInt(f.css("zIndex"),10);if(!isNaN(e)&&e!==0)return e}f=f.parent()}}return 0},disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(f){f.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});a.each(["Width","Height"],function(f,e){function d(o,u,r,p){a.each(g,function(){u-=parseFloat(a.curCSS(o,"padding"+this,true))||0;if(r)u-=parseFloat(a.curCSS(o,
"border"+this+"Width",true))||0;if(p)u-=parseFloat(a.curCSS(o,"margin"+this,true))||0});return u}var g=e==="Width"?["Left","Right"]:["Top","Bottom"],l=e.toLowerCase(),n={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+e]=function(o){if(o===b)return n["inner"+e].call(this);return this.each(function(){a(this).css(l,d(this,o)+"px")})};a.fn["outer"+e]=function(o,u){if(typeof o!=="number")return n["outer"+e].call(this,o);return this.each(function(){a(this).css(l,
d(this,o,true,u)+"px")})}});a.extend(a.expr[":"],{data:function(f,e,d){return!!a.data(f,d[3])},focusable:function(f){var e=f.nodeName.toLowerCase(),d=a.attr(f,"tabindex");if("area"===e){e=f.parentNode;d=e.name;if(!f.href||!d||e.nodeName.toLowerCase()!=="map")return false;f=a("img[usemap=#"+d+"]")[0];return!!f&&c(f)}return(/input|select|textarea|button|object/.test(e)?!f.disabled:"a"==e?f.href||!isNaN(d):!isNaN(d))&&c(f)},tabbable:function(f){var e=a.attr(f,"tabindex");return(isNaN(e)||e>=0)&&a(f).is(":focusable")}});
a(function(){var f=document.body,e=f.appendChild(e=document.createElement("div"));a.extend(e.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0});a.support.minHeight=e.offsetHeight===100;a.support.selectstart="onselectstart"in e;f.removeChild(e).style.display="none"});a.extend(a.ui,{plugin:{add:function(f,e,d){f=a.ui[f].prototype;for(var g in d){f.plugins[g]=f.plugins[g]||[];f.plugins[g].push([e,d[g]])}},call:function(f,e,d){if((e=f.plugins[e])&&f.element[0].parentNode)for(var g=0;g<e.length;g++)f.options[e[g][0]]&&
e[g][1].apply(f.element,d)}},contains:function(f,e){return document.compareDocumentPosition?f.compareDocumentPosition(e)&16:f!==e&&f.contains(e)},hasScroll:function(f,e){if(a(f).css("overflow")==="hidden")return false;e=e&&e==="left"?"scrollLeft":"scrollTop";var d=false;if(f[e]>0)return true;f[e]=1;d=f[e]>0;f[e]=0;return d},isOverAxis:function(f,e,d){return f>e&&f<e+d},isOver:function(f,e,d,g,l,n){return a.ui.isOverAxis(f,d,l)&&a.ui.isOverAxis(e,g,n)}})}})(jQuery);
(function(a,b){if(a.cleanData){var c=a.cleanData;a.cleanData=function(e){for(var d=0,g;(g=e[d])!=null;d++)a(g).triggerHandler("remove");c(e)}}else{var f=a.fn.remove;a.fn.remove=function(e,d){return this.each(function(){if(!d)if(!e||a.filter(e,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),e,d)})}}a.widget=function(e,d,g){var l=e.split(".")[0],n;e=e.split(".")[1];n=l+"-"+e;if(!g){g=d;d=a.Widget}a.expr[":"][n]=function(o){return!!a.data(o,
e)};a[l]=a[l]||{};a[l][e]=function(o,u){arguments.length&&this._createWidget(o,u)};d=new d;d.options=a.extend(true,{},d.options);a[l][e].prototype=a.extend(true,d,{namespace:l,widgetName:e,widgetEventPrefix:a[l][e].prototype.widgetEventPrefix||e,widgetBaseClass:n},g);a.widget.bridge(e,a[l][e])};a.widget.bridge=function(e,d){a.fn[e]=function(g){var l=typeof g==="string",n=Array.prototype.slice.call(arguments,1),o=this;g=!l&&n.length?a.extend.apply(null,[true,g].concat(n)):g;if(l&&g.charAt(0)==="_")return o;
l?this.each(function(){var u=a.data(this,e),r=u&&a.isFunction(u[g])?u[g].apply(u,n):u;if(r!==u&&r!==b){o=r;return false}}):this.each(function(){var u=a.data(this,e);u?u.option(g||{})._init():a.data(this,e,new d(g,this))});return o}};a.Widget=function(e,d){arguments.length&&this._createWidget(e,d)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(e,d){a.data(d,this.widgetName,this);this.element=a(d);this.options=a.extend(true,{},this.options,
this._getCreateOptions(),e);var g=this;this.element.bind("remove."+this.widgetName,function(){g.destroy()});this._create();this._trigger("create");this._init()},_getCreateOptions:function(){return a.metadata&&a.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},
widget:function(){return this.element},option:function(e,d){var g=e;if(arguments.length===0)return a.extend({},this.options);if(typeof e==="string"){if(d===b)return this.options[e];g={};g[e]=d}this._setOptions(g);return this},_setOptions:function(e){var d=this;a.each(e,function(g,l){d._setOption(g,l)});return this},_setOption:function(e,d){this.options[e]=d;if(e==="disabled")this.widget()[d?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",d);return this},
enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(e,d,g){var l=this.options[e];d=a.Event(d);d.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();g=g||{};if(d.originalEvent){e=a.event.props.length;for(var n;e;){n=a.event.props[--e];d[n]=d.originalEvent[n]}}this.element.trigger(d,g);return!(a.isFunction(l)&&l.call(this.element[0],d,g)===false||d.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(c){return b._mouseDown(c)}).bind("click."+this.widgetName,function(c){if(b._preventClickEvent){b._preventClickEvent=false;c.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(b);this._mouseDownEvent=b;var c=this,f=b.which==1,e=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:false;if(!f||e||!this._mouseCapture(b))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){c.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();
return true}}this._mouseMoveDelegate=function(d){return c._mouseMove(d)};this._mouseUpDelegate=function(d){return c._mouseUp(d)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);b.preventDefault();return b.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!(document.documentMode>=9)&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&
this._mouseDelayMet(b))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b);return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=b.target==this._mouseDownEvent.target;this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var b=/left|center|right/,c=/top|center|bottom/,f=a.fn.position,e=a.fn.offset;a.fn.position=function(d){if(!d||!d.of)return f.apply(this,arguments);d=a.extend({},d);var g=a(d.of),l=g[0],n=(d.collision||"flip").split(" "),o=d.offset?d.offset.split(" "):[0,0],u,r,p;if(l.nodeType===9){u=g.width();r=g.height();p={top:0,left:0}}else if(l.setTimeout){u=g.width();r=g.height();p={top:g.scrollTop(),left:g.scrollLeft()}}else if(l.preventDefault){d.at="left top";u=r=0;p={top:d.of.pageY,
left:d.of.pageX}}else{u=g.outerWidth();r=g.outerHeight();p=g.offset()}a.each(["my","at"],function(){var s=(d[this]||"").split(" ");if(s.length===1)s=b.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"];s[0]=b.test(s[0])?s[0]:"center";s[1]=c.test(s[1])?s[1]:"center";d[this]=s});if(n.length===1)n[1]=n[0];o[0]=parseInt(o[0],10)||0;if(o.length===1)o[1]=o[0];o[1]=parseInt(o[1],10)||0;if(d.at[0]==="right")p.left+=u;else if(d.at[0]==="center")p.left+=u/2;if(d.at[1]==="bottom")p.top+=
r;else if(d.at[1]==="center")p.top+=r/2;p.left+=o[0];p.top+=o[1];return this.each(function(){var s=a(this),z=s.outerWidth(),A=s.outerHeight(),x=parseInt(a.curCSS(this,"marginLeft",true))||0,h=parseInt(a.curCSS(this,"marginTop",true))||0,F=z+x+parseInt(a.curCSS(this,"marginRight",true))||0,L=A+h+parseInt(a.curCSS(this,"marginBottom",true))||0,M=a.extend({},p),Q;if(d.my[0]==="right")M.left-=z;else if(d.my[0]==="center")M.left-=z/2;if(d.my[1]==="bottom")M.top-=A;else if(d.my[1]==="center")M.top-=A/2;
M.left=parseInt(M.left);M.top=parseInt(M.top);Q={left:M.left-x,top:M.top-h};a.each(["left","top"],function(P,Z){a.ui.position[n[P]]&&a.ui.position[n[P]][Z](M,{targetWidth:u,targetHeight:r,elemWidth:z,elemHeight:A,collisionPosition:Q,collisionWidth:F,collisionHeight:L,offset:o,my:d.my,at:d.at})});a.fn.bgiframe&&s.bgiframe();s.offset(a.extend(M,{using:d.using}))})};a.ui.position={fit:{left:function(d,g){var l=a(window);l=g.collisionPosition.left+g.collisionWidth-l.width()-l.scrollLeft();d.left=l>0?
d.left-l:Math.max(d.left-g.collisionPosition.left,d.left)},top:function(d,g){var l=a(window);l=g.collisionPosition.top+g.collisionHeight-l.height()-l.scrollTop();d.top=l>0?d.top-l:Math.max(d.top-g.collisionPosition.top,d.top)}},flip:{left:function(d,g){if(g.at[0]!=="center"){var l=a(window);l=g.collisionPosition.left+g.collisionWidth-l.width()-l.scrollLeft();var n=g.my[0]==="left"?-g.elemWidth:g.my[0]==="right"?g.elemWidth:0,o=g.at[0]==="left"?g.targetWidth:-g.targetWidth,u=-2*g.offset[0];d.left+=
g.collisionPosition.left<0?n+o+u:l>0?n+o+u:0}},top:function(d,g){if(g.at[1]!=="center"){var l=a(window);l=g.collisionPosition.top+g.collisionHeight-l.height()-l.scrollTop();var n=g.my[1]==="top"?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,o=g.at[1]==="top"?g.targetHeight:-g.targetHeight,u=-2*g.offset[1];d.top+=g.collisionPosition.top<0?n+o+u:l>0?n+o+u:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(d,g){if(/static/.test(a.curCSS(d,"position")))d.style.position="relative";var l=a(d),
n=l.offset(),o=parseInt(a.curCSS(d,"top",true),10)||0,u=parseInt(a.curCSS(d,"left",true),10)||0;n={top:g.top-n.top+o,left:g.left-n.left+u};"using"in g?g.using.call(d,n):l.css(n)};a.fn.offset=function(d){var g=this[0];if(!g||!g.ownerDocument)return null;if(d)return this.each(function(){a.offset.setOffset(this,d)});return e.call(this)}}})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(b){var c=
this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();
a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();if(this._trigger("drag",b,c)===false){this._mouseUp({});return false}this.position=c.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var c=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)c=a.ui.ddmanager.drop(this,b);if(this.dropped){c=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,
c)){var f=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){f._trigger("stop",b)!==false&&f._clear()})}else this._trigger("stop",b)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
b.target)c=true});return c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(c.appendTo=="parent"?this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(typeof b=="string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||
0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment==
"parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&
b.containment.constructor!=Array){var c=a(b.containment)[0];if(c){b=a(b.containment).offset();var f=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(f?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,b.top+(f?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==Array)this.containment=b.containment},_convertPositionTo:function(b,c){if(!c)c=this.position;b=b=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
e?0:f.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName),d=b.pageX,g=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])d=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+
this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])d=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(c.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g;d=this.originalPageX+
Math.round((d-this.originalPageX)/c.grid[0])*c.grid[0];d=this.containment?!(d-this.offset.click.left<this.containment[0]||d-this.offset.click.left>this.containment[2])?d:!(d-this.offset.click.left<this.containment[0])?d-c.grid[0]:d+c.grid[0]:d}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop()),left:d-this.offset.click.left-
this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,c,f){f=f||this._uiHash();a.ui.plugin.call(this,b,[c,f]);if(b=="drag")this.positionAbs=
this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,b,c,f)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.6"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var f=a(this).data("draggable"),e=f.options,d=a.extend({},c,{item:f.element});f.sortables=[];a(e.connectToSortable).each(function(){var g=a.data(this,"sortable");
if(g&&!g.options.disabled){f.sortables.push({instance:g,shouldRevert:g.options.revert});g._refreshItems();g._trigger("activate",b,d)}})},stop:function(b,c){var f=a(this).data("draggable"),e=a.extend({},c,{item:f.element});a.each(f.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;f.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;
f.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,e)}})},drag:function(b,c){var f=a(this).data("draggable"),e=this;a.each(f.sortables,function(){this.instance.positionAbs=f.positionAbs;this.instance.helperProportions=f.helperProportions;this.instance.offset.click=f.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=
1;this.instance.currentItem=a(e).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return c.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=f.offset.click.top;this.instance.offset.click.left=f.offset.click.left;this.instance.offset.parent.left-=f.offset.parent.left-this.instance.offset.parent.left;
this.instance.offset.parent.top-=f.offset.parent.top-this.instance.offset.parent.top;f._trigger("toSortable",b);f.dropped=this.instance.element;f.currentItem=f.element;this.instance.fromOutside=f}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=
this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();f._trigger("fromSortable",b);f.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;if(b.css("cursor"))c._cursor=b.css("cursor");b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=
a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;
if(b.css("opacity"))c._opacity=b.css("opacity");b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var c=a(this).data("draggable"),f=c.options,e=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!=
"HTML"){if(!f.axis||f.axis!="x")if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<f.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+f.scrollSpeed;else if(b.pageY-c.overflowOffset.top<f.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-f.scrollSpeed;if(!f.axis||f.axis!="y")if(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<f.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+f.scrollSpeed;else if(b.pageX-
c.overflowOffset.left<f.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(!f.axis||f.axis!="x")if(b.pageY-a(document).scrollTop()<f.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<f.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed);if(!f.axis||f.axis!="y")if(b.pageX-a(document).scrollLeft()<f.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()-
f.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<f.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}e!==false&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var f=a(this),e=f.offset();this!=b.element[0]&&b.snapElements.push({item:this,
width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var f=a(this).data("draggable"),e=f.options,d=e.snapTolerance,g=c.offset.left,l=g+f.helperProportions.width,n=c.offset.top,o=n+f.helperProportions.height,u=f.snapElements.length-1;u>=0;u--){var r=f.snapElements[u].left,p=r+f.snapElements[u].width,s=f.snapElements[u].top,z=s+f.snapElements[u].height;if(r-d<g&&g<p+d&&s-d<n&&n<z+d||r-d<g&&g<p+d&&s-d<o&&o<z+d||r-d<l&&l<p+d&&s-d<n&&n<z+d||r-d<l&&l<p+d&&s-d<o&&
o<z+d){if(e.snapMode!="inner"){var A=Math.abs(s-o)<=d,x=Math.abs(z-n)<=d,h=Math.abs(r-l)<=d,F=Math.abs(p-g)<=d;if(A)c.position.top=f._convertPositionTo("relative",{top:s-f.helperProportions.height,left:0}).top-f.margins.top;if(x)c.position.top=f._convertPositionTo("relative",{top:z,left:0}).top-f.margins.top;if(h)c.position.left=f._convertPositionTo("relative",{top:0,left:r-f.helperProportions.width}).left-f.margins.left;if(F)c.position.left=f._convertPositionTo("relative",{top:0,left:p}).left-f.margins.left}var L=
A||x||h||F;if(e.snapMode!="outer"){A=Math.abs(s-n)<=d;x=Math.abs(z-o)<=d;h=Math.abs(r-g)<=d;F=Math.abs(p-l)<=d;if(A)c.position.top=f._convertPositionTo("relative",{top:s,left:0}).top-f.margins.top;if(x)c.position.top=f._convertPositionTo("relative",{top:z-f.helperProportions.height,left:0}).top-f.margins.top;if(h)c.position.left=f._convertPositionTo("relative",{top:0,left:r}).left-f.margins.left;if(F)c.position.left=f._convertPositionTo("relative",{top:0,left:p-f.helperProportions.width}).left-f.margins.left}if(!f.snapElements[u].snapping&&
(A||x||h||F||L))f.options.snap.snap&&f.options.snap.snap.call(f.element,b,a.extend(f._uiHash(),{snapItem:f.snapElements[u].item}));f.snapElements[u].snapping=A||x||h||F||L}else{f.snapElements[u].snapping&&f.options.snap.release&&f.options.snap.release.call(f.element,b,a.extend(f._uiHash(),{snapItem:f.snapElements[u].item}));f.snapElements[u].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(f,e){return(parseInt(a(f).css("zIndex"),
10)||0)-(parseInt(a(e).css("zIndex"),10)||0)});if(b.length){var c=parseInt(b[0].style.zIndex)||0;a(b).each(function(f){this.style.zIndex=c+f});this[0].style.zIndex=c+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;if(b.css("zIndex"))c._zIndex=b.css("zIndex");b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,c=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(c)?c:function(f){return f.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,c){if(b=="accept")this.accept=a.isFunction(c)?c:function(f){return f.is(c)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0]))if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(c))}},_out:function(b){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0]))if(this.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(c))}},_drop:function(b,c){var f=c||a.ui.ddmanager.current;if(!f||(f.currentItem||f.element)[0]==this.element[0])return false;var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var d=
a.data(this,"droppable");if(d.options.greedy&&!d.options.disabled&&d.options.scope==f.options.scope&&d.accept.call(d.element[0],f.currentItem||f.element)&&a.ui.intersect(f,a.extend(d,{offset:d.element.offset()}),d.options.tolerance)){e=true;return false}});if(e)return false;if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
b,this.ui(f));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.6"});a.ui.intersect=function(b,c,f){if(!c.offset)return false;var e=(b.positionAbs||b.position.absolute).left,d=e+b.helperProportions.width,g=(b.positionAbs||b.position.absolute).top,l=g+b.helperProportions.height,n=c.offset.left,o=n+c.proportions.width,u=c.offset.top,r=u+c.proportions.height;switch(f){case "fit":return n<=
e&&d<=o&&u<=g&&l<=r;case "intersect":return n<e+b.helperProportions.width/2&&d-b.helperProportions.width/2<o&&u<g+b.helperProportions.height/2&&l-b.helperProportions.height/2<r;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,u,n,c.proportions.height,c.proportions.width);case "touch":return(g>=u&&g<=r||l>=u&&l<=r||g<u&&l>r)&&(e>=n&&e<=o||d>=n&&d<=o||e<n&&d>o);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var f=a.ui.ddmanager.droppables[b.options.scope]||[],e=c?c.type:null,d=(b.currentItem||b.element).find(":data(droppable)").andSelf(),g=0;a:for(;g<f.length;g++)if(!(f[g].options.disabled||b&&!f[g].accept.call(f[g].element[0],b.currentItem||b.element))){for(var l=0;l<d.length;l++)if(d[l]==f[g].element[0]){f[g].proportions.height=0;continue a}f[g].visible=f[g].element.css("display")!="none";if(f[g].visible){f[g].offset=
f[g].element.offset();f[g].proportions={width:f[g].element[0].offsetWidth,height:f[g].element[0].offsetHeight};e=="mousedown"&&f[g]._activate.call(f[g],c)}}},drop:function(b,c){var f=false;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))f=f||this._drop.call(this,c);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;
this.isover=0;this._deactivate.call(this,c)}}});return f},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var f=a.ui.intersect(b,this,this.options.tolerance);if(f=!f&&this.isover==1?"isout":f&&this.isover==0?"isover":null){var e;if(this.options.greedy){var d=this.element.parents(":data(droppable):eq(0)");if(d.length){e=a.data(d[0],"droppable");
e.greedyChild=f=="isover"?1:0}}if(e&&f=="isover"){e.isover=0;e.isout=1;e._out.call(e,c)}this[f]=1;this[f=="isout"?"isover":"isout"]=0;this[f=="isover"?"_over":"_out"].call(this,c);if(e&&f=="isout"){e.isout=0;e.isover=1;e._over.call(e,c)}}}})}}})(jQuery);
(function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var f=this,e=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=e.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var d=this.handles.split(",");this.handles={};for(var g=0;g<d.length;g++){var l=a.trim(d[g]),n=a('<div class="ui-resizable-handle '+("ui-resizable-"+l)+'"></div>');/sw|se|ne|nw/.test(l)&&n.css({zIndex:++e.zIndex});"se"==l&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[l]=".ui-resizable-"+l;this.element.append(n)}}this._renderAxis=function(o){o=o||this.element;for(var u in this.handles){if(this.handles[u].constructor==
String)this.handles[u]=a(this.handles[u],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var r=a(this.handles[u],this.element),p=0;p=/sw|ne|nw|se|n|s/.test(u)?r.outerHeight():r.outerWidth();r=["padding",/ne|nw|n/.test(u)?"Top":/se|sw|s/.test(u)?"Bottom":/^e$/.test(u)?"Right":"Left"].join("");o.css(r,p);this._proportionallyResize()}a(this.handles[u])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!f.resizing){if(this.className)var o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);f.axis=o&&o[1]?o[1]:"se"}});if(e.autoHide){this._handles.hide();a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide");f._handles.show()},function(){if(!f.resizing){a(this).addClass("ui-resizable-autohide");f._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var f=function(d){a(d).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){f(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);f(this.originalElement);return this},_mouseCapture:function(f){var e=false,d;for(d in this.handles)if(a(this.handles[d])[0]==f.target)e=true;return!this.options.disabled&&e},_mouseStart:function(f){var e=this.options,d=this.element.position(),
g=this.element;this.resizing=true;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};if(g.is(".ui-draggable")||/absolute/.test(g.css("position")))g.css({position:"absolute",top:d.top,left:d.left});a.browser.opera&&/relative/.test(g.css("position"))&&g.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();d=b(this.helper.css("left"));var l=b(this.helper.css("top"));if(e.containment){d+=a(e.containment).scrollLeft()||0;l+=a(e.containment).scrollTop()||0}this.offset=
this.helper.offset();this.position={left:d,top:l};this.size=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalSize=this._helper?{width:g.outerWidth(),height:g.outerHeight()}:{width:g.width(),height:g.height()};this.originalPosition={left:d,top:l};this.sizeDiff={width:g.outerWidth()-g.width(),height:g.outerHeight()-g.height()};this.originalMousePosition={left:f.pageX,top:f.pageY};this.aspectRatio=typeof e.aspectRatio=="number"?e.aspectRatio:
this.originalSize.width/this.originalSize.height||1;e=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",e=="auto"?this.axis+"-resize":e);g.addClass("ui-resizable-resizing");this._propagate("start",f);return true},_mouseDrag:function(f){var e=this.helper,d=this.originalMousePosition,g=this._change[this.axis];if(!g)return false;d=g.apply(this,[f,f.pageX-d.left||0,f.pageY-d.top||0]);if(this._aspectRatio||f.shiftKey)d=this._updateRatio(d,f);d=this._respectSize(d,f);this._propagate("resize",
f);e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(d);this._trigger("resize",f,this.ui());return false},_mouseStop:function(f){this.resizing=false;var e=this.options;if(this._helper){var d=this._proportionallyResizeElements,g=d.length&&/textarea/i.test(d[0].nodeName);d=g&&a.ui.hasScroll(d[0],"left")?0:this.sizeDiff.height;
g={width:this.size.width-(g?0:this.sizeDiff.width),height:this.size.height-d};d=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null;var l=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;e.animate||this.element.css(a.extend(g,{top:l,left:d}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!e.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",f);this._helper&&this.helper.remove();return false},_updateCache:function(f){this.offset=this.helper.offset();if(c(f.left))this.position.left=f.left;if(c(f.top))this.position.top=f.top;if(c(f.height))this.size.height=f.height;if(c(f.width))this.size.width=f.width},_updateRatio:function(f){var e=this.position,d=this.size,g=this.axis;if(f.height)f.width=d.height*this.aspectRatio;else if(f.width)f.height=d.width/this.aspectRatio;if(g=="sw"){f.left=e.left+(d.width-f.width);f.top=
null}if(g=="nw"){f.top=e.top+(d.height-f.height);f.left=e.left+(d.width-f.width)}return f},_respectSize:function(f){var e=this.options,d=this.axis,g=c(f.width)&&e.maxWidth&&e.maxWidth<f.width,l=c(f.height)&&e.maxHeight&&e.maxHeight<f.height,n=c(f.width)&&e.minWidth&&e.minWidth>f.width,o=c(f.height)&&e.minHeight&&e.minHeight>f.height;if(n)f.width=e.minWidth;if(o)f.height=e.minHeight;if(g)f.width=e.maxWidth;if(l)f.height=e.maxHeight;var u=this.originalPosition.left+this.originalSize.width,r=this.position.top+
this.size.height,p=/sw|nw|w/.test(d);d=/nw|ne|n/.test(d);if(n&&p)f.left=u-e.minWidth;if(g&&p)f.left=u-e.maxWidth;if(o&&d)f.top=r-e.minHeight;if(l&&d)f.top=r-e.maxHeight;if((e=!f.width&&!f.height)&&!f.left&&f.top)f.top=null;else if(e&&!f.top&&f.left)f.left=null;return f},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var f=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var d=this._proportionallyResizeElements[e];if(!this.borderDif){var g=
[d.css("borderTopWidth"),d.css("borderRightWidth"),d.css("borderBottomWidth"),d.css("borderLeftWidth")],l=[d.css("paddingTop"),d.css("paddingRight"),d.css("paddingBottom"),d.css("paddingLeft")];this.borderDif=a.map(g,function(n,o){n=parseInt(n,10)||0;o=parseInt(l[o],10)||0;return n+o})}a.browser.msie&&(a(f).is(":hidden")||a(f).parents(":hidden").length)||d.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var f=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var e=a.browser.msie&&a.browser.version<7,d=e?1:0;e=e?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+e,height:this.element.outerHeight()+e,position:"absolute",left:this.elementOffset.left-d+"px",top:this.elementOffset.top-d+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(f,
e){return{width:this.originalSize.width+e}},w:function(f,e){return{left:this.originalPosition.left+e,width:this.originalSize.width-e}},n:function(f,e,d){return{top:this.originalPosition.top+d,height:this.originalSize.height-d}},s:function(f,e,d){return{height:this.originalSize.height+d}},se:function(f,e,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},sw:function(f,e,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[f,e,
d]))},ne:function(f,e,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[f,e,d]))},nw:function(f,e,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[f,e,d]))}},_propagate:function(f,e){a.ui.plugin.call(this,f,[e,this.ui()]);f!="resize"&&this._trigger(f,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,
originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8.6"});a.ui.plugin.add("resizable","alsoResize",{start:function(){var f=a(this).data("resizable").options,e=function(d){a(d).each(function(){var g=a(this);g.data("resizable-alsoresize",{width:parseInt(g.width(),10),height:parseInt(g.height(),10),left:parseInt(g.css("left"),10),top:parseInt(g.css("top"),10),position:g.css("position")})})};if(typeof f.alsoResize=="object"&&!f.alsoResize.parentNode)if(f.alsoResize.length){f.alsoResize=
f.alsoResize[0];e(f.alsoResize)}else a.each(f.alsoResize,function(d){e(d)});else e(f.alsoResize)},resize:function(f,e){var d=a(this).data("resizable");f=d.options;var g=d.originalSize,l=d.originalPosition,n={height:d.size.height-g.height||0,width:d.size.width-g.width||0,top:d.position.top-l.top||0,left:d.position.left-l.left||0},o=function(u,r){a(u).each(function(){var p=a(this),s=a(this).data("resizable-alsoresize"),z={},A=r&&r.length?r:p.parents(e.originalElement[0]).length?["width","height"]:["width",
"height","top","left"];a.each(A,function(x,h){if((x=(s[h]||0)+(n[h]||0))&&x>=0)z[h]=x||null});if(a.browser.opera&&/relative/.test(p.css("position"))){d._revertToRelativePosition=true;p.css({position:"absolute",top:"auto",left:"auto"})}p.css(z)})};typeof f.alsoResize=="object"&&!f.alsoResize.nodeType?a.each(f.alsoResize,function(u,r){o(u,r)}):o(f.alsoResize)},stop:function(){var f=a(this).data("resizable"),e=f.options,d=function(g){a(g).each(function(){var l=a(this);l.css({position:l.data("resizable-alsoresize").position})})};
if(f._revertToRelativePosition){f._revertToRelativePosition=false;typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(g){d(g)}):d(e.alsoResize)}a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(f){var e=a(this).data("resizable"),d=e.options,g=e._proportionallyResizeElements,l=g.length&&/textarea/i.test(g[0].nodeName),n=l&&a.ui.hasScroll(g[0],"left")?0:e.sizeDiff.height;l={width:e.size.width-(l?0:e.sizeDiff.width),height:e.size.height-
n};n=parseInt(e.element.css("left"),10)+(e.position.left-e.originalPosition.left)||null;var o=parseInt(e.element.css("top"),10)+(e.position.top-e.originalPosition.top)||null;e.element.animate(a.extend(l,o&&n?{top:o,left:n}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var u={width:parseInt(e.element.css("width"),10),height:parseInt(e.element.css("height"),10),top:parseInt(e.element.css("top"),10),left:parseInt(e.element.css("left"),10)};g&&g.length&&a(g[0]).css({width:u.width,
height:u.height});e._updateCache(u);e._propagate("resize",f)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var f=a(this).data("resizable"),e=f.element,d=f.options.containment;if(e=d instanceof a?d.get(0):/parent/.test(d)?e.parent().get(0):d){f.containerElement=a(e);if(/document/.test(d)||d==document){f.containerOffset={left:0,top:0};f.containerPosition={left:0,top:0};f.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var g=
a(e),l=[];a(["Top","Right","Left","Bottom"]).each(function(u,r){l[u]=b(g.css("padding"+r))});f.containerOffset=g.offset();f.containerPosition=g.position();f.containerSize={height:g.innerHeight()-l[3],width:g.innerWidth()-l[1]};d=f.containerOffset;var n=f.containerSize.height,o=f.containerSize.width;o=a.ui.hasScroll(e,"left")?e.scrollWidth:o;n=a.ui.hasScroll(e)?e.scrollHeight:n;f.parentData={element:e,left:d.left,top:d.top,width:o,height:n}}}},resize:function(f){var e=a(this).data("resizable"),d=e.options,
g=e.containerOffset,l=e.position;f=e._aspectRatio||f.shiftKey;var n={top:0,left:0},o=e.containerElement;if(o[0]!=document&&/static/.test(o.css("position")))n=g;if(l.left<(e._helper?g.left:0)){e.size.width+=e._helper?e.position.left-g.left:e.position.left-n.left;if(f)e.size.height=e.size.width/d.aspectRatio;e.position.left=d.helper?g.left:0}if(l.top<(e._helper?g.top:0)){e.size.height+=e._helper?e.position.top-g.top:e.position.top;if(f)e.size.width=e.size.height*d.aspectRatio;e.position.top=e._helper?
g.top:0}e.offset.left=e.parentData.left+e.position.left;e.offset.top=e.parentData.top+e.position.top;d=Math.abs((e._helper?e.offset.left-n.left:e.offset.left-n.left)+e.sizeDiff.width);g=Math.abs((e._helper?e.offset.top-n.top:e.offset.top-g.top)+e.sizeDiff.height);l=e.containerElement.get(0)==e.element.parent().get(0);n=/relative|absolute/.test(e.containerElement.css("position"));if(l&&n)d-=e.parentData.left;if(d+e.size.width>=e.parentData.width){e.size.width=e.parentData.width-d;if(f)e.size.height=
e.size.width/e.aspectRatio}if(g+e.size.height>=e.parentData.height){e.size.height=e.parentData.height-g;if(f)e.size.width=e.size.height*e.aspectRatio}},stop:function(){var f=a(this).data("resizable"),e=f.options,d=f.containerOffset,g=f.containerPosition,l=f.containerElement,n=a(f.helper),o=n.offset(),u=n.outerWidth()-f.sizeDiff.width;n=n.outerHeight()-f.sizeDiff.height;f._helper&&!e.animate&&/relative/.test(l.css("position"))&&a(this).css({left:o.left-g.left-d.left,width:u,height:n});f._helper&&!e.animate&&
/static/.test(l.css("position"))&&a(this).css({left:o.left-g.left-d.left,width:u,height:n})}});a.ui.plugin.add("resizable","ghost",{start:function(){var f=a(this).data("resizable"),e=f.options,d=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof e.ghost=="string"?e.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var f=a(this).data("resizable");
f.ghost&&f.ghost.css({position:"relative",height:f.size.height,width:f.size.width})},stop:function(){var f=a(this).data("resizable");f.ghost&&f.helper&&f.helper.get(0).removeChild(f.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var f=a(this).data("resizable"),e=f.options,d=f.size,g=f.originalSize,l=f.originalPosition,n=f.axis;e.grid=typeof e.grid=="number"?[e.grid,e.grid]:e.grid;var o=Math.round((d.width-g.width)/(e.grid[0]||1))*(e.grid[0]||1);e=Math.round((d.height-g.height)/
(e.grid[1]||1))*(e.grid[1]||1);if(/^(se|s|e)$/.test(n)){f.size.width=g.width+o;f.size.height=g.height+e}else if(/^(ne)$/.test(n)){f.size.width=g.width+o;f.size.height=g.height+e;f.position.top=l.top-e}else{if(/^(sw)$/.test(n)){f.size.width=g.width+o;f.size.height=g.height+e}else{f.size.width=g.width+o;f.size.height=g.height+e;f.position.top=l.top-e}f.position.left=l.left-o}}});var b=function(f){return parseInt(f,10)||0},c=function(f){return!isNaN(parseInt(f,10))}})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=false;var c;this.refresh=function(){c=a(b.options.filter,b.element[0]);c.each(function(){var f=a(this),e=f.offset();a.data(this,"selectable-item",{element:this,$element:f,left:e.left,top:e.top,right:e.left+f.outerWidth(),bottom:e.top+f.outerHeight(),startselected:false,selected:f.hasClass("ui-selected"),
selecting:f.hasClass("ui-selecting"),unselecting:f.hasClass("ui-unselecting")})})};this.refresh();this.selectees=c.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(b){var c=this;this.opos=[b.pageX,
b.pageY];if(!this.options.disabled){var f=this.options;this.selectees=a(f.filter,this.element[0]);this._trigger("start",b);a(f.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});f.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var e=a.data(this,"selectable-item");e.startselected=true;if(!b.metaKey){e.$element.removeClass("ui-selected");e.selected=false;e.$element.addClass("ui-unselecting");e.unselecting=true;c._trigger("unselecting",
b,{unselecting:e.element})}});a(b.target).parents().andSelf().each(function(){var e=a.data(this,"selectable-item");if(e){var d=!b.metaKey||!e.$element.hasClass("ui-selected");e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting");e.unselecting=!d;e.selecting=d;(e.selected=d)?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element});return false}})}},_mouseDrag:function(b){var c=this;this.dragged=true;if(!this.options.disabled){var f=
this.options,e=this.opos[0],d=this.opos[1],g=b.pageX,l=b.pageY;if(e>g){var n=g;g=e;e=n}if(d>l){n=l;l=d;d=n}this.helper.css({left:e,top:d,width:g-e,height:l-d});this.selectees.each(function(){var o=a.data(this,"selectable-item");if(!(!o||o.element==c.element[0])){var u=false;if(f.tolerance=="touch")u=!(o.left>g||o.right<e||o.top>l||o.bottom<d);else if(f.tolerance=="fit")u=o.left>e&&o.right<g&&o.top>d&&o.bottom<l;if(u){if(o.selected){o.$element.removeClass("ui-selected");o.selected=false}if(o.unselecting){o.$element.removeClass("ui-unselecting");
o.unselecting=false}if(!o.selecting){o.$element.addClass("ui-selecting");o.selecting=true;c._trigger("selecting",b,{selecting:o.element})}}else{if(o.selecting)if(b.metaKey&&o.startselected){o.$element.removeClass("ui-selecting");o.selecting=false;o.$element.addClass("ui-selected");o.selected=true}else{o.$element.removeClass("ui-selecting");o.selecting=false;if(o.startselected){o.$element.addClass("ui-unselecting");o.unselecting=true}c._trigger("unselecting",b,{unselecting:o.element})}if(o.selected)if(!b.metaKey&&
!o.startselected){o.$element.removeClass("ui-selected");o.selected=false;o.$element.addClass("ui-unselecting");o.unselecting=true;c._trigger("unselecting",b,{unselecting:o.element})}}}});return false}},_mouseStop:function(b){var c=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var f=a.data(this,"selectable-item");f.$element.removeClass("ui-unselecting");f.unselecting=false;f.startselected=false;c._trigger("unselected",b,{unselected:f.element})});a(".ui-selecting",this.element[0]).each(function(){var f=
a.data(this,"selectable-item");f.$element.removeClass("ui-selecting").addClass("ui-selected");f.selecting=false;f.selected=true;f.startselected=true;c._trigger("selected",b,{selected:f.element})});this._trigger("stop",b);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.6"})})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData("sortable-item");return this},_setOption:function(b,c){if(b==="disabled"){this.options[b]=c;this.widget()[c?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,
arguments)},_mouseCapture:function(b,c){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(b);var f=null,e=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==e){f=a(this);return false}});if(a.data(b.target,"sortable-item")==e)f=a(b.target);if(!f)return false;if(this.options.handle&&!c){var d=false;a(this.options.handle,f).find("*").andSelf().each(function(){if(this==b.target)d=true});if(!d)return false}this.currentItem=
f;this._removeCurrentsFromItems();return true},_mouseStart:function(b,c,f){c=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,
{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();c.containment&&this._setContainment();
if(c.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",c.cursor)}if(c.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",c.opacity)}if(c.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",c.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!f)for(f=this.containers.length-1;f>=0;f--)this.containers[f]._trigger("activate",b,this._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=this;a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return true},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var c=this.options,f=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop+c.scrollSpeed;else if(b.pageY-this.overflowOffset.top<c.scrollSensitivity)this.scrollParent[0].scrollTop=f=this.scrollParent[0].scrollTop-c.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft+c.scrollSpeed;else if(b.pageX-this.overflowOffset.left<c.scrollSensitivity)this.scrollParent[0].scrollLeft=f=this.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(b.pageY-a(document).scrollTop()<c.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<c.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()+
c.scrollSpeed);if(b.pageX-a(document).scrollLeft()<c.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)}f!==false&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(c=this.items.length-1;c>=0;c--){f=this.items[c];var e=f.item[0],d=this._intersectsWithPointer(f);if(d)if(e!=this.currentItem[0]&&this.placeholder[d==1?"next":"prev"]()[0]!=e&&!a.ui.contains(this.placeholder[0],e)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],e):true)){this.direction=d==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f))this._rearrange(b,
f);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(b,c){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var f=this;c=f.placeholder.offset();f.reverting=true;a(this.helper).animate({left:c.left-this.offset.parent.left-f.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:c.top-this.offset.parent.top-f.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){f._clear(b)})}else this._clear(b,c);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,this._uiHash(this));this.containers[b].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem);return this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),f=[];b=b||{};a(c).each(function(){var e=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);if(e)f.push((b.key||e[1]+"[]")+"="+(b.key&&b.expression?e[1]:e[2]))});!f.length&&b.key&&f.push(b.key+"=");return f.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),f=[];b=b||{};c.each(function(){f.push(a(b.item||this).attr(b.attribute||
"id")||"")});return f},_intersectsWith:function(b){var c=this.positionAbs.left,f=c+this.helperProportions.width,e=this.positionAbs.top,d=e+this.helperProportions.height,g=b.left,l=g+b.width,n=b.top,o=n+b.height,u=this.offset.click.top,r=this.offset.click.left;u=e+u>n&&e+u<o&&c+r>g&&c+r<l;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?u:g<c+
this.helperProportions.width/2&&f-this.helperProportions.width/2<l&&n<e+this.helperProportions.height/2&&d-this.helperProportions.height/2<o},_intersectsWithPointer:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);c=c&&b;b=this._getDragVerticalDirection();var f=this._getDragHorizontalDirection();if(!c)return false;return this.floating?f&&f=="right"||b=="down"?2:1:b&&(b=="down"?
2:1)},_intersectsWithSides:function(b){var c=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var f=this._getDragVerticalDirection(),e=this._getDragHorizontalDirection();return this.floating&&e?e=="right"&&b||e=="left"&&!b:f&&(f=="down"&&c||f=="up"&&!c)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},
_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var c=[],f=[],e=this._connectWith();if(e&&b)for(b=e.length-1;b>=0;b--)for(var d=a(e[b]),g=d.length-1;g>=0;g--){var l=a.data(d[g],"sortable");if(l&&l!=
this&&!l.options.disabled)f.push([a.isFunction(l.options.items)?l.options.items.call(l.element):a(l.options.items,l.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),l])}f.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=f.length-1;b>=0;b--)f[b][0].each(function(){c.push(this)});return a(c)},_removeCurrentsFromItems:function(){for(var b=
this.currentItem.find(":data(sortable-item)"),c=0;c<this.items.length;c++)for(var f=0;f<b.length;f++)b[f]==this.items[c].item[0]&&this.items.splice(c,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var c=this.items,f=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],e=this._connectWith();if(e)for(var d=e.length-1;d>=0;d--)for(var g=a(e[d]),l=g.length-1;l>=0;l--){var n=a.data(g[l],"sortable");
if(n&&n!=this&&!n.options.disabled){f.push([a.isFunction(n.options.items)?n.options.items.call(n.element[0],b,{item:this.currentItem}):a(n.options.items,n.element),n]);this.containers.push(n)}}for(d=f.length-1;d>=0;d--){b=f[d][1];e=f[d][0];l=0;for(g=e.length;l<g;l++){n=a(e[l]);n.data("sortable-item",b);c.push({item:n,instance:b,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var c=this.items.length-1;c>=
0;c--){var f=this.items[c],e=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!b){f.width=e.outerWidth();f.height=e.outerHeight()}e=e.offset();f.left=e.left;f.top=e.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--){e=this.containers[c].element.offset();this.containers[c].containerCache.left=e.left;this.containers[c].containerCache.top=e.top;this.containers[c].containerCache.width=
this.containers[c].element.outerWidth();this.containers[c].containerCache.height=this.containers[c].element.outerHeight()}return this},_createPlaceholder:function(b){var c=b||this,f=c.options;if(!f.placeholder||f.placeholder.constructor==String){var e=f.placeholder;f.placeholder={element:function(){var d=a(document.createElement(c.currentItem[0].nodeName)).addClass(e||c.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!e)d.style.visibility="hidden";return d},
update:function(d,g){if(!(e&&!f.forcePlaceholderSize)){g.height()||g.height(c.currentItem.innerHeight()-parseInt(c.currentItem.css("paddingTop")||0,10)-parseInt(c.currentItem.css("paddingBottom")||0,10));g.width()||g.width(c.currentItem.innerWidth()-parseInt(c.currentItem.css("paddingLeft")||0,10)-parseInt(c.currentItem.css("paddingRight")||0,10))}}}}c.placeholder=a(f.placeholder.element.call(c.element,c.currentItem));c.currentItem.after(c.placeholder);f.placeholder.update(c,c.placeholder)},_contactContainers:function(b){for(var c=
null,f=null,e=this.containers.length-1;e>=0;e--)if(!a.ui.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(!(c&&a.ui.contains(this.containers[e].element[0],c.element[0]))){c=this.containers[e];f=e}}else if(this.containers[e].containerCache.over){this.containers[e]._trigger("out",b,this._uiHash(this));this.containers[e].containerCache.over=0}if(c)if(this.containers.length===1){this.containers[f]._trigger("over",b,this._uiHash(this));
this.containers[f].containerCache.over=1}else if(this.currentContainer!=this.containers[f]){c=1E4;e=null;for(var d=this.positionAbs[this.containers[f].floating?"left":"top"],g=this.items.length-1;g>=0;g--)if(a.ui.contains(this.containers[f].element[0],this.items[g].item[0])){var l=this.items[g][this.containers[f].floating?"left":"top"];if(Math.abs(l-d)<c){c=Math.abs(l-d);e=this.items[g]}}if(e||this.options.dropOnEmpty){this.currentContainer=this.containers[f];e?this._rearrange(b,e,null,true):this._rearrange(b,
null,this.containers[f].element,true);this._trigger("change",b,this._uiHash());this.containers[f]._trigger("change",b,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[f]._trigger("over",b,this._uiHash(this));this.containers[f].containerCache.over=1}}},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):c.helper=="clone"?this.currentItem.clone():this.currentItem;b.parents("body").length||
a(c.appendTo!="parent"?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);if(b[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(b[0].style.width==""||c.forceHelperSize)b.width(this.currentItem.width());if(b[0].style.height==""||c.forceHelperSize)b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){if(typeof b==
"string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==
"absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==
"relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var c=a(b.containment)[0];b=a(b.containment).offset();var f=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(f?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),
10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(f?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,c){if(!c)c=this.position;b=b=="absolute"?1:-1;var f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?
this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:f.scrollTop())*b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())*b)}},_generatePosition:function(b){var c=
this.options,f=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(f[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var d=b.pageX,g=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])d=this.containment[0]+
this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])g=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])d=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])g=this.containment[3]+this.offset.click.top}if(c.grid){g=this.originalPageY+Math.round((g-this.originalPageY)/c.grid[1])*c.grid[1];g=this.containment?!(g-this.offset.click.top<this.containment[1]||g-this.offset.click.top>this.containment[3])?
g:!(g-this.offset.click.top<this.containment[1])?g-c.grid[1]:g+c.grid[1]:g;d=this.originalPageX+Math.round((d-this.originalPageX)/c.grid[0])*c.grid[0];d=this.containment?!(d-this.offset.click.left<this.containment[0]||d-this.offset.click.left>this.containment[2])?d:!(d-this.offset.click.left<this.containment[0])?d-c.grid[0]:d+c.grid[0]:d}}return{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
e?0:f.scrollTop()),left:d-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:f.scrollLeft())}},_rearrange:function(b,c,f,e){f?f[0].appendChild(this.placeholder[0]):c.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?c.item[0]:c.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var d=this,g=this.counter;window.setTimeout(function(){g==
d.counter&&d.refreshPositions(!e)},0)},_clear:function(b,c){this.reverting=false;var f=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var e in this._storedCSS)if(this._storedCSS[e]=="auto"||this._storedCSS[e]=="static")this._storedCSS[e]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!c&&f.push(function(d){this._trigger("receive",
d,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!c)f.push(function(d){this._trigger("update",d,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){c||f.push(function(d){this._trigger("remove",d,this._uiHash())});for(e=this.containers.length-1;e>=0;e--)if(a.ui.contains(this.containers[e].element[0],this.currentItem[0])&&!c){f.push(function(d){return function(g){d._trigger("receive",
g,this._uiHash(this))}}.call(this,this.containers[e]));f.push(function(d){return function(g){d._trigger("update",g,this._uiHash(this))}}.call(this,this.containers[e]))}}for(e=this.containers.length-1;e>=0;e--){c||f.push(function(d){return function(g){d._trigger("deactivate",g,this._uiHash(this))}}.call(this,this.containers[e]));if(this.containers[e].containerCache.over){f.push(function(d){return function(g){d._trigger("out",g,this._uiHash(this))}}.call(this,this.containers[e]));this.containers[e].containerCache.over=
0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!c){this._trigger("beforeStop",b,this._uiHash());for(e=0;e<f.length;e++)f[e].call(this,b);this._trigger("stop",b,this._uiHash())}return false}c||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!c){for(e=0;e<f.length;e++)f[e].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}});
a.extend(a.ui.sortable,{version:"1.8.6"})})(jQuery);
(function(a){a.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:true,clearStyle:false,collapsible:false,event:"click",fillSpace:false,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:false,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var b=this,c=b.options;b.running=0;b.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix");b.headers=
b.element.find(c.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){c.disabled||a(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){c.disabled||a(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){c.disabled||a(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){c.disabled||a(this).removeClass("ui-state-focus")});b.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom");
if(c.navigation){var f=b.element.find("a").filter(c.navigationFilter).eq(0);if(f.length){var e=f.closest(".ui-accordion-header");b.active=e.length?e:f.closest(".ui-accordion-content").prev()}}b.active=b._findActive(b.active||c.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top");b.active.next().addClass("ui-accordion-content-active");b._createIcons();b.resize();b.element.attr("role","tablist");b.headers.attr("role","tab").bind("keydown.accordion",
function(d){return b._keydown(d)}).next().attr("role","tabpanel");b.headers.not(b.active||"").attr({"aria-expanded":"false",tabIndex:-1}).next().hide();b.active.length?b.active.attr({"aria-expanded":"true",tabIndex:0}):b.headers.eq(0).attr("tabIndex",0);a.browser.safari||b.headers.find("a").attr("tabIndex",-1);c.event&&b.headers.bind(c.event.split(" ").join(".accordion ")+".accordion",function(d){b._clickHandler.call(b,d,this);d.preventDefault()})},_createIcons:function(){var b=this.options;if(b.icons){a("<span></span>").addClass("ui-icon "+
b.icons.header).prependTo(this.headers);this.active.children(".ui-icon").toggleClass(b.icons.header).toggleClass(b.icons.headerSelected);this.element.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.children(".ui-icon").remove();this.element.removeClass("ui-accordion-icons")},destroy:function(){var b=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("tabIndex");
this.headers.find("a").removeAttr("tabIndex");this._destroyIcons();var c=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");if(b.autoHeight||b.fillHeight)c.css("height","");return a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b=="active"&&this.activate(c);if(b=="icons"){this._destroyIcons();
c&&this._createIcons()}if(b=="disabled")this.headers.add(this.headers.next())[c?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(b){if(!(this.options.disabled||b.altKey||b.ctrlKey)){var c=a.ui.keyCode,f=this.headers.length,e=this.headers.index(b.target),d=false;switch(b.keyCode){case c.RIGHT:case c.DOWN:d=this.headers[(e+1)%f];break;case c.LEFT:case c.UP:d=this.headers[(e-1+f)%f];break;case c.SPACE:case c.ENTER:this._clickHandler({target:b.target},b.target);
b.preventDefault()}if(d){a(b.target).attr("tabIndex",-1);a(d).attr("tabIndex",0);d.focus();return false}return true}},resize:function(){var b=this.options,c;if(b.fillSpace){if(a.browser.msie){var f=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}c=this.element.parent().height();a.browser.msie&&this.element.parent().css("overflow",f);this.headers.each(function(){c-=a(this).outerHeight(true)});this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+
a(this).height()))}).css("overflow","auto")}else if(b.autoHeight){c=0;this.headers.next().each(function(){c=Math.max(c,a(this).height("").height())}).height(c)}return this},activate:function(b){this.options.active=b;b=this._findActive(b)[0];this._clickHandler({target:b},b);return this},_findActive:function(b){return b?typeof b==="number"?this.headers.filter(":eq("+b+")"):this.headers.not(this.headers.not(b)):b===false?a([]):this.headers.filter(":eq(0)")},_clickHandler:function(b,c){var f=this.options;
if(!f.disabled)if(b.target){b=a(b.currentTarget||c);c=b[0]===this.active[0];f.active=f.collapsible&&c?false:this.headers.index(b);if(!(this.running||!f.collapsible&&c)){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(f.icons.headerSelected).addClass(f.icons.header);if(!c){b.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(f.icons.header).addClass(f.icons.headerSelected);
b.next().addClass("ui-accordion-content-active")}g=b.next();e=this.active.next();d={options:f,newHeader:c&&f.collapsible?a([]):b,oldHeader:this.active,newContent:c&&f.collapsible?a([]):g,oldContent:e};f=this.headers.index(this.active[0])>this.headers.index(b[0]);this.active=c?a([]):b;this._toggle(g,e,d,c,f)}}else if(f.collapsible){this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(f.icons.headerSelected).addClass(f.icons.header);
this.active.next().addClass("ui-accordion-content-active");var e=this.active.next(),d={options:f,newHeader:a([]),oldHeader:f.active,newContent:a([]),oldContent:e},g=this.active=a([]);this._toggle(g,e,d)}},_toggle:function(b,c,f,e,d){var g=this,l=g.options;g.toShow=b;g.toHide=c;g.data=f;var n=function(){if(g)return g._completed.apply(g,arguments)};g._trigger("changestart",null,g.data);g.running=c.size()===0?b.size():c.size();if(l.animated){f={};f=l.collapsible&&e?{toShow:a([]),toHide:c,complete:n,
down:d,autoHeight:l.autoHeight||l.fillSpace}:{toShow:b,toHide:c,complete:n,down:d,autoHeight:l.autoHeight||l.fillSpace};if(!l.proxied)l.proxied=l.animated;if(!l.proxiedDuration)l.proxiedDuration=l.duration;l.animated=a.isFunction(l.proxied)?l.proxied(f):l.proxied;l.duration=a.isFunction(l.proxiedDuration)?l.proxiedDuration(f):l.proxiedDuration;e=a.ui.accordion.animations;var o=l.duration,u=l.animated;if(u&&!e[u]&&!a.easing[u])u="slide";e[u]||(e[u]=function(r){this.slide(r,{easing:u,duration:o||700})});
e[u](f)}else{if(l.collapsible&&e)b.toggle();else{c.hide();b.show()}n(true)}c.prev().attr({"aria-expanded":"false",tabIndex:-1}).blur();b.prev().attr({"aria-expanded":"true",tabIndex:0}).focus()},_completed:function(b){this.running=b?0:--this.running;if(!this.running){this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""});this.toHide.removeClass("ui-accordion-content-active");this._trigger("change",null,this.data)}}});a.extend(a.ui.accordion,{version:"1.8.6",animations:{slide:function(b,
c){b=a.extend({easing:"swing",duration:300},b,c);if(b.toHide.size())if(b.toShow.size()){var f=b.toShow.css("overflow"),e=0,d={},g={},l;c=b.toShow;l=c[0].style.width;c.width(parseInt(c.parent().width(),10)-parseInt(c.css("paddingLeft"),10)-parseInt(c.css("paddingRight"),10)-(parseInt(c.css("borderLeftWidth"),10)||0)-(parseInt(c.css("borderRightWidth"),10)||0));a.each(["height","paddingTop","paddingBottom"],function(n,o){g[o]="hide";n=(""+a.css(b.toShow[0],o)).match(/^([\d+-.]+)(.*)$/);d[o]={value:n[1],
unit:n[2]||"px"}});b.toShow.css({height:0,overflow:"hidden"}).show();b.toHide.filter(":hidden").each(b.complete).end().filter(":visible").animate(g,{step:function(n,o){if(o.prop=="height")e=o.end-o.start===0?0:(o.now-o.start)/(o.end-o.start);b.toShow[0].style[o.prop]=e*d[o.prop].value+d[o.prop].unit},duration:b.duration,easing:b.easing,complete:function(){b.autoHeight||b.toShow.css("height","");b.toShow.css({width:l,overflow:f});b.complete()}})}else b.toHide.animate({height:"hide",paddingTop:"hide",
paddingBottom:"hide"},b);else b.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},b)},bounceslide:function(b){this.slide(b,{easing:b.down?"easeOutBounce":"swing",duration:b.down?1E3:200})}}})})(jQuery);
(function(a){a.widget("ui.autocomplete",{options:{appendTo:"body",delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null},_create:function(){var b=this,c=this.element[0].ownerDocument,f;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off").attr({role:"textbox","aria-autocomplete":"list","aria-haspopup":"true"}).bind("keydown.autocomplete",function(e){if(!(b.options.disabled||b.element.attr("readonly"))){f=false;var d=a.ui.keyCode;switch(e.keyCode){case d.PAGE_UP:b._move("previousPage",
e);break;case d.PAGE_DOWN:b._move("nextPage",e);break;case d.UP:b._move("previous",e);e.preventDefault();break;case d.DOWN:b._move("next",e);e.preventDefault();break;case d.ENTER:case d.NUMPAD_ENTER:if(b.menu.active){f=true;e.preventDefault()}case d.TAB:if(!b.menu.active)break;b.menu.select(e);break;case d.ESCAPE:b.element.val(b.term);b.close(e);break;default:clearTimeout(b.searching);b.searching=setTimeout(function(){if(b.term!=b.element.val()){b.selectedItem=null;b.search(null,e)}},b.options.delay)}}}).bind("keypress.autocomplete",
function(e){if(f){f=false;e.preventDefault()}}).bind("focus.autocomplete",function(){if(!b.options.disabled){b.selectedItem=null;b.previous=b.element.val()}}).bind("blur.autocomplete",function(e){if(!b.options.disabled){clearTimeout(b.searching);b.closing=setTimeout(function(){b.close(e);b._change(e)},150)}});this._initSource();this.response=function(){return b._response.apply(b,arguments)};this.menu=a("<ul></ul>").addClass("ui-autocomplete").appendTo(a(this.options.appendTo||"body",c)[0]).mousedown(function(e){var d=
b.menu.element[0];a(e.target).closest(".ui-menu-item").length||setTimeout(function(){a(document).one("mousedown",function(g){g.target!==b.element[0]&&g.target!==d&&!a.ui.contains(d,g.target)&&b.close()})},1);setTimeout(function(){clearTimeout(b.closing)},13)}).menu({focus:function(e,d){d=d.item.data("item.autocomplete");false!==b._trigger("focus",e,{item:d})&&/^key/.test(e.originalEvent.type)&&b.element.val(d.value)},selected:function(e,d){d=d.item.data("item.autocomplete");var g=b.previous;if(b.element[0]!==
c.activeElement){b.element.focus();b.previous=g;setTimeout(function(){b.previous=g},1)}false!==b._trigger("select",e,{item:d})&&b.element.val(d.value);b.term=b.element.val();b.close(e);b.selectedItem=d},blur:function(){b.menu.element.is(":visible")&&b.element.val()!==b.term&&b.element.val(b.term)}}).zIndex(this.element.zIndex()+1).css({top:0,left:0}).hide().data("menu");a.fn.bgiframe&&this.menu.element.bgiframe()},destroy:function(){this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete").removeAttr("role").removeAttr("aria-autocomplete").removeAttr("aria-haspopup");
this.menu.element.remove();a.Widget.prototype.destroy.call(this)},_setOption:function(b,c){a.Widget.prototype._setOption.apply(this,arguments);b==="source"&&this._initSource();if(b==="appendTo")this.menu.element.appendTo(a(c||"body",this.element[0].ownerDocument)[0])},_initSource:function(){var b=this,c,f;if(a.isArray(this.options.source)){c=this.options.source;this.source=function(e,d){d(a.ui.autocomplete.filter(c,e.term))}}else if(typeof this.options.source==="string"){f=this.options.source;this.source=
function(e,d){b.xhr&&b.xhr.abort();b.xhr=a.getJSON(f,e,function(g,l,n){n===b.xhr&&d(g);b.xhr=null})}}else this.source=this.options.source},search:function(b,c){b=b!=null?b:this.element.val();this.term=this.element.val();if(b.length<this.options.minLength)return this.close(c);clearTimeout(this.closing);if(this._trigger("search",c)!==false)return this._search(b)},_search:function(b){this.element.addClass("ui-autocomplete-loading");this.source({term:b},this.response)},_response:function(b){if(b&&b.length){b=
this._normalize(b);this._suggest(b);this._trigger("open")}else this.close();this.element.removeClass("ui-autocomplete-loading")},close:function(b){clearTimeout(this.closing);if(this.menu.element.is(":visible")){this._trigger("close",b);this.menu.element.hide();this.menu.deactivate()}},_change:function(b){this.previous!==this.element.val()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(b){if(b.length&&b[0].label&&b[0].value)return b;return a.map(b,function(c){if(typeof c===
"string")return{label:c,value:c};return a.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(b){this._renderMenu(this.menu.element.empty().zIndex(this.element.zIndex()+1),b);this.menu.deactivate();this.menu.refresh();this.menu.element.show().position(a.extend({of:this.element},this.options.position));this._resizeMenu()},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth(),this.element.outerWidth()))},_renderMenu:function(b,c){var f=
this;a.each(c,function(e,d){f._renderItem(b,d)})},_renderItem:function(b,c){return a("<li></li>").data("item.autocomplete",c).append(a("<a></a>").text(c.label)).appendTo(b)},_move:function(b,c){if(this.menu.element.is(":visible"))if(this.menu.first()&&/^previous/.test(b)||this.menu.last()&&/^next/.test(b)){this.element.val(this.term);this.menu.deactivate()}else this.menu[b](c);else this.search(null,c)},widget:function(){return this.menu.element}});a.extend(a.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,
"\\$&")},filter:function(b,c){var f=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(e){return f.test(e.label||e.value||e)})}})})(jQuery);
(function(a){a.widget("ui.menu",{_create:function(){var b=this;this.element.addClass("ui-menu ui-widget ui-widget-content ui-corner-all").attr({role:"listbox","aria-activedescendant":"ui-active-menuitem"}).click(function(c){if(a(c.target).closest(".ui-menu-item a").length){c.preventDefault();b.select(c)}});this.refresh()},refresh:function(){var b=this;this.element.children("li:not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","menuitem").children("a").addClass("ui-corner-all").attr("tabindex",
-1).mouseenter(function(c){b.activate(c,a(this).parent())}).mouseleave(function(){b.deactivate()})},activate:function(b,c){this.deactivate();if(this.hasScroll()){var f=c.offset().top-this.element.offset().top,e=this.element.attr("scrollTop"),d=this.element.height();if(f<0)this.element.attr("scrollTop",e+f);else f>=d&&this.element.attr("scrollTop",e+f-d+c.height())}this.active=c.eq(0).children("a").addClass("ui-state-hover").attr("id","ui-active-menuitem").end();this._trigger("focus",b,{item:c})},
deactivate:function(){if(this.active){this.active.children("a").removeClass("ui-state-hover").removeAttr("id");this._trigger("blur");this.active=null}},next:function(b){this.move("next",".ui-menu-item:first",b)},previous:function(b){this.move("prev",".ui-menu-item:last",b)},first:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},last:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},move:function(b,c,f){if(this.active){b=this.active[b+"All"](".ui-menu-item").eq(0);
b.length?this.activate(f,b):this.activate(f,this.element.children(c))}else this.activate(f,this.element.children(c))},nextPage:function(b){if(this.hasScroll())if(!this.active||this.last())this.activate(b,this.element.children(".ui-menu-item:first"));else{var c=this.active.offset().top,f=this.element.height(),e=this.element.children(".ui-menu-item").filter(function(){var d=a(this).offset().top-c-f+a(this).height();return d<10&&d>-10});e.length||(e=this.element.children(".ui-menu-item:last"));this.activate(b,
e)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.last()?":first":":last"))},previousPage:function(b){if(this.hasScroll())if(!this.active||this.first())this.activate(b,this.element.children(".ui-menu-item:last"));else{var c=this.active.offset().top,f=this.element.height();result=this.element.children(".ui-menu-item").filter(function(){var e=a(this).offset().top-c+f-a(this).height();return e<10&&e>-10});result.length||(result=this.element.children(".ui-menu-item:first"));
this.activate(b,result)}else this.activate(b,this.element.children(".ui-menu-item").filter(!this.active||this.first()?":last":":first"))},hasScroll:function(){return this.element.height()<this.element.attr("scrollHeight")},select:function(b){this._trigger("selected",b,{item:this.active})}})})(jQuery);
(function(a){var b,c=function(e){a(":ui-button",e.target.form).each(function(){var d=a(this).data("button");setTimeout(function(){d.refresh()},1)})},f=function(e){var d=e.name,g=e.form,l=a([]);if(d)l=g?a(g).find("[name='"+d+"']"):a("[name='"+d+"']",e.ownerDocument).filter(function(){return!this.form});return l};a.widget("ui.button",{options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset.button").bind("reset.button",
c);if(typeof this.options.disabled!=="boolean")this.options.disabled=this.element.attr("disabled");this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var e=this,d=this.options,g=this.type==="checkbox"||this.type==="radio",l="ui-state-hover"+(!g?" ui-state-active":"");if(d.label===null)d.label=this.buttonElement.html();if(this.element.is(":disabled"))d.disabled=true;this.buttonElement.addClass("ui-button ui-widget ui-state-default ui-corner-all").attr("role","button").bind("mouseenter.button",
function(){if(!d.disabled){a(this).addClass("ui-state-hover");this===b&&a(this).addClass("ui-state-active")}}).bind("mouseleave.button",function(){d.disabled||a(this).removeClass(l)}).bind("focus.button",function(){a(this).addClass("ui-state-focus")}).bind("blur.button",function(){a(this).removeClass("ui-state-focus")});g&&this.element.bind("change.button",function(){e.refresh()});if(this.type==="checkbox")this.buttonElement.bind("click.button",function(){if(d.disabled)return false;a(this).toggleClass("ui-state-active");
e.buttonElement.attr("aria-pressed",e.element[0].checked)});else if(this.type==="radio")this.buttonElement.bind("click.button",function(){if(d.disabled)return false;a(this).addClass("ui-state-active");e.buttonElement.attr("aria-pressed",true);var n=e.element[0];f(n).not(n).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed",false)});else{this.buttonElement.bind("mousedown.button",function(){if(d.disabled)return false;a(this).addClass("ui-state-active");
b=this;a(document).one("mouseup",function(){b=null})}).bind("mouseup.button",function(){if(d.disabled)return false;a(this).removeClass("ui-state-active")}).bind("keydown.button",function(n){if(d.disabled)return false;if(n.keyCode==a.ui.keyCode.SPACE||n.keyCode==a.ui.keyCode.ENTER)a(this).addClass("ui-state-active")}).bind("keyup.button",function(){a(this).removeClass("ui-state-active")});this.buttonElement.is("a")&&this.buttonElement.keyup(function(n){n.keyCode===a.ui.keyCode.SPACE&&a(this).click()})}this._setOption("disabled",
d.disabled)},_determineButtonType:function(){this.type=this.element.is(":checkbox")?"checkbox":this.element.is(":radio")?"radio":this.element.is("input")?"input":"button";if(this.type==="checkbox"||this.type==="radio"){this.buttonElement=this.element.parents().last().find("label[for="+this.element.attr("id")+"]");this.element.addClass("ui-helper-hidden-accessible");var e=this.element.is(":checked");e&&this.buttonElement.addClass("ui-state-active");this.buttonElement.attr("aria-pressed",e)}else this.buttonElement=
this.element},widget:function(){return this.buttonElement},destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass("ui-button ui-widget ui-state-default ui-corner-all ui-state-hover ui-state-active  ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only").removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());this.hasTitle||
this.buttonElement.removeAttr("title");a.Widget.prototype.destroy.call(this)},_setOption:function(e,d){a.Widget.prototype._setOption.apply(this,arguments);if(e==="disabled")d?this.element.attr("disabled",true):this.element.removeAttr("disabled");this._resetButton()},refresh:function(){var e=this.element.is(":disabled");e!==this.options.disabled&&this._setOption("disabled",e);if(this.type==="radio")f(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed",
true):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed",false)});else if(this.type==="checkbox")this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed",true):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed",false)},_resetButton:function(){if(this.type==="input")this.options.label&&this.element.val(this.options.label);else{var e=this.buttonElement.removeClass("ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only"),
d=a("<span></span>").addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),g=this.options.icons,l=g.primary&&g.secondary;if(g.primary||g.secondary){e.addClass("ui-button-text-icon"+(l?"s":g.primary?"-primary":"-secondary"));g.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+g.primary+"'></span>");g.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+g.secondary+"'></span>");if(!this.options.text){e.addClass(l?"ui-button-icons-only":"ui-button-icon-only").removeClass("ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary");
this.hasTitle||e.attr("title",d)}}else e.addClass("ui-button-text-only")}}});a.widget("ui.buttonset",{_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,d){e==="disabled"&&this.buttons.button("option",e,d);a.Widget.prototype._setOption.apply(this,arguments)},refresh:function(){this.buttons=this.element.find(":button, :submit, :reset, :checkbox, :radio, a, :data(button)").filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":visible").filter(":first").addClass("ui-corner-left").end().filter(":last").addClass("ui-corner-right").end().end().end()},
destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy");a.Widget.prototype.destroy.call(this)}})})(jQuery);
(function(a,b){var c={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},f={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};a.widget("ui.dialog",{options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var d=a(this).css(e).offset().top;
d<0&&a(this).css("top",e.top-d)}},resizable:true,show:null,stack:true,title:"",width:300,zIndex:1E3},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string")this.originalTitle="";this.options.title=this.options.title||this.originalTitle;var e=this,d=e.options,g=d.title||"&#160;",l=a.ui.dialog.getTitleId(e.element),n=(e.uiDialog=a("<div></div>")).appendTo(document.body).hide().addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+d.dialogClass).css({zIndex:d.zIndex}).attr("tabIndex",
-1).css("outline",0).keydown(function(r){if(d.closeOnEscape&&r.keyCode&&r.keyCode===a.ui.keyCode.ESCAPE){e.close(r);r.preventDefault()}}).attr({role:"dialog","aria-labelledby":l}).mousedown(function(r){e.moveToTop(false,r)});e.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(n);var o=(e.uiDialogTitlebar=a("<div></div>")).addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(n),u=a('<a href="#"></a>').addClass("ui-dialog-titlebar-close ui-corner-all").attr("role",
"button").hover(function(){u.addClass("ui-state-hover")},function(){u.removeClass("ui-state-hover")}).focus(function(){u.addClass("ui-state-focus")}).blur(function(){u.removeClass("ui-state-focus")}).click(function(r){e.close(r);return false}).appendTo(o);(e.uiDialogTitlebarCloseText=a("<span></span>")).addClass("ui-icon ui-icon-closethick").text(d.closeText).appendTo(u);a("<span></span>").addClass("ui-dialog-title").attr("id",l).html(g).prependTo(o);if(a.isFunction(d.beforeclose)&&!a.isFunction(d.beforeClose))d.beforeClose=
d.beforeclose;o.find("*").add(o).disableSelection();d.draggable&&a.fn.draggable&&e._makeDraggable();d.resizable&&a.fn.resizable&&e._makeResizable();e._createButtons(d.buttons);e._isOpen=false;a.fn.bgiframe&&n.bgiframe()},_init:function(){this.options.autoOpen&&this.open()},destroy:function(){this.overlay&&this.overlay.destroy();this.uiDialog.hide();this.element.unbind(".dialog").removeData("dialog").removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();
this.originalTitle&&this.element.attr("title",this.originalTitle);return this},widget:function(){return this.uiDialog},close:function(e){var d=this,g;if(false!==d._trigger("beforeClose",e)){d.overlay&&d.overlay.destroy();d.uiDialog.unbind("keypress.ui-dialog");d._isOpen=false;if(d.options.hide)d.uiDialog.hide(d.options.hide,function(){d._trigger("close",e)});else{d.uiDialog.hide();d._trigger("close",e)}a.ui.dialog.overlay.resize();if(d.options.modal){g=0;a(".ui-dialog").each(function(){if(this!==
d.uiDialog[0])g=Math.max(g,a(this).css("z-index"))});a.ui.dialog.maxZ=g}return d}},isOpen:function(){return this._isOpen},moveToTop:function(e,d){var g=this.options;if(g.modal&&!e||!g.stack&&!g.modal)return this._trigger("focus",d);if(g.zIndex>a.ui.dialog.maxZ)a.ui.dialog.maxZ=g.zIndex;if(this.overlay){a.ui.dialog.maxZ+=1;this.overlay.$el.css("z-index",a.ui.dialog.overlay.maxZ=a.ui.dialog.maxZ)}e={scrollTop:this.element.attr("scrollTop"),scrollLeft:this.element.attr("scrollLeft")};a.ui.dialog.maxZ+=
1;this.uiDialog.css("z-index",a.ui.dialog.maxZ);this.element.attr(e);this._trigger("focus",d);return this},open:function(){if(!this._isOpen){var e=this.options,d=this.uiDialog;this.overlay=e.modal?new a.ui.dialog.overlay(this):null;this._size();this._position(e.position);d.show(e.show);this.moveToTop(true);e.modal&&d.bind("keypress.ui-dialog",function(g){if(g.keyCode===a.ui.keyCode.TAB){var l=a(":tabbable",this),n=l.filter(":first");l=l.filter(":last");if(g.target===l[0]&&!g.shiftKey){n.focus(1);
return false}else if(g.target===n[0]&&g.shiftKey){l.focus(1);return false}}});a(this.element.find(":tabbable").get().concat(d.find(".ui-dialog-buttonpane :tabbable").get().concat(d.get()))).eq(0).focus();this._isOpen=true;this._trigger("open");return this}},_createButtons:function(e){var d=this,g=false,l=a("<div></div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),n=a("<div></div>").addClass("ui-dialog-buttonset").appendTo(l);d.uiDialog.find(".ui-dialog-buttonpane").remove();
typeof e==="object"&&e!==null&&a.each(e,function(){return!(g=true)});if(g){a.each(e,function(o,u){u=a.isFunction(u)?{click:u,text:o}:u;o=a('<button type="button"></button>').attr(u,true).unbind("click").click(function(){u.click.apply(d.element[0],arguments)}).appendTo(n);a.fn.button&&o.button()});l.appendTo(d.uiDialog)}},_makeDraggable:function(){function e(o){return{position:o.position,offset:o.offset}}var d=this,g=d.options,l=a(document),n;d.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",
handle:".ui-dialog-titlebar",containment:"document",start:function(o,u){n=g.height==="auto"?"auto":a(this).height();a(this).height(a(this).height()).addClass("ui-dialog-dragging");d._trigger("dragStart",o,e(u))},drag:function(o,u){d._trigger("drag",o,e(u))},stop:function(o,u){g.position=[u.position.left-l.scrollLeft(),u.position.top-l.scrollTop()];a(this).removeClass("ui-dialog-dragging").height(n);d._trigger("dragStop",o,e(u));a.ui.dialog.overlay.resize()}})},_makeResizable:function(e){function d(o){return{originalPosition:o.originalPosition,
originalSize:o.originalSize,position:o.position,size:o.size}}e=e===b?this.options.resizable:e;var g=this,l=g.options,n=g.uiDialog.css("position");e=typeof e==="string"?e:"n,e,s,w,se,sw,ne,nw";g.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:g.element,maxWidth:l.maxWidth,maxHeight:l.maxHeight,minWidth:l.minWidth,minHeight:g._minHeight(),handles:e,start:function(o,u){a(this).addClass("ui-dialog-resizing");g._trigger("resizeStart",o,d(u))},resize:function(o,u){g._trigger("resize",
o,d(u))},stop:function(o,u){a(this).removeClass("ui-dialog-resizing");l.height=a(this).height();l.width=a(this).width();g._trigger("resizeStop",o,d(u));a.ui.dialog.overlay.resize()}}).css("position",n).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var e=this.options;return e.height==="auto"?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(e){var d=[],g=[0,0],l;if(e){if(typeof e==="string"||typeof e==="object"&&"0"in e){d=e.split?e.split(" "):
[e[0],e[1]];if(d.length===1)d[1]=d[0];a.each(["left","top"],function(n,o){if(+d[n]===d[n]){g[n]=d[n];d[n]=o}});e={my:d.join(" "),at:d.join(" "),offset:g.join(" ")}}e=a.extend({},a.ui.dialog.prototype.options.position,e)}else e=a.ui.dialog.prototype.options.position;(l=this.uiDialog.is(":visible"))||this.uiDialog.show();this.uiDialog.css({top:0,left:0}).position(e);l||this.uiDialog.hide()},_setOptions:function(e){var d=this,g={},l=false;a.each(e,function(n,o){d._setOption(n,o);if(n in c)l=true;if(n in
f)g[n]=o});l&&this._size();this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(e,d){var g=this.uiDialog;switch(e){case "beforeclose":e="beforeClose";break;case "buttons":this._createButtons(d);break;case "closeText":this.uiDialogTitlebarCloseText.text(""+d);break;case "dialogClass":g.removeClass(this.options.dialogClass).addClass("ui-dialog ui-widget ui-widget-content ui-corner-all "+d);break;case "disabled":d?g.addClass("ui-dialog-disabled"):g.removeClass("ui-dialog-disabled");
break;case "draggable":var l=g.is(":data(draggable)");l&&!d&&g.draggable("destroy");!l&&d&&this._makeDraggable();break;case "position":this._position(d);break;case "resizable":(l=g.is(":data(resizable)"))&&!d&&g.resizable("destroy");l&&typeof d==="string"&&g.resizable("option","handles",d);!l&&d!==false&&this._makeResizable(d);break;case "title":a(".ui-dialog-title",this.uiDialogTitlebar).html(""+(d||"&#160;"))}a.Widget.prototype._setOption.apply(this,arguments)},_size:function(){var e=this.options,
d,g;this.element.show().css({width:"auto",minHeight:0,height:0});if(e.minWidth>e.width)e.width=e.minWidth;d=this.uiDialog.css({height:"auto",width:e.width}).height();g=Math.max(0,e.minHeight-d);if(e.height==="auto")if(a.support.minHeight)this.element.css({minHeight:g,height:"auto"});else{this.uiDialog.show();e=this.element.css("height","auto").height();this.uiDialog.hide();this.element.height(Math.max(e,g))}else this.element.height(Math.max(e.height-d,0));this.uiDialog.is(":data(resizable)")&&this.uiDialog.resizable("option",
"minHeight",this._minHeight())}});a.extend(a.ui.dialog,{version:"1.8.6",uuid:0,maxZ:0,getTitleId:function(e){e=e.attr("id");if(!e){this.uuid+=1;e=this.uuid}return"ui-dialog-title-"+e},overlay:function(e){this.$el=a.ui.dialog.overlay.create(e)}});a.extend(a.ui.dialog.overlay,{instances:[],oldInstances:[],maxZ:0,events:a.map("focus,mousedown,mouseup,keydown,keypress,click".split(","),function(e){return e+".dialog-overlay"}).join(" "),create:function(e){if(this.instances.length===0){setTimeout(function(){a.ui.dialog.overlay.instances.length&&
a(document).bind(a.ui.dialog.overlay.events,function(g){if(a(g.target).zIndex()<a.ui.dialog.overlay.maxZ)return false})},1);a(document).bind("keydown.dialog-overlay",function(g){if(e.options.closeOnEscape&&g.keyCode&&g.keyCode===a.ui.keyCode.ESCAPE){e.close(g);g.preventDefault()}});a(window).bind("resize.dialog-overlay",a.ui.dialog.overlay.resize)}var d=(this.oldInstances.pop()||a("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});
a.fn.bgiframe&&d.bgiframe();this.instances.push(d);return d},destroy:function(e){this.oldInstances.push(this.instances.splice(a.inArray(e,this.instances),1)[0]);this.instances.length===0&&a([document,window]).unbind(".dialog-overlay");e.remove();var d=0;a.each(this.instances,function(){d=Math.max(d,this.css("z-index"))});this.maxZ=d},height:function(){var e,d;if(a.browser.msie&&a.browser.version<7){e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);d=Math.max(document.documentElement.offsetHeight,
document.body.offsetHeight);return e<d?a(window).height()+"px":e+"px"}else return a(document).height()+"px"},width:function(){var e,d;if(a.browser.msie&&a.browser.version<7){e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth);d=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth);return e<d?a(window).width()+"px":e+"px"}else return a(document).width()+"px"},resize:function(){var e=a([]);a.each(a.ui.dialog.overlay.instances,function(){e=e.add(this)});e.css({width:0,
height:0}).css({width:a.ui.dialog.overlay.width(),height:a.ui.dialog.overlay.height()})}});a.extend(a.ui.dialog.overlay.prototype,{destroy:function(){a.ui.dialog.overlay.destroy(this.$el)}})})(jQuery);
(function(a){a.widget("ui.slider",a.ui.mouse,{widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var b=this,c=this.options;this._mouseSliding=this._keySliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all");c.disabled&&this.element.addClass("ui-slider-disabled ui-disabled");
this.range=a([]);if(c.range){if(c.range===true){this.range=a("<div></div>");if(!c.values)c.values=[this._valueMin(),this._valueMin()];if(c.values.length&&c.values.length!==2)c.values=[c.values[0],c.values[0]]}else this.range=a("<div></div>");this.range.appendTo(this.element).addClass("ui-slider-range");if(c.range==="min"||c.range==="max")this.range.addClass("ui-slider-range-"+c.range);this.range.addClass("ui-widget-header")}a(".ui-slider-handle",this.element).length===0&&a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");
if(c.values&&c.values.length)for(;a(".ui-slider-handle",this.element).length<c.values.length;)a("<a href='#'></a>").appendTo(this.element).addClass("ui-slider-handle");this.handles=a(".ui-slider-handle",this.element).addClass("ui-state-default ui-corner-all");this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(f){f.preventDefault()}).hover(function(){c.disabled||a(this).addClass("ui-state-hover")},function(){a(this).removeClass("ui-state-hover")}).focus(function(){if(c.disabled)a(this).blur();
else{a(".ui-slider .ui-state-focus").removeClass("ui-state-focus");a(this).addClass("ui-state-focus")}}).blur(function(){a(this).removeClass("ui-state-focus")});this.handles.each(function(f){a(this).data("index.ui-slider-handle",f)});this.handles.keydown(function(f){var e=true,d=a(this).data("index.ui-slider-handle"),g,l,n;if(!b.options.disabled){switch(f.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:e=
false;if(!b._keySliding){b._keySliding=true;a(this).addClass("ui-state-active");g=b._start(f,d);if(g===false)return}}n=b.options.step;g=b.options.values&&b.options.values.length?l=b.values(d):l=b.value();switch(f.keyCode){case a.ui.keyCode.HOME:l=b._valueMin();break;case a.ui.keyCode.END:l=b._valueMax();break;case a.ui.keyCode.PAGE_UP:l=b._trimAlignValue(g+(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.PAGE_DOWN:l=b._trimAlignValue(g-(b._valueMax()-b._valueMin())/5);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(g===
b._valueMax())return;l=b._trimAlignValue(g+n);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(g===b._valueMin())return;l=b._trimAlignValue(g-n)}b._slide(f,d,l);return e}}).keyup(function(f){var e=a(this).data("index.ui-slider-handle");if(b._keySliding){b._keySliding=false;b._stop(f,e);b._change(f,e);a(this).removeClass("ui-state-active")}});this._refreshValue();this._animateOff=false},destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider");
this._mouseDestroy();return this},_mouseCapture:function(b){var c=this.options,f,e,d,g,l;if(c.disabled)return false;this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();f=this._normValueFromMouse({x:b.pageX,y:b.pageY});e=this._valueMax()-this._valueMin()+1;g=this;this.handles.each(function(n){var o=Math.abs(f-g.values(n));if(e>o){e=o;d=a(this);l=n}});if(c.range===true&&this.values(1)===c.min){l+=1;d=a(this.handles[l])}if(this._start(b,
l)===false)return false;this._mouseSliding=true;g._handleIndex=l;d.addClass("ui-state-active").focus();c=d.offset();this._clickOffset=!a(b.target).parents().andSelf().is(".ui-slider-handle")?{left:0,top:0}:{left:b.pageX-c.left-d.width()/2,top:b.pageY-c.top-d.height()/2-(parseInt(d.css("borderTopWidth"),10)||0)-(parseInt(d.css("borderBottomWidth"),10)||0)+(parseInt(d.css("marginTop"),10)||0)};this._slide(b,l,f);return this._animateOff=true},_mouseStart:function(){return true},_mouseDrag:function(b){var c=
this._normValueFromMouse({x:b.pageX,y:b.pageY});this._slide(b,this._handleIndex,c);return false},_mouseStop:function(b){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(b,this._handleIndex);this._change(b,this._handleIndex);this._clickOffset=this._handleIndex=null;return this._animateOff=false},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var c;if(this.orientation==="horizontal"){c=
this.elementSize.width;b=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{c=this.elementSize.height;b=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}c=b/c;if(c>1)c=1;if(c<0)c=0;if(this.orientation==="vertical")c=1-c;b=this._valueMax()-this._valueMin();return this._trimAlignValue(this._valueMin()+c*b)},_start:function(b,c){var f={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(c);
f.values=this.values()}return this._trigger("start",b,f)},_slide:function(b,c,f){var e;if(this.options.values&&this.options.values.length){e=this.values(c?0:1);if(this.options.values.length===2&&this.options.range===true&&(c===0&&f>e||c===1&&f<e))f=e;if(f!==this.values(c)){e=this.values();e[c]=f;b=this._trigger("slide",b,{handle:this.handles[c],value:f,values:e});this.values(c?0:1);b!==false&&this.values(c,f,true)}}else if(f!==this.value()){b=this._trigger("slide",b,{handle:this.handles[c],value:f});
b!==false&&this.value(f)}},_stop:function(b,c){var f={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(c);f.values=this.values()}this._trigger("stop",b,f)},_change:function(b,c){if(!this._keySliding&&!this._mouseSliding){var f={handle:this.handles[c],value:this.value()};if(this.options.values&&this.options.values.length){f.value=this.values(c);f.values=this.values()}this._trigger("change",b,f)}},value:function(b){if(arguments.length){this.options.value=
this._trimAlignValue(b);this._refreshValue();this._change(null,0)}return this._value()},values:function(b,c){var f,e,d;if(arguments.length>1){this.options.values[b]=this._trimAlignValue(c);this._refreshValue();this._change(null,b)}if(arguments.length)if(a.isArray(arguments[0])){f=this.options.values;e=arguments[0];for(d=0;d<f.length;d+=1){f[d]=this._trimAlignValue(e[d]);this._change(null,d)}this._refreshValue()}else return this.options.values&&this.options.values.length?this._values(b):this.value();
else return this._values()},_setOption:function(b,c){var f,e=0;if(a.isArray(this.options.values))e=this.options.values.length;a.Widget.prototype._setOption.apply(this,arguments);switch(b){case "disabled":if(c){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.attr("disabled","disabled");this.element.addClass("ui-disabled")}else{this.handles.removeAttr("disabled");this.element.removeClass("ui-disabled")}break;case "orientation":this._detectOrientation();
this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case "value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case "values":this._animateOff=true;this._refreshValue();for(f=0;f<e;f+=1)this._change(null,f);this._animateOff=false}},_value:function(){return this._trimAlignValue(this.options.value)},_values:function(b){var c,f;if(arguments.length){c=this.options.values[b];
return this._trimAlignValue(c)}else{c=this.options.values.slice();for(f=0;f<c.length;f+=1)c[f]=this._trimAlignValue(c[f]);return c}},_trimAlignValue:function(b){if(b<this._valueMin())return this._valueMin();if(b>this._valueMax())return this._valueMax();var c=this.options.step>0?this.options.step:1,f=b%c;b-=f;if(Math.abs(f)*2>=c)b+=f>0?c:-c;return parseFloat(b.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b=this.options.range,
c=this.options,f=this,e=!this._animateOff?c.animate:false,d,g={},l,n,o,u;if(this.options.values&&this.options.values.length)this.handles.each(function(r){d=(f.values(r)-f._valueMin())/(f._valueMax()-f._valueMin())*100;g[f.orientation==="horizontal"?"left":"bottom"]=d+"%";a(this).stop(1,1)[e?"animate":"css"](g,c.animate);if(f.options.range===true)if(f.orientation==="horizontal"){if(r===0)f.range.stop(1,1)[e?"animate":"css"]({left:d+"%"},c.animate);if(r===1)f.range[e?"animate":"css"]({width:d-l+"%"},
{queue:false,duration:c.animate})}else{if(r===0)f.range.stop(1,1)[e?"animate":"css"]({bottom:d+"%"},c.animate);if(r===1)f.range[e?"animate":"css"]({height:d-l+"%"},{queue:false,duration:c.animate})}l=d});else{n=this.value();o=this._valueMin();u=this._valueMax();d=u!==o?(n-o)/(u-o)*100:0;g[f.orientation==="horizontal"?"left":"bottom"]=d+"%";this.handle.stop(1,1)[e?"animate":"css"](g,c.animate);if(b==="min"&&this.orientation==="horizontal")this.range.stop(1,1)[e?"animate":"css"]({width:d+"%"},c.animate);
if(b==="max"&&this.orientation==="horizontal")this.range[e?"animate":"css"]({width:100-d+"%"},{queue:false,duration:c.animate});if(b==="min"&&this.orientation==="vertical")this.range.stop(1,1)[e?"animate":"css"]({height:d+"%"},c.animate);if(b==="max"&&this.orientation==="vertical")this.range[e?"animate":"css"]({height:100-d+"%"},{queue:false,duration:c.animate})}}});a.extend(a.ui.slider,{version:"1.8.6"})})(jQuery);
(function(a,b){var c=0,f=0;a.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:false,cookie:null,collapsible:false,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(true)},_setOption:function(e,d){if(e=="selected")this.options.collapsible&&d==this.options.selected||
this.select(d);else{this.options[e]=d;this._tabify()}},_tabId:function(e){return e.title&&e.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++c},_sanitizeSelector:function(e){return e.replace(/:/g,"\\:")},_cookie:function(){var e=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++f);return a.cookie.apply(null,[e].concat(a.makeArray(arguments)))},_ui:function(e,d){return{tab:e,panel:d,index:this.anchors.index(e)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var e=
a(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},_tabify:function(e){function d(A,x){A.css("display","");!a.support.opacity&&x.opacity&&A[0].style.removeAttribute("filter")}var g=this,l=this.options,n=/^#.+/;this.list=this.element.find("ol,ul").eq(0);this.lis=a(" > li:has(a[href])",this.list);this.anchors=this.lis.map(function(){return a("a",this)[0]});this.panels=a([]);this.anchors.each(function(A,x){var h=a(x).attr("href"),F=h.split("#")[0],L;if(F&&(F===location.toString().split("#")[0]||
(L=a("base")[0])&&F===L.href)){h=x.hash;x.href=h}if(n.test(h))g.panels=g.panels.add(g._sanitizeSelector(h));else if(h&&h!=="#"){a.data(x,"href.tabs",h);a.data(x,"load.tabs",h.replace(/#.*$/,""));h=g._tabId(x);x.href="#"+h;x=a("#"+h);if(!x.length){x=a(l.panelTemplate).attr("id",h).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(g.panels[A-1]||g.list);x.data("destroy.tabs",true)}g.panels=g.panels.add(x)}else l.disabled.push(A)});if(e){this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all");
this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.lis.addClass("ui-state-default ui-corner-top");this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom");if(l.selected===b){location.hash&&this.anchors.each(function(A,x){if(x.hash==location.hash){l.selected=A;return false}});if(typeof l.selected!=="number"&&l.cookie)l.selected=parseInt(g._cookie(),10);if(typeof l.selected!=="number"&&this.lis.filter(".ui-tabs-selected").length)l.selected=
this.lis.index(this.lis.filter(".ui-tabs-selected"));l.selected=l.selected||(this.lis.length?0:-1)}else if(l.selected===null)l.selected=-1;l.selected=l.selected>=0&&this.anchors[l.selected]||l.selected<0?l.selected:0;l.disabled=a.unique(l.disabled.concat(a.map(this.lis.filter(".ui-state-disabled"),function(A){return g.lis.index(A)}))).sort();a.inArray(l.selected,l.disabled)!=-1&&l.disabled.splice(a.inArray(l.selected,l.disabled),1);this.panels.addClass("ui-tabs-hide");this.lis.removeClass("ui-tabs-selected ui-state-active");
if(l.selected>=0&&this.anchors.length){a(g._sanitizeSelector(g.anchors[l.selected].hash)).removeClass("ui-tabs-hide");this.lis.eq(l.selected).addClass("ui-tabs-selected ui-state-active");g.element.queue("tabs",function(){g._trigger("show",null,g._ui(g.anchors[l.selected],a(g._sanitizeSelector(g.anchors[l.selected].hash))))});this.load(l.selected)}a(window).bind("unload",function(){g.lis.add(g.anchors).unbind(".tabs");g.lis=g.anchors=g.panels=null})}else l.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"));
this.element[l.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible");l.cookie&&this._cookie(l.selected,l.cookie);e=0;for(var o;o=this.lis[e];e++)a(o)[a.inArray(e,l.disabled)!=-1&&!a(o).hasClass("ui-tabs-selected")?"addClass":"removeClass"]("ui-state-disabled");l.cache===false&&this.anchors.removeData("cache.tabs");this.lis.add(this.anchors).unbind(".tabs");if(l.event!=="mouseover"){var u=function(A,x){x.is(":not(.ui-state-disabled)")&&x.addClass("ui-state-"+A)};this.lis.bind("mouseover.tabs",
function(){u("hover",a(this))});this.lis.bind("mouseout.tabs",function(){a(this).removeClass("ui-state-hover")});this.anchors.bind("focus.tabs",function(){u("focus",a(this).closest("li"))});this.anchors.bind("blur.tabs",function(){a(this).closest("li").removeClass("ui-state-focus")})}var r,p;if(l.fx)if(a.isArray(l.fx)){r=l.fx[0];p=l.fx[1]}else r=p=l.fx;var s=p?function(A,x){a(A).closest("li").addClass("ui-tabs-selected ui-state-active");x.hide().removeClass("ui-tabs-hide").animate(p,p.duration||"normal",
function(){d(x,p);g._trigger("show",null,g._ui(A,x[0]))})}:function(A,x){a(A).closest("li").addClass("ui-tabs-selected ui-state-active");x.removeClass("ui-tabs-hide");g._trigger("show",null,g._ui(A,x[0]))},z=r?function(A,x){x.animate(r,r.duration||"normal",function(){g.lis.removeClass("ui-tabs-selected ui-state-active");x.addClass("ui-tabs-hide");d(x,r);g.element.dequeue("tabs")})}:function(A,x){g.lis.removeClass("ui-tabs-selected ui-state-active");x.addClass("ui-tabs-hide");g.element.dequeue("tabs")};
this.anchors.bind(l.event+".tabs",function(){var A=this,x=a(A).closest("li"),h=g.panels.filter(":not(.ui-tabs-hide)"),F=a(g._sanitizeSelector(A.hash));if(x.hasClass("ui-tabs-selected")&&!l.collapsible||x.hasClass("ui-state-disabled")||x.hasClass("ui-state-processing")||g.panels.filter(":animated").length||g._trigger("select",null,g._ui(this,F[0]))===false){this.blur();return false}l.selected=g.anchors.index(this);g.abort();if(l.collapsible)if(x.hasClass("ui-tabs-selected")){l.selected=-1;l.cookie&&
g._cookie(l.selected,l.cookie);g.element.queue("tabs",function(){z(A,h)}).dequeue("tabs");this.blur();return false}else if(!h.length){l.cookie&&g._cookie(l.selected,l.cookie);g.element.queue("tabs",function(){s(A,F)});g.load(g.anchors.index(this));this.blur();return false}l.cookie&&g._cookie(l.selected,l.cookie);if(F.length){h.length&&g.element.queue("tabs",function(){z(A,h)});g.element.queue("tabs",function(){s(A,F)});g.load(g.anchors.index(this))}else throw"jQuery UI Tabs: Mismatching fragment identifier.";
a.browser.msie&&this.blur()});this.anchors.bind("click.tabs",function(){return false})},_getIndex:function(e){if(typeof e=="string")e=this.anchors.index(this.anchors.filter("[href$="+e+"]"));return e},destroy:function(){var e=this.options;this.abort();this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs");this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all");this.anchors.each(function(){var d=
a.data(this,"href.tabs");if(d)this.href=d;var g=a(this).unbind(".tabs");a.each(["href","load","cache"],function(l,n){g.removeData(n+".tabs")})});this.lis.unbind(".tabs").add(this.panels).each(function(){a.data(this,"destroy.tabs")?a(this).remove():a(this).removeClass("ui-state-default ui-corner-top ui-tabs-selected ui-state-active ui-state-hover ui-state-focus ui-state-disabled ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide")});e.cookie&&this._cookie(null,e.cookie);return this},add:function(e,
d,g){if(g===b)g=this.anchors.length;var l=this,n=this.options;d=a(n.tabTemplate.replace(/#\{href\}/g,e).replace(/#\{label\}/g,d));e=!e.indexOf("#")?e.replace("#",""):this._tabId(a("a",d)[0]);d.addClass("ui-state-default ui-corner-top").data("destroy.tabs",true);var o=a("#"+e);o.length||(o=a(n.panelTemplate).attr("id",e).data("destroy.tabs",true));o.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide");if(g>=this.lis.length){d.appendTo(this.list);o.appendTo(this.list[0].parentNode)}else{d.insertBefore(this.lis[g]);
o.insertBefore(this.panels[g])}n.disabled=a.map(n.disabled,function(u){return u>=g?++u:u});this._tabify();if(this.anchors.length==1){n.selected=0;d.addClass("ui-tabs-selected ui-state-active");o.removeClass("ui-tabs-hide");this.element.queue("tabs",function(){l._trigger("show",null,l._ui(l.anchors[0],l.panels[0]))});this.load(0)}this._trigger("add",null,this._ui(this.anchors[g],this.panels[g]));return this},remove:function(e){e=this._getIndex(e);var d=this.options,g=this.lis.eq(e).remove(),l=this.panels.eq(e).remove();
if(g.hasClass("ui-tabs-selected")&&this.anchors.length>1)this.select(e+(e+1<this.anchors.length?1:-1));d.disabled=a.map(a.grep(d.disabled,function(n){return n!=e}),function(n){return n>=e?--n:n});this._tabify();this._trigger("remove",null,this._ui(g.find("a")[0],l[0]));return this},enable:function(e){e=this._getIndex(e);var d=this.options;if(a.inArray(e,d.disabled)!=-1){this.lis.eq(e).removeClass("ui-state-disabled");d.disabled=a.grep(d.disabled,function(g){return g!=e});this._trigger("enable",null,
this._ui(this.anchors[e],this.panels[e]));return this}},disable:function(e){e=this._getIndex(e);var d=this.options;if(e!=d.selected){this.lis.eq(e).addClass("ui-state-disabled");d.disabled.push(e);d.disabled.sort();this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))}return this},select:function(e){e=this._getIndex(e);if(e==-1)if(this.options.collapsible&&this.options.selected!=-1)e=this.options.selected;else return this;this.anchors.eq(e).trigger(this.options.event+".tabs");return this},
load:function(e){e=this._getIndex(e);var d=this,g=this.options,l=this.anchors.eq(e)[0],n=a.data(l,"load.tabs");this.abort();if(!n||this.element.queue("tabs").length!==0&&a.data(l,"cache.tabs"))this.element.dequeue("tabs");else{this.lis.eq(e).addClass("ui-state-processing");if(g.spinner){var o=a("span",l);o.data("label.tabs",o.html()).html(g.spinner)}this.xhr=a.ajax(a.extend({},g.ajaxOptions,{url:n,success:function(u,r){a(d._sanitizeSelector(l.hash)).html(u);d._cleanup();g.cache&&a.data(l,"cache.tabs",
true);d._trigger("load",null,d._ui(d.anchors[e],d.panels[e]));try{g.ajaxOptions.success(u,r)}catch(p){}},error:function(u,r){d._cleanup();d._trigger("load",null,d._ui(d.anchors[e],d.panels[e]));try{g.ajaxOptions.error(u,r,e,l)}catch(p){}}}));d.element.dequeue("tabs");return this}},abort:function(){this.element.queue([]);this.panels.stop(false,true);this.element.queue("tabs",this.element.queue("tabs").splice(-2,2));if(this.xhr){this.xhr.abort();delete this.xhr}this._cleanup();return this},url:function(e,
d){this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",d);return this},length:function(){return this.anchors.length}});a.extend(a.ui.tabs,{version:"1.8.6"});a.extend(a.ui.tabs.prototype,{rotation:null,rotate:function(e,d){var g=this,l=this.options,n=g._rotate||(g._rotate=function(o){clearTimeout(g.rotation);g.rotation=setTimeout(function(){var u=l.selected;g.select(++u<g.anchors.length?u:0)},e);o&&o.stopPropagation()});d=g._unrotate||(g._unrotate=!d?function(o){o.clientX&&g.rotate(null)}:
function(){t=l.selected;n()});if(e){this.element.bind("tabsshow",n);this.anchors.bind(l.event+".tabs",d);n()}else{clearTimeout(g.rotation);this.element.unbind("tabsshow",n);this.anchors.unbind(l.event+".tabs",d);delete this._rotate;delete this._unrotate}return this}})})(jQuery);
(function(a,b){function c(){this.debug=false;this._curInst=null;this._keyEvent=false;this._disabledInputs=[];this._inDialog=this._datepickerShowing=false;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass=
"ui-datepicker-days-cell-over";this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su",
"Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:false,showMonthAfterYear:false,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,gotoCurrent:false,changeMonth:false,changeYear:false,yearRange:"c-10:c+10",showOtherMonths:false,selectOtherMonths:false,showWeek:false,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",
minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:true,showButtonPanel:false,autoSize:false};a.extend(this._defaults,this.regional[""]);this.dpDiv=a('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all ui-helper-hidden-accessible"></div>')}function f(d,g){a.extend(d,
g);for(var l in g)if(g[l]==null||g[l]==b)d[l]=g[l];return d}a.extend(a.ui,{datepicker:{version:"1.8.6"}});var e=(new Date).getTime();a.extend(c.prototype,{markerClassName:"hasDatepicker",log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(d){f(this._defaults,d||{});return this},_attachDatepicker:function(d,g){var l=null,n;for(n in this._defaults){var o=d.getAttribute("date:"+n);if(o){l=l||{};try{l[n]=eval(o)}catch(u){l[n]=
o}}}n=d.nodeName.toLowerCase();o=n=="div"||n=="span";if(!d.id){this.uuid+=1;d.id="dp"+this.uuid}var r=this._newInst(a(d),o);r.settings=a.extend({},g||{},l||{});if(n=="input")this._connectDatepicker(d,r);else o&&this._inlineDatepicker(d,r)},_newInst:function(d,g){return{id:d[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:d,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:g,dpDiv:!g?this.dpDiv:a('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')}},
_connectDatepicker:function(d,g){var l=a(d);g.append=a([]);g.trigger=a([]);if(!l.hasClass(this.markerClassName)){this._attachments(l,g);l.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(n,o,u){g.settings[o]=u}).bind("getData.datepicker",function(n,o){return this._get(g,o)});this._autoSize(g);a.data(d,"datepicker",g)}},_attachments:function(d,g){var l=this._get(g,"appendText"),n=this._get(g,"isRTL");g.append&&
g.append.remove();if(l){g.append=a('<span class="'+this._appendClass+'">'+l+"</span>");d[n?"before":"after"](g.append)}d.unbind("focus",this._showDatepicker);g.trigger&&g.trigger.remove();l=this._get(g,"showOn");if(l=="focus"||l=="both")d.focus(this._showDatepicker);if(l=="button"||l=="both"){l=this._get(g,"buttonText");var o=this._get(g,"buttonImage");g.trigger=a(this._get(g,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:o,alt:l,title:l}):a('<button type="button"></button>').addClass(this._triggerClass).html(o==
""?l:a("<img/>").attr({src:o,alt:l,title:l})));d[n?"before":"after"](g.trigger);g.trigger.click(function(){a.datepicker._datepickerShowing&&a.datepicker._lastInput==d[0]?a.datepicker._hideDatepicker():a.datepicker._showDatepicker(d[0]);return false})}},_autoSize:function(d){if(this._get(d,"autoSize")&&!d.inline){var g=new Date(2009,11,20),l=this._get(d,"dateFormat");if(l.match(/[DM]/)){var n=function(o){for(var u=0,r=0,p=0;p<o.length;p++)if(o[p].length>u){u=o[p].length;r=p}return r};g.setMonth(n(this._get(d,
l.match(/MM/)?"monthNames":"monthNamesShort")));g.setDate(n(this._get(d,l.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay())}d.input.attr("size",this._formatDate(d,g).length)}},_inlineDatepicker:function(d,g){var l=a(d);if(!l.hasClass(this.markerClassName)){l.addClass(this.markerClassName).append(g.dpDiv).bind("setData.datepicker",function(n,o,u){g.settings[o]=u}).bind("getData.datepicker",function(n,o){return this._get(g,o)});a.data(d,"datepicker",g);this._setDate(g,this._getDefaultDate(g),
true);this._updateDatepicker(g);this._updateAlternate(g)}},_dialogDatepicker:function(d,g,l,n,o){d=this._dialogInst;if(!d){this.uuid+=1;this._dialogInput=a('<input type="text" id="'+("dp"+this.uuid)+'" style="position: absolute; top: -100px; width: 0px; z-index: -10;"/>');this._dialogInput.keydown(this._doKeyDown);a("body").append(this._dialogInput);d=this._dialogInst=this._newInst(this._dialogInput,false);d.settings={};a.data(this._dialogInput[0],"datepicker",d)}f(d.settings,n||{});g=g&&g.constructor==
Date?this._formatDate(d,g):g;this._dialogInput.val(g);this._pos=o?o.length?o:[o.pageX,o.pageY]:null;if(!this._pos)this._pos=[document.documentElement.clientWidth/2-100+(document.documentElement.scrollLeft||document.body.scrollLeft),document.documentElement.clientHeight/2-150+(document.documentElement.scrollTop||document.body.scrollTop)];this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");d.settings.onSelect=l;this._inDialog=true;this.dpDiv.addClass(this._dialogClass);this._showDatepicker(this._dialogInput[0]);
a.blockUI&&a.blockUI(this.dpDiv);a.data(this._dialogInput[0],"datepicker",d);return this},_destroyDatepicker:function(d){var g=a(d),l=a.data(d,"datepicker");if(g.hasClass(this.markerClassName)){var n=d.nodeName.toLowerCase();a.removeData(d,"datepicker");if(n=="input"){l.append.remove();l.trigger.remove();g.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)}else if(n=="div"||n=="span")g.removeClass(this.markerClassName).empty()}},
_enableDatepicker:function(d){var g=a(d),l=a.data(d,"datepicker");if(g.hasClass(this.markerClassName)){var n=d.nodeName.toLowerCase();if(n=="input"){d.disabled=false;l.trigger.filter("button").each(function(){this.disabled=false}).end().filter("img").css({opacity:"1.0",cursor:""})}else if(n=="div"||n=="span")g.children("."+this._inlineClass).children().removeClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,function(o){return o==d?null:o})}},_disableDatepicker:function(d){var g=
a(d),l=a.data(d,"datepicker");if(g.hasClass(this.markerClassName)){var n=d.nodeName.toLowerCase();if(n=="input"){d.disabled=true;l.trigger.filter("button").each(function(){this.disabled=true}).end().filter("img").css({opacity:"0.5",cursor:"default"})}else if(n=="div"||n=="span")g.children("."+this._inlineClass).children().addClass("ui-state-disabled");this._disabledInputs=a.map(this._disabledInputs,function(o){return o==d?null:o});this._disabledInputs[this._disabledInputs.length]=d}},_isDisabledDatepicker:function(d){if(!d)return false;
for(var g=0;g<this._disabledInputs.length;g++)if(this._disabledInputs[g]==d)return true;return false},_getInst:function(d){try{return a.data(d,"datepicker")}catch(g){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(d,g,l){var n=this._getInst(d);if(arguments.length==2&&typeof g=="string")return g=="defaults"?a.extend({},a.datepicker._defaults):n?g=="all"?a.extend({},n.settings):this._get(n,g):null;var o=g||{};if(typeof g=="string"){o={};o[g]=l}if(n){this._curInst==n&&
this._hideDatepicker();var u=this._getDateDatepicker(d,true);f(n.settings,o);this._attachments(a(d),n);this._autoSize(n);this._setDateDatepicker(d,u);this._updateDatepicker(n)}},_changeDatepicker:function(d,g,l){this._optionDatepicker(d,g,l)},_refreshDatepicker:function(d){(d=this._getInst(d))&&this._updateDatepicker(d)},_setDateDatepicker:function(d,g){if(d=this._getInst(d)){this._setDate(d,g);this._updateDatepicker(d);this._updateAlternate(d)}},_getDateDatepicker:function(d,g){(d=this._getInst(d))&&
!d.inline&&this._setDateFromField(d,g);return d?this._getDate(d):null},_doKeyDown:function(d){var g=a.datepicker._getInst(d.target),l=true,n=g.dpDiv.is(".ui-datepicker-rtl");g._keyEvent=true;if(a.datepicker._datepickerShowing)switch(d.keyCode){case 9:a.datepicker._hideDatepicker();l=false;break;case 13:l=a("td."+a.datepicker._dayOverClass,g.dpDiv).add(a("td."+a.datepicker._currentClass,g.dpDiv));l[0]?a.datepicker._selectDay(d.target,g.selectedMonth,g.selectedYear,l[0]):a.datepicker._hideDatepicker();
return false;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(d.target,d.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(d.target,d.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 35:if(d.ctrlKey||d.metaKey)a.datepicker._clearDate(d.target);l=d.ctrlKey||d.metaKey;break;case 36:if(d.ctrlKey||d.metaKey)a.datepicker._gotoToday(d.target);l=d.ctrlKey||
d.metaKey;break;case 37:if(d.ctrlKey||d.metaKey)a.datepicker._adjustDate(d.target,n?+1:-1,"D");l=d.ctrlKey||d.metaKey;if(d.originalEvent.altKey)a.datepicker._adjustDate(d.target,d.ctrlKey?-a.datepicker._get(g,"stepBigMonths"):-a.datepicker._get(g,"stepMonths"),"M");break;case 38:if(d.ctrlKey||d.metaKey)a.datepicker._adjustDate(d.target,-7,"D");l=d.ctrlKey||d.metaKey;break;case 39:if(d.ctrlKey||d.metaKey)a.datepicker._adjustDate(d.target,n?-1:+1,"D");l=d.ctrlKey||d.metaKey;if(d.originalEvent.altKey)a.datepicker._adjustDate(d.target,
d.ctrlKey?+a.datepicker._get(g,"stepBigMonths"):+a.datepicker._get(g,"stepMonths"),"M");break;case 40:if(d.ctrlKey||d.metaKey)a.datepicker._adjustDate(d.target,+7,"D");l=d.ctrlKey||d.metaKey;break;default:l=false}else if(d.keyCode==36&&d.ctrlKey)a.datepicker._showDatepicker(this);else l=false;if(l){d.preventDefault();d.stopPropagation()}},_doKeyPress:function(d){var g=a.datepicker._getInst(d.target);if(a.datepicker._get(g,"constrainInput")){g=a.datepicker._possibleChars(a.datepicker._get(g,"dateFormat"));
var l=String.fromCharCode(d.charCode==b?d.keyCode:d.charCode);return d.ctrlKey||l<" "||!g||g.indexOf(l)>-1}},_doKeyUp:function(d){d=a.datepicker._getInst(d.target);if(d.input.val()!=d.lastVal)try{if(a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d))){a.datepicker._setDateFromField(d);a.datepicker._updateAlternate(d);a.datepicker._updateDatepicker(d)}}catch(g){a.datepicker.log(g)}return true},_showDatepicker:function(d){d=d.target||
d;if(d.nodeName.toLowerCase()!="input")d=a("input",d.parentNode)[0];if(!(a.datepicker._isDisabledDatepicker(d)||a.datepicker._lastInput==d)){var g=a.datepicker._getInst(d);a.datepicker._curInst&&a.datepicker._curInst!=g&&a.datepicker._curInst.dpDiv.stop(true,true);var l=a.datepicker._get(g,"beforeShow");f(g.settings,l?l.apply(d,[d,g]):{});g.lastVal=null;a.datepicker._lastInput=d;a.datepicker._setDateFromField(g);if(a.datepicker._inDialog)d.value="";if(!a.datepicker._pos){a.datepicker._pos=a.datepicker._findPos(d);
a.datepicker._pos[1]+=d.offsetHeight}var n=false;a(d).parents().each(function(){n|=a(this).css("position")=="fixed";return!n});if(n&&a.browser.opera){a.datepicker._pos[0]-=document.documentElement.scrollLeft;a.datepicker._pos[1]-=document.documentElement.scrollTop}l={left:a.datepicker._pos[0],top:a.datepicker._pos[1]};a.datepicker._pos=null;g.dpDiv.css({position:"absolute",display:"block",top:"-1000px"});a.datepicker._updateDatepicker(g);l=a.datepicker._checkOffset(g,l,n);g.dpDiv.css({position:a.datepicker._inDialog&&
a.blockUI?"static":n?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"});if(!g.inline){l=a.datepicker._get(g,"showAnim");var o=a.datepicker._get(g,"duration"),u=function(){a.datepicker._datepickerShowing=true;var r=a.datepicker._getBorders(g.dpDiv);g.dpDiv.find("iframe.ui-datepicker-cover").css({left:-r[0],top:-r[1],width:g.dpDiv.outerWidth(),height:g.dpDiv.outerHeight()})};g.dpDiv.zIndex(a(d).zIndex()+1);a.effects&&a.effects[l]?g.dpDiv.show(l,a.datepicker._get(g,"showOptions"),o,
u):g.dpDiv[l||"show"](l?o:null,u);if(!l||!o)u();g.input.is(":visible")&&!g.input.is(":disabled")&&g.input.focus();a.datepicker._curInst=g}}},_updateDatepicker:function(d){var g=this,l=a.datepicker._getBorders(d.dpDiv);d.dpDiv.empty().append(this._generateHTML(d)).find("iframe.ui-datepicker-cover").css({left:-l[0],top:-l[1],width:d.dpDiv.outerWidth(),height:d.dpDiv.outerHeight()}).end().find("button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a").bind("mouseout",function(){a(this).removeClass("ui-state-hover");
this.className.indexOf("ui-datepicker-prev")!=-1&&a(this).removeClass("ui-datepicker-prev-hover");this.className.indexOf("ui-datepicker-next")!=-1&&a(this).removeClass("ui-datepicker-next-hover")}).bind("mouseover",function(){if(!g._isDisabledDatepicker(d.inline?d.dpDiv.parent()[0]:d.input[0])){a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover");a(this).addClass("ui-state-hover");this.className.indexOf("ui-datepicker-prev")!=-1&&a(this).addClass("ui-datepicker-prev-hover");
this.className.indexOf("ui-datepicker-next")!=-1&&a(this).addClass("ui-datepicker-next-hover")}}).end().find("."+this._dayOverClass+" a").trigger("mouseover").end();l=this._getNumberOfMonths(d);var n=l[1];n>1?d.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"):d.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");d.dpDiv[(l[0]!=1||l[1]!=1?"add":"remove")+"Class"]("ui-datepicker-multi");d.dpDiv[(this._get(d,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");
d==a.datepicker._curInst&&a.datepicker._datepickerShowing&&d.input&&d.input.is(":visible")&&!d.input.is(":disabled")&&d.input.focus()},_getBorders:function(d){var g=function(l){return{thin:1,medium:2,thick:3}[l]||l};return[parseFloat(g(d.css("border-left-width"))),parseFloat(g(d.css("border-top-width")))]},_checkOffset:function(d,g,l){var n=d.dpDiv.outerWidth(),o=d.dpDiv.outerHeight(),u=d.input?d.input.outerWidth():0,r=d.input?d.input.outerHeight():0,p=document.documentElement.clientWidth+a(document).scrollLeft(),
s=document.documentElement.clientHeight+a(document).scrollTop();g.left-=this._get(d,"isRTL")?n-u:0;g.left-=l&&g.left==d.input.offset().left?a(document).scrollLeft():0;g.top-=l&&g.top==d.input.offset().top+r?a(document).scrollTop():0;g.left-=Math.min(g.left,g.left+n>p&&p>n?Math.abs(g.left+n-p):0);g.top-=Math.min(g.top,g.top+o>s&&s>o?Math.abs(o+r):0);return g},_findPos:function(d){for(var g=this._get(this._getInst(d),"isRTL");d&&(d.type=="hidden"||d.nodeType!=1);)d=d[g?"previousSibling":"nextSibling"];
d=a(d).offset();return[d.left,d.top]},_hideDatepicker:function(d){var g=this._curInst;if(!(!g||d&&g!=a.data(d,"datepicker")))if(this._datepickerShowing){d=this._get(g,"showAnim");var l=this._get(g,"duration"),n=function(){a.datepicker._tidyDialog(g);this._curInst=null};a.effects&&a.effects[d]?g.dpDiv.hide(d,a.datepicker._get(g,"showOptions"),l,n):g.dpDiv[d=="slideDown"?"slideUp":d=="fadeIn"?"fadeOut":"hide"](d?l:null,n);d||n();if(d=this._get(g,"onClose"))d.apply(g.input?g.input[0]:null,[g.input?g.input.val():
"",g]);this._datepickerShowing=false;this._lastInput=null;if(this._inDialog){this._dialogInput.css({position:"absolute",left:"0",top:"-100px"});if(a.blockUI){a.unblockUI();a("body").append(this.dpDiv)}}this._inDialog=false}},_tidyDialog:function(d){d.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(d){if(a.datepicker._curInst){d=a(d.target);d[0].id!=a.datepicker._mainDivId&&d.parents("#"+a.datepicker._mainDivId).length==0&&!d.hasClass(a.datepicker.markerClassName)&&
!d.hasClass(a.datepicker._triggerClass)&&a.datepicker._datepickerShowing&&!(a.datepicker._inDialog&&a.blockUI)&&a.datepicker._hideDatepicker()}},_adjustDate:function(d,g,l){d=a(d);var n=this._getInst(d[0]);if(!this._isDisabledDatepicker(d[0])){this._adjustInstDate(n,g+(l=="M"?this._get(n,"showCurrentAtPos"):0),l);this._updateDatepicker(n)}},_gotoToday:function(d){d=a(d);var g=this._getInst(d[0]);if(this._get(g,"gotoCurrent")&&g.currentDay){g.selectedDay=g.currentDay;g.drawMonth=g.selectedMonth=g.currentMonth;
g.drawYear=g.selectedYear=g.currentYear}else{var l=new Date;g.selectedDay=l.getDate();g.drawMonth=g.selectedMonth=l.getMonth();g.drawYear=g.selectedYear=l.getFullYear()}this._notifyChange(g);this._adjustDate(d)},_selectMonthYear:function(d,g,l){d=a(d);var n=this._getInst(d[0]);n._selectingMonthYear=false;n["selected"+(l=="M"?"Month":"Year")]=n["draw"+(l=="M"?"Month":"Year")]=parseInt(g.options[g.selectedIndex].value,10);this._notifyChange(n);this._adjustDate(d)},_clickMonthYear:function(d){var g=
this._getInst(a(d)[0]);g.input&&g._selectingMonthYear&&setTimeout(function(){g.input.focus()},0);g._selectingMonthYear=!g._selectingMonthYear},_selectDay:function(d,g,l,n){var o=a(d);if(!(a(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0]))){o=this._getInst(o[0]);o.selectedDay=o.currentDay=a("a",n).html();o.selectedMonth=o.currentMonth=g;o.selectedYear=o.currentYear=l;this._selectDate(d,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear))}},_clearDate:function(d){d=
a(d);this._getInst(d[0]);this._selectDate(d,"")},_selectDate:function(d,g){d=this._getInst(a(d)[0]);g=g!=null?g:this._formatDate(d);d.input&&d.input.val(g);this._updateAlternate(d);var l=this._get(d,"onSelect");if(l)l.apply(d.input?d.input[0]:null,[g,d]);else d.input&&d.input.trigger("change");if(d.inline)this._updateDatepicker(d);else{this._hideDatepicker();this._lastInput=d.input[0];typeof d.input[0]!="object"&&d.input.focus();this._lastInput=null}},_updateAlternate:function(d){var g=this._get(d,
"altField");if(g){var l=this._get(d,"altFormat")||this._get(d,"dateFormat"),n=this._getDate(d),o=this.formatDate(l,n,this._getFormatConfig(d));a(g).each(function(){a(this).val(o)})}},noWeekends:function(d){d=d.getDay();return[d>0&&d<6,""]},iso8601Week:function(d){d=new Date(d.getTime());d.setDate(d.getDate()+4-(d.getDay()||7));var g=d.getTime();d.setMonth(0);d.setDate(1);return Math.floor(Math.round((g-d)/864E5)/7)+1},parseDate:function(d,g,l){if(d==null||g==null)throw"Invalid arguments";g=typeof g==
"object"?g.toString():g+"";if(g=="")return null;for(var n=(l?l.shortYearCutoff:null)||this._defaults.shortYearCutoff,o=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,u=(l?l.dayNames:null)||this._defaults.dayNames,r=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort,p=(l?l.monthNames:null)||this._defaults.monthNames,s=l=-1,z=-1,A=-1,x=false,h=function(U){(U=P+1<d.length&&d.charAt(P+1)==U)&&P++;return U},F=function(U){h(U);U=RegExp("^\\d{1,"+(U=="@"?14:U=="!"?20:U=="y"?4:U=="o"?3:2)+
"}");U=g.substring(Q).match(U);if(!U)throw"Missing number at position "+Q;Q+=U[0].length;return parseInt(U[0],10)},L=function(U,aa,da){U=h(U)?da:aa;for(aa=0;aa<U.length;aa++)if(g.substr(Q,U[aa].length).toLowerCase()==U[aa].toLowerCase()){Q+=U[aa].length;return aa+1}throw"Unknown name at position "+Q;},M=function(){if(g.charAt(Q)!=d.charAt(P))throw"Unexpected literal at position "+Q;Q++},Q=0,P=0;P<d.length;P++)if(x)if(d.charAt(P)=="'"&&!h("'"))x=false;else M();else switch(d.charAt(P)){case "d":z=F("d");
break;case "D":L("D",o,u);break;case "o":A=F("o");break;case "m":s=F("m");break;case "M":s=L("M",r,p);break;case "y":l=F("y");break;case "@":var Z=new Date(F("@"));l=Z.getFullYear();s=Z.getMonth()+1;z=Z.getDate();break;case "!":Z=new Date((F("!")-this._ticksTo1970)/1E4);l=Z.getFullYear();s=Z.getMonth()+1;z=Z.getDate();break;case "'":if(h("'"))M();else x=true;break;default:M()}if(l==-1)l=(new Date).getFullYear();else if(l<100)l+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l<=n?0:-100);if(A>
-1){s=1;z=A;do{n=this._getDaysInMonth(l,s-1);if(z<=n)break;s++;z-=n}while(1)}Z=this._daylightSavingAdjust(new Date(l,s-1,z));if(Z.getFullYear()!=l||Z.getMonth()+1!=s||Z.getDate()!=z)throw"Invalid date";return Z},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*24*
60*60*1E7,formatDate:function(d,g,l){if(!g)return"";var n=(l?l.dayNamesShort:null)||this._defaults.dayNamesShort,o=(l?l.dayNames:null)||this._defaults.dayNames,u=(l?l.monthNamesShort:null)||this._defaults.monthNamesShort;l=(l?l.monthNames:null)||this._defaults.monthNames;var r=function(h){(h=x+1<d.length&&d.charAt(x+1)==h)&&x++;return h},p=function(h,F,L){F=""+F;if(r(h))for(;F.length<L;)F="0"+F;return F},s=function(h,F,L,M){return r(h)?M[F]:L[F]},z="",A=false;if(g)for(var x=0;x<d.length;x++)if(A)if(d.charAt(x)==
"'"&&!r("'"))A=false;else z+=d.charAt(x);else switch(d.charAt(x)){case "d":z+=p("d",g.getDate(),2);break;case "D":z+=s("D",g.getDay(),n,o);break;case "o":z+=p("o",(g.getTime()-(new Date(g.getFullYear(),0,0)).getTime())/864E5,3);break;case "m":z+=p("m",g.getMonth()+1,2);break;case "M":z+=s("M",g.getMonth(),u,l);break;case "y":z+=r("y")?g.getFullYear():(g.getYear()%100<10?"0":"")+g.getYear()%100;break;case "@":z+=g.getTime();break;case "!":z+=g.getTime()*1E4+this._ticksTo1970;break;case "'":if(r("'"))z+=
"'";else A=true;break;default:z+=d.charAt(x)}return z},_possibleChars:function(d){for(var g="",l=false,n=function(u){(u=o+1<d.length&&d.charAt(o+1)==u)&&o++;return u},o=0;o<d.length;o++)if(l)if(d.charAt(o)=="'"&&!n("'"))l=false;else g+=d.charAt(o);else switch(d.charAt(o)){case "d":case "m":case "y":case "@":g+="0123456789";break;case "D":case "M":return null;case "'":if(n("'"))g+="'";else l=true;break;default:g+=d.charAt(o)}return g},_get:function(d,g){return d.settings[g]!==b?d.settings[g]:this._defaults[g]},
_setDateFromField:function(d,g){if(d.input.val()!=d.lastVal){var l=this._get(d,"dateFormat"),n=d.lastVal=d.input?d.input.val():null,o,u;o=u=this._getDefaultDate(d);var r=this._getFormatConfig(d);try{o=this.parseDate(l,n,r)||u}catch(p){this.log(p);n=g?"":n}d.selectedDay=o.getDate();d.drawMonth=d.selectedMonth=o.getMonth();d.drawYear=d.selectedYear=o.getFullYear();d.currentDay=n?o.getDate():0;d.currentMonth=n?o.getMonth():0;d.currentYear=n?o.getFullYear():0;this._adjustInstDate(d)}},_getDefaultDate:function(d){return this._restrictMinMax(d,
this._determineDate(d,this._get(d,"defaultDate"),new Date))},_determineDate:function(d,g,l){var n=function(u){var r=new Date;r.setDate(r.getDate()+u);return r},o=function(u){try{return a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),u,a.datepicker._getFormatConfig(d))}catch(r){}var p=(u.toLowerCase().match(/^c/)?a.datepicker._getDate(d):null)||new Date,s=p.getFullYear(),z=p.getMonth();p=p.getDate();for(var A=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,x=A.exec(u);x;){switch(x[2]||"d"){case "d":case "D":p+=
parseInt(x[1],10);break;case "w":case "W":p+=parseInt(x[1],10)*7;break;case "m":case "M":z+=parseInt(x[1],10);p=Math.min(p,a.datepicker._getDaysInMonth(s,z));break;case "y":case "Y":s+=parseInt(x[1],10);p=Math.min(p,a.datepicker._getDaysInMonth(s,z))}x=A.exec(u)}return new Date(s,z,p)};if(g=(g=g==null?l:typeof g=="string"?o(g):typeof g=="number"?isNaN(g)?l:n(g):g)&&g.toString()=="Invalid Date"?l:g){g.setHours(0);g.setMinutes(0);g.setSeconds(0);g.setMilliseconds(0)}return this._daylightSavingAdjust(g)},
_daylightSavingAdjust:function(d){if(!d)return null;d.setHours(d.getHours()>12?d.getHours()+2:0);return d},_setDate:function(d,g,l){var n=!g,o=d.selectedMonth,u=d.selectedYear;g=this._restrictMinMax(d,this._determineDate(d,g,new Date));d.selectedDay=d.currentDay=g.getDate();d.drawMonth=d.selectedMonth=d.currentMonth=g.getMonth();d.drawYear=d.selectedYear=d.currentYear=g.getFullYear();if((o!=d.selectedMonth||u!=d.selectedYear)&&!l)this._notifyChange(d);this._adjustInstDate(d);if(d.input)d.input.val(n?
"":this._formatDate(d))},_getDate:function(d){return!d.currentYear||d.input&&d.input.val()==""?null:this._daylightSavingAdjust(new Date(d.currentYear,d.currentMonth,d.currentDay))},_generateHTML:function(d){var g=new Date;g=this._daylightSavingAdjust(new Date(g.getFullYear(),g.getMonth(),g.getDate()));var l=this._get(d,"isRTL"),n=this._get(d,"showButtonPanel"),o=this._get(d,"hideIfNoPrevNext"),u=this._get(d,"navigationAsDateFormat"),r=this._getNumberOfMonths(d),p=this._get(d,"showCurrentAtPos"),s=
this._get(d,"stepMonths"),z=r[0]!=1||r[1]!=1,A=this._daylightSavingAdjust(!d.currentDay?new Date(9999,9,9):new Date(d.currentYear,d.currentMonth,d.currentDay)),x=this._getMinMaxDate(d,"min"),h=this._getMinMaxDate(d,"max");p=d.drawMonth-p;var F=d.drawYear;if(p<0){p+=12;F--}if(h){var L=this._daylightSavingAdjust(new Date(h.getFullYear(),h.getMonth()-r[0]*r[1]+1,h.getDate()));for(L=x&&L<x?x:L;this._daylightSavingAdjust(new Date(F,p,1))>L;){p--;if(p<0){p=11;F--}}}d.drawMonth=p;d.drawYear=F;L=this._get(d,
"prevText");L=!u?L:this.formatDate(L,this._daylightSavingAdjust(new Date(F,p-s,1)),this._getFormatConfig(d));L=this._canAdjustMonth(d,-1,F,p)?'<a class="ui-datepicker-prev ui-corner-all" onclick="DP_jQuery_'+e+".datepicker._adjustDate('#"+d.id+"', -"+s+", 'M');\" title=\""+L+'"><span class="ui-icon ui-icon-circle-triangle-'+(l?"e":"w")+'">'+L+"</span></a>":o?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+L+'"><span class="ui-icon ui-icon-circle-triangle-'+(l?"e":"w")+'">'+
L+"</span></a>";var M=this._get(d,"nextText");M=!u?M:this.formatDate(M,this._daylightSavingAdjust(new Date(F,p+s,1)),this._getFormatConfig(d));o=this._canAdjustMonth(d,+1,F,p)?'<a class="ui-datepicker-next ui-corner-all" onclick="DP_jQuery_'+e+".datepicker._adjustDate('#"+d.id+"', +"+s+", 'M');\" title=\""+M+'"><span class="ui-icon ui-icon-circle-triangle-'+(l?"w":"e")+'">'+M+"</span></a>":o?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+M+'"><span class="ui-icon ui-icon-circle-triangle-'+
(l?"w":"e")+'">'+M+"</span></a>";s=this._get(d,"currentText");M=this._get(d,"gotoCurrent")&&d.currentDay?A:g;s=!u?s:this.formatDate(s,M,this._getFormatConfig(d));u=!d.inline?'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" onclick="DP_jQuery_'+e+'.datepicker._hideDatepicker();">'+this._get(d,"closeText")+"</button>":"";n=n?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(l?u:"")+(this._isInRange(d,M)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" onclick="DP_jQuery_'+
e+".datepicker._gotoToday('#"+d.id+"');\">"+s+"</button>":"")+(l?"":u)+"</div>":"";u=parseInt(this._get(d,"firstDay"),10);u=isNaN(u)?0:u;s=this._get(d,"showWeek");M=this._get(d,"dayNames");this._get(d,"dayNamesShort");var Q=this._get(d,"dayNamesMin"),P=this._get(d,"monthNames"),Z=this._get(d,"monthNamesShort"),U=this._get(d,"beforeShowDay"),aa=this._get(d,"showOtherMonths"),da=this._get(d,"selectOtherMonths");this._get(d,"calculateWeek");for(var na=this._getDefaultDate(d),ia="",ma=0;ma<r[0];ma++){for(var Da=
"",qa=0;qa<r[1];qa++){var ha=this._daylightSavingAdjust(new Date(F,p,d.selectedDay)),oa=" ui-corner-all",ta="";if(z){ta+='<div class="ui-datepicker-group';if(r[1]>1)switch(qa){case 0:ta+=" ui-datepicker-group-first";oa=" ui-corner-"+(l?"right":"left");break;case r[1]-1:ta+=" ui-datepicker-group-last";oa=" ui-corner-"+(l?"left":"right");break;default:ta+=" ui-datepicker-group-middle";oa=""}ta+='">'}ta+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+oa+'">'+(/all|left/.test(oa)&&
ma==0?l?o:L:"")+(/all|right/.test(oa)&&ma==0?l?L:o:"")+this._generateMonthYearHeader(d,p,F,x,h,ma>0||qa>0,P,Z)+'</div><table class="ui-datepicker-calendar"><thead><tr>';var za=s?'<th class="ui-datepicker-week-col">'+this._get(d,"weekHeader")+"</th>":"";for(oa=0;oa<7;oa++){var ka=(oa+u)%7;za+="<th"+((oa+u+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+M[ka]+'">'+Q[ka]+"</span></th>"}ta+=za+"</tr></thead><tbody>";za=this._getDaysInMonth(F,p);if(F==d.selectedYear&&p==d.selectedMonth)d.selectedDay=
Math.min(d.selectedDay,za);oa=(this._getFirstDayOfMonth(F,p)-u+7)%7;za=z?6:Math.ceil((oa+za)/7);ka=this._daylightSavingAdjust(new Date(F,p,1-oa));for(var Ca=0;Ca<za;Ca++){ta+="<tr>";var Ga=!s?"":'<td class="ui-datepicker-week-col">'+this._get(d,"calculateWeek")(ka)+"</td>";for(oa=0;oa<7;oa++){var Aa=U?U.apply(d.input?d.input[0]:null,[ka]):[true,""],Ba=ka.getMonth()!=p,Ha=Ba&&!da||!Aa[0]||x&&ka<x||h&&ka>h;Ga+='<td class="'+((oa+u+6)%7>=5?" ui-datepicker-week-end":"")+(Ba?" ui-datepicker-other-month":
"")+(ka.getTime()==ha.getTime()&&p==d.selectedMonth&&d._keyEvent||na.getTime()==ka.getTime()&&na.getTime()==ha.getTime()?" "+this._dayOverClass:"")+(Ha?" "+this._unselectableClass+" ui-state-disabled":"")+(Ba&&!aa?"":" "+Aa[1]+(ka.getTime()==A.getTime()?" "+this._currentClass:"")+(ka.getTime()==g.getTime()?" ui-datepicker-today":""))+'"'+((!Ba||aa)&&Aa[2]?' title="'+Aa[2]+'"':"")+(Ha?"":' onclick="DP_jQuery_'+e+".datepicker._selectDay('#"+d.id+"',"+ka.getMonth()+","+ka.getFullYear()+', this);return false;"')+
">"+(Ba&&!aa?"&#xa0;":Ha?'<span class="ui-state-default">'+ka.getDate()+"</span>":'<a class="ui-state-default'+(ka.getTime()==g.getTime()?" ui-state-highlight":"")+(ka.getTime()==A.getTime()?" ui-state-active":"")+(Ba?" ui-priority-secondary":"")+'" href="#">'+ka.getDate()+"</a>")+"</td>";ka.setDate(ka.getDate()+1);ka=this._daylightSavingAdjust(ka)}ta+=Ga+"</tr>"}p++;if(p>11){p=0;F++}ta+="</tbody></table>"+(z?"</div>"+(r[0]>0&&qa==r[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"");Da+=ta}ia+=
Da}ia+=n+(a.browser.msie&&parseInt(a.browser.version,10)<7&&!d.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':"");d._keyEvent=false;return ia},_generateMonthYearHeader:function(d,g,l,n,o,u,r,p){var s=this._get(d,"changeMonth"),z=this._get(d,"changeYear"),A=this._get(d,"showMonthAfterYear"),x='<div class="ui-datepicker-title">',h="";if(u||!s)h+='<span class="ui-datepicker-month">'+r[g]+"</span>";else{r=n&&n.getFullYear()==l;var F=o&&o.getFullYear()==
l;h+='<select class="ui-datepicker-month" onchange="DP_jQuery_'+e+".datepicker._selectMonthYear('#"+d.id+"', this, 'M');\" onclick=\"DP_jQuery_"+e+".datepicker._clickMonthYear('#"+d.id+"');\">";for(var L=0;L<12;L++)if((!r||L>=n.getMonth())&&(!F||L<=o.getMonth()))h+='<option value="'+L+'"'+(L==g?' selected="selected"':"")+">"+p[L]+"</option>";h+="</select>"}A||(x+=h+(u||!(s&&z)?"&#xa0;":""));if(u||!z)x+='<span class="ui-datepicker-year">'+l+"</span>";else{p=this._get(d,"yearRange").split(":");var M=
(new Date).getFullYear();r=function(Q){Q=Q.match(/c[+-].*/)?l+parseInt(Q.substring(1),10):Q.match(/[+-].*/)?M+parseInt(Q,10):parseInt(Q,10);return isNaN(Q)?M:Q};g=r(p[0]);p=Math.max(g,r(p[1]||""));g=n?Math.max(g,n.getFullYear()):g;p=o?Math.min(p,o.getFullYear()):p;for(x+='<select class="ui-datepicker-year" onchange="DP_jQuery_'+e+".datepicker._selectMonthYear('#"+d.id+"', this, 'Y');\" onclick=\"DP_jQuery_"+e+".datepicker._clickMonthYear('#"+d.id+"');\">";g<=p;g++)x+='<option value="'+g+'"'+(g==l?
' selected="selected"':"")+">"+g+"</option>";x+="</select>"}x+=this._get(d,"yearSuffix");if(A)x+=(u||!(s&&z)?"&#xa0;":"")+h;x+="</div>";return x},_adjustInstDate:function(d,g,l){var n=d.drawYear+(l=="Y"?g:0),o=d.drawMonth+(l=="M"?g:0);g=Math.min(d.selectedDay,this._getDaysInMonth(n,o))+(l=="D"?g:0);n=this._restrictMinMax(d,this._daylightSavingAdjust(new Date(n,o,g)));d.selectedDay=n.getDate();d.drawMonth=d.selectedMonth=n.getMonth();d.drawYear=d.selectedYear=n.getFullYear();if(l=="M"||l=="Y")this._notifyChange(d)},
_restrictMinMax:function(d,g){var l=this._getMinMaxDate(d,"min");d=this._getMinMaxDate(d,"max");g=l&&g<l?l:g;return d&&g>d?d:g},_notifyChange:function(d){var g=this._get(d,"onChangeMonthYear");if(g)g.apply(d.input?d.input[0]:null,[d.selectedYear,d.selectedMonth+1,d])},_getNumberOfMonths:function(d){d=this._get(d,"numberOfMonths");return d==null?[1,1]:typeof d=="number"?[1,d]:d},_getMinMaxDate:function(d,g){return this._determineDate(d,this._get(d,g+"Date"),null)},_getDaysInMonth:function(d,g){return 32-
(new Date(d,g,32)).getDate()},_getFirstDayOfMonth:function(d,g){return(new Date(d,g,1)).getDay()},_canAdjustMonth:function(d,g,l,n){var o=this._getNumberOfMonths(d);l=this._daylightSavingAdjust(new Date(l,n+(g<0?g:o[0]*o[1]),1));g<0&&l.setDate(this._getDaysInMonth(l.getFullYear(),l.getMonth()));return this._isInRange(d,l)},_isInRange:function(d,g){var l=this._getMinMaxDate(d,"min");d=this._getMinMaxDate(d,"max");return(!l||g.getTime()>=l.getTime())&&(!d||g.getTime()<=d.getTime())},_getFormatConfig:function(d){var g=
this._get(d,"shortYearCutoff");g=typeof g!="string"?g:(new Date).getFullYear()%100+parseInt(g,10);return{shortYearCutoff:g,dayNamesShort:this._get(d,"dayNamesShort"),dayNames:this._get(d,"dayNames"),monthNamesShort:this._get(d,"monthNamesShort"),monthNames:this._get(d,"monthNames")}},_formatDate:function(d,g,l,n){if(!g){d.currentDay=d.selectedDay;d.currentMonth=d.selectedMonth;d.currentYear=d.selectedYear}g=g?typeof g=="object"?g:this._daylightSavingAdjust(new Date(n,l,g)):this._daylightSavingAdjust(new Date(d.currentYear,
d.currentMonth,d.currentDay));return this.formatDate(this._get(d,"dateFormat"),g,this._getFormatConfig(d))}});a.fn.datepicker=function(d){if(!a.datepicker.initialized){a(document).mousedown(a.datepicker._checkExternalClick).find("body").append(a.datepicker.dpDiv);a.datepicker.initialized=true}var g=Array.prototype.slice.call(arguments,1);if(typeof d=="string"&&(d=="isDisabled"||d=="getDate"||d=="widget"))return a.datepicker["_"+d+"Datepicker"].apply(a.datepicker,[this[0]].concat(g));if(d=="option"&&
arguments.length==2&&typeof arguments[1]=="string")return a.datepicker["_"+d+"Datepicker"].apply(a.datepicker,[this[0]].concat(g));return this.each(function(){typeof d=="string"?a.datepicker["_"+d+"Datepicker"].apply(a.datepicker,[this].concat(g)):a.datepicker._attachDatepicker(this,d)})};a.datepicker=new c;a.datepicker.initialized=false;a.datepicker.uuid=(new Date).getTime();a.datepicker.version="1.8.6";window["DP_jQuery_"+e]=a})(jQuery);
(function(a,b){a.widget("ui.progressbar",{options:{value:0},min:0,max:100,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.max,"aria-valuenow":this._value()});this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element);this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");
this.valueDiv.remove();a.Widget.prototype.destroy.apply(this,arguments)},value:function(c){if(c===b)return this._value();this._setOption("value",c);return this},_setOption:function(c,f){if(c==="value"){this.options.value=f;this._refreshValue();this._trigger("change");this._value()===this.max&&this._trigger("complete")}a.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var c=this.options.value;if(typeof c!=="number")c=0;return Math.min(this.max,Math.max(this.min,c))},_refreshValue:function(){var c=
this.value();this.valueDiv.toggleClass("ui-corner-right",c===this.max).width(c+"%");this.element.attr("aria-valuenow",c)}});a.extend(a.ui.progressbar,{version:"1.8.6"})})(jQuery);
jQuery.effects||function(a,b){function c(r){var p;if(r&&r.constructor==Array&&r.length==3)return r;if(p=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(r))return[parseInt(p[1],10),parseInt(p[2],10),parseInt(p[3],10)];if(p=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(r))return[parseFloat(p[1])*2.55,parseFloat(p[2])*2.55,parseFloat(p[3])*2.55];if(p=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(r))return[parseInt(p[1],
16),parseInt(p[2],16),parseInt(p[3],16)];if(p=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(r))return[parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16),parseInt(p[3]+p[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(r))return n.transparent;return n[a.trim(r).toLowerCase()]}function f(){var r=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,p={},s,z;if(r&&r.length&&r[0]&&r[r[0]])for(var A=r.length;A--;){s=r[A];if(typeof r[s]=="string"){z=s.replace(/\-(\w)/g,function(x,h){return h.toUpperCase()});
p[z]=r[s]}}else for(s in r)if(typeof r[s]==="string")p[s]=r[s];return p}function e(r){var p,s;for(p in r){s=r[p];if(s==null||a.isFunction(s)||p in u||/scrollbar/.test(p)||!/color/i.test(p)&&isNaN(parseFloat(s)))delete r[p]}return r}function d(r,p){var s={_:0},z;for(z in p)if(r[z]!=p[z])s[z]=p[z];return s}function g(r,p,s,z){if(typeof r=="object"){z=p;s=null;p=r;r=p.effect}if(a.isFunction(p)){z=p;s=null;p={}}if(typeof p=="number"||a.fx.speeds[p]){z=s;s=p;p={}}if(a.isFunction(s)){z=s;s=null}p=p||{};
s=s||p.duration;s=a.fx.off?0:typeof s=="number"?s:a.fx.speeds[s]||a.fx.speeds._default;z=z||p.complete;return[r,p,s,z]}function l(r){if(!r||typeof r==="number"||a.fx.speeds[r])return true;if(typeof r==="string"&&!a.effects[r])return true;return false}a.effects={};a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(r,p){a.fx.step[p]=function(s){if(!s.colorInit){var z;z=s.elem;var A=p,x;do{x=a.curCSS(z,A);
if(x!=""&&x!="transparent"||a.nodeName(z,"body"))break;A="backgroundColor"}while(z=z.parentNode);z=c(x);s.start=z;s.end=c(s.end);s.colorInit=true}s.elem.style[p]="rgb("+Math.max(Math.min(parseInt(s.pos*(s.end[0]-s.start[0])+s.start[0],10),255),0)+","+Math.max(Math.min(parseInt(s.pos*(s.end[1]-s.start[1])+s.start[1],10),255),0)+","+Math.max(Math.min(parseInt(s.pos*(s.end[2]-s.start[2])+s.start[2],10),255),0)+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,
0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],
lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},o=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(r,p,s,z){if(a.isFunction(s)){z=
s;s=null}return this.each(function(){var A=a(this),x=A.attr("style")||" ",h=e(f.call(this)),F,L=A.attr("className");a.each(o,function(M,Q){r[Q]&&A[Q+"Class"](r[Q])});F=e(f.call(this));A.attr("className",L);A.animate(d(h,F),p,s,function(){a.each(o,function(M,Q){r[Q]&&A[Q+"Class"](r[Q])});if(typeof A.attr("style")=="object"){A.attr("style").cssText="";A.attr("style").cssText=x}else A.attr("style",x);z&&z.apply(this,arguments)})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(r,p,s,z){return p?
a.effects.animateClass.apply(this,[{add:r},p,s,z]):this._addClass(r)},_removeClass:a.fn.removeClass,removeClass:function(r,p,s,z){return p?a.effects.animateClass.apply(this,[{remove:r},p,s,z]):this._removeClass(r)},_toggleClass:a.fn.toggleClass,toggleClass:function(r,p,s,z,A){return typeof p=="boolean"||p===b?s?a.effects.animateClass.apply(this,[p?{add:r}:{remove:r},s,z,A]):this._toggleClass(r,p):a.effects.animateClass.apply(this,[{toggle:r},p,s,z])},switchClass:function(r,p,s,z,A){return a.effects.animateClass.apply(this,
[{add:p,remove:r},s,z,A])}});a.extend(a.effects,{version:"1.8.6",save:function(r,p){for(var s=0;s<p.length;s++)p[s]!==null&&r.data("ec.storage."+p[s],r[0].style[p[s]])},restore:function(r,p){for(var s=0;s<p.length;s++)p[s]!==null&&r.css(p[s],r.data("ec.storage."+p[s]))},setMode:function(r,p){if(p=="toggle")p=r.is(":hidden")?"show":"hide";return p},getBaseline:function(r,p){var s;switch(r[0]){case "top":s=0;break;case "middle":s=0.5;break;case "bottom":s=1;break;default:s=r[0]/p.height}switch(r[1]){case "left":r=
0;break;case "center":r=0.5;break;case "right":r=1;break;default:r=r[1]/p.width}return{x:r,y:s}},createWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent();var p={width:r.outerWidth(true),height:r.outerHeight(true),"float":r.css("float")},s=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});r.wrap(s);s=r.parent();if(r.css("position")=="static"){s.css({position:"relative"});r.css({position:"relative"})}else{a.extend(p,
{position:r.css("position"),zIndex:r.css("z-index")});a.each(["top","left","bottom","right"],function(z,A){p[A]=r.css(A);if(isNaN(parseInt(p[A],10)))p[A]="auto"});r.css({position:"relative",top:0,left:0})}return s.css(p).show()},removeWrapper:function(r){if(r.parent().is(".ui-effects-wrapper"))return r.parent().replaceWith(r);return r},setTransition:function(r,p,s,z){z=z||{};a.each(p,function(A,x){unit=r.cssUnit(x);if(unit[0]>0)z[x]=unit[0]*s+unit[1]});return z}});a.fn.extend({effect:function(r){var p=
g.apply(this,arguments),s={options:p[1],duration:p[2],callback:p[3]};p=s.options.mode;var z=a.effects[r];if(a.fx.off||!z)return p?this[p](s.duration,s.callback):this.each(function(){s.callback&&s.callback.call(this)});return z.call(this,s)},_show:a.fn.show,show:function(r){if(l(r))return this._show.apply(this,arguments);else{var p=g.apply(this,arguments);p[1].mode="show";return this.effect.apply(this,p)}},_hide:a.fn.hide,hide:function(r){if(l(r))return this._hide.apply(this,arguments);else{var p=
g.apply(this,arguments);p[1].mode="hide";return this.effect.apply(this,p)}},__toggle:a.fn.toggle,toggle:function(r){if(l(r)||typeof r==="boolean"||a.isFunction(r))return this.__toggle.apply(this,arguments);else{var p=g.apply(this,arguments);p[1].mode="toggle";return this.effect.apply(this,p)}},cssUnit:function(r){var p=this.css(r),s=[];a.each(["em","px","%","pt"],function(z,A){if(p.indexOf(A)>0)s=[parseFloat(p),A]});return s}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(r,
p,s,z,A){return a.easing[a.easing.def](r,p,s,z,A)},easeInQuad:function(r,p,s,z,A){return z*(p/=A)*p+s},easeOutQuad:function(r,p,s,z,A){return-z*(p/=A)*(p-2)+s},easeInOutQuad:function(r,p,s,z,A){if((p/=A/2)<1)return z/2*p*p+s;return-z/2*(--p*(p-2)-1)+s},easeInCubic:function(r,p,s,z,A){return z*(p/=A)*p*p+s},easeOutCubic:function(r,p,s,z,A){return z*((p=p/A-1)*p*p+1)+s},easeInOutCubic:function(r,p,s,z,A){if((p/=A/2)<1)return z/2*p*p*p+s;return z/2*((p-=2)*p*p+2)+s},easeInQuart:function(r,p,s,z,A){return z*
(p/=A)*p*p*p+s},easeOutQuart:function(r,p,s,z,A){return-z*((p=p/A-1)*p*p*p-1)+s},easeInOutQuart:function(r,p,s,z,A){if((p/=A/2)<1)return z/2*p*p*p*p+s;return-z/2*((p-=2)*p*p*p-2)+s},easeInQuint:function(r,p,s,z,A){return z*(p/=A)*p*p*p*p+s},easeOutQuint:function(r,p,s,z,A){return z*((p=p/A-1)*p*p*p*p+1)+s},easeInOutQuint:function(r,p,s,z,A){if((p/=A/2)<1)return z/2*p*p*p*p*p+s;return z/2*((p-=2)*p*p*p*p+2)+s},easeInSine:function(r,p,s,z,A){return-z*Math.cos(p/A*(Math.PI/2))+z+s},easeOutSine:function(r,
p,s,z,A){return z*Math.sin(p/A*(Math.PI/2))+s},easeInOutSine:function(r,p,s,z,A){return-z/2*(Math.cos(Math.PI*p/A)-1)+s},easeInExpo:function(r,p,s,z,A){return p==0?s:z*Math.pow(2,10*(p/A-1))+s},easeOutExpo:function(r,p,s,z,A){return p==A?s+z:z*(-Math.pow(2,-10*p/A)+1)+s},easeInOutExpo:function(r,p,s,z,A){if(p==0)return s;if(p==A)return s+z;if((p/=A/2)<1)return z/2*Math.pow(2,10*(p-1))+s;return z/2*(-Math.pow(2,-10*--p)+2)+s},easeInCirc:function(r,p,s,z,A){return-z*(Math.sqrt(1-(p/=A)*p)-1)+s},easeOutCirc:function(r,
p,s,z,A){return z*Math.sqrt(1-(p=p/A-1)*p)+s},easeInOutCirc:function(r,p,s,z,A){if((p/=A/2)<1)return-z/2*(Math.sqrt(1-p*p)-1)+s;return z/2*(Math.sqrt(1-(p-=2)*p)+1)+s},easeInElastic:function(r,p,s,z,A){var x=0,h=z;if(p==0)return s;if((p/=A)==1)return s+z;x||(x=A*0.3);if(h<Math.abs(z)){h=z;r=x/4}else r=x/(2*Math.PI)*Math.asin(z/h);return-(h*Math.pow(2,10*(p-=1))*Math.sin((p*A-r)*2*Math.PI/x))+s},easeOutElastic:function(r,p,s,z,A){var x=0,h=z;if(p==0)return s;if((p/=A)==1)return s+z;x||(x=A*0.3);if(h<
Math.abs(z)){h=z;r=x/4}else r=x/(2*Math.PI)*Math.asin(z/h);return h*Math.pow(2,-10*p)*Math.sin((p*A-r)*2*Math.PI/x)+z+s},easeInOutElastic:function(r,p,s,z,A){var x=0,h=z;if(p==0)return s;if((p/=A/2)==2)return s+z;x||(x=A*0.3*1.5);if(h<Math.abs(z)){h=z;r=x/4}else r=x/(2*Math.PI)*Math.asin(z/h);if(p<1)return-0.5*h*Math.pow(2,10*(p-=1))*Math.sin((p*A-r)*2*Math.PI/x)+s;return h*Math.pow(2,-10*(p-=1))*Math.sin((p*A-r)*2*Math.PI/x)*0.5+z+s},easeInBack:function(r,p,s,z,A,x){if(x==b)x=1.70158;return z*(p/=
A)*p*((x+1)*p-x)+s},easeOutBack:function(r,p,s,z,A,x){if(x==b)x=1.70158;return z*((p=p/A-1)*p*((x+1)*p+x)+1)+s},easeInOutBack:function(r,p,s,z,A,x){if(x==b)x=1.70158;if((p/=A/2)<1)return z/2*p*p*(((x*=1.525)+1)*p-x)+s;return z/2*((p-=2)*p*(((x*=1.525)+1)*p+x)+2)+s},easeInBounce:function(r,p,s,z,A){return z-a.easing.easeOutBounce(r,A-p,0,z,A)+s},easeOutBounce:function(r,p,s,z,A){return(p/=A)<1/2.75?z*7.5625*p*p+s:p<2/2.75?z*(7.5625*(p-=1.5/2.75)*p+0.75)+s:p<2.5/2.75?z*(7.5625*(p-=2.25/2.75)*p+0.9375)+
s:z*(7.5625*(p-=2.625/2.75)*p+0.984375)+s},easeInOutBounce:function(r,p,s,z,A){if(p<A/2)return a.easing.easeInBounce(r,p*2,0,z,A)*0.5+s;return a.easing.easeOutBounce(r,p*2-A,0,z,A)*0.5+z*0.5+s}})}(jQuery);
(function(a){a.effects.blind=function(b){return this.queue(function(){var c=a(this),f=["position","top","left"],e=a.effects.setMode(c,b.options.mode||"hide"),d=b.options.direction||"vertical";a.effects.save(c,f);c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"}),l=d=="vertical"?"height":"width";d=d=="vertical"?g.height():g.width();e=="show"&&g.css(l,0);var n={};n[l]=e=="show"?d:0;g.animate(n,b.duration,b.options.easing,function(){e=="hide"&&c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);
b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
(function(a){a.effects.bounce=function(b){return this.queue(function(){var c=a(this),f=["position","top","left"],e=a.effects.setMode(c,b.options.mode||"effect"),d=b.options.direction||"up",g=b.options.distance||20,l=b.options.times||5,n=b.duration||250;/show|hide/.test(e)&&f.push("opacity");a.effects.save(c,f);c.show();a.effects.createWrapper(c);var o=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";g=b.options.distance||(o=="top"?c.outerHeight({margin:true})/3:c.outerWidth({margin:true})/
3);if(e=="show")c.css("opacity",0).css(o,d=="pos"?-g:g);if(e=="hide")g/=l*2;e!="hide"&&l--;if(e=="show"){var u={opacity:1};u[o]=(d=="pos"?"+=":"-=")+g;c.animate(u,n/2,b.options.easing);g/=2;l--}for(u=0;u<l;u++){var r={},p={};r[o]=(d=="pos"?"-=":"+=")+g;p[o]=(d=="pos"?"+=":"-=")+g;c.animate(r,n/2,b.options.easing).animate(p,n/2,b.options.easing);g=e=="hide"?g*2:g/2}if(e=="hide"){u={opacity:0};u[o]=(d=="pos"?"-=":"+=")+g;c.animate(u,n/2,b.options.easing,function(){c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);
b.callback&&b.callback.apply(this,arguments)})}else{r={};p={};r[o]=(d=="pos"?"-=":"+=")+g;p[o]=(d=="pos"?"+=":"-=")+g;c.animate(r,n/2,b.options.easing).animate(p,n/2,b.options.easing,function(){a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments)})}c.queue("fx",function(){c.dequeue()});c.dequeue()})}})(jQuery);
(function(a){a.effects.clip=function(b){return this.queue(function(){var c=a(this),f=["position","top","left","height","width"],e=a.effects.setMode(c,b.options.mode||"hide"),d=b.options.direction||"vertical";a.effects.save(c,f);c.show();var g=a.effects.createWrapper(c).css({overflow:"hidden"});g=c[0].tagName=="IMG"?g:c;var l={size:d=="vertical"?"height":"width",position:d=="vertical"?"top":"left"};d=d=="vertical"?g.height():g.width();if(e=="show"){g.css(l.size,0);g.css(l.position,d/2)}var n={};n[l.size]=
e=="show"?d:0;n[l.position]=e=="show"?0:d/2;g.animate(n,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.drop=function(b){return this.queue(function(){var c=a(this),f=["position","top","left","opacity"],e=a.effects.setMode(c,b.options.mode||"hide"),d=b.options.direction||"left";a.effects.save(c,f);c.show();a.effects.createWrapper(c);var g=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";var l=b.options.distance||(g=="top"?c.outerHeight({margin:true})/2:c.outerWidth({margin:true})/2);if(e=="show")c.css("opacity",0).css(g,d=="pos"?-l:l);var n={opacity:e=="show"?1:
0};n[g]=(e=="show"?d=="pos"?"+=":"-=":d=="pos"?"-=":"+=")+l;c.animate(n,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.explode=function(b){return this.queue(function(){var c=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3,f=b.options.pieces?Math.round(Math.sqrt(b.options.pieces)):3;b.options.mode=b.options.mode=="toggle"?a(this).is(":visible")?"hide":"show":b.options.mode;var e=a(this).show().css("visibility","hidden"),d=e.offset();d.top-=parseInt(e.css("marginTop"),10)||0;d.left-=parseInt(e.css("marginLeft"),10)||0;for(var g=e.outerWidth(true),l=e.outerHeight(true),n=0;n<c;n++)for(var o=
0;o<f;o++)e.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*(g/f),top:-n*(l/c)}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:g/f,height:l/c,left:d.left+o*(g/f)+(b.options.mode=="show"?(o-Math.floor(f/2))*(g/f):0),top:d.top+n*(l/c)+(b.options.mode=="show"?(n-Math.floor(c/2))*(l/c):0),opacity:b.options.mode=="show"?0:1}).animate({left:d.left+o*(g/f)+(b.options.mode=="show"?0:(o-Math.floor(f/2))*(g/f)),top:d.top+
n*(l/c)+(b.options.mode=="show"?0:(n-Math.floor(c/2))*(l/c)),opacity:b.options.mode=="show"?1:0},b.duration||500);setTimeout(function(){b.options.mode=="show"?e.css({visibility:"visible"}):e.css({visibility:"visible"}).hide();b.callback&&b.callback.apply(e[0]);e.dequeue();a("div.ui-effects-explode").remove()},b.duration||500)})}})(jQuery);
(function(a){a.effects.fade=function(b){return this.queue(function(){var c=a(this),f=a.effects.setMode(c,b.options.mode||"hide");c.animate({opacity:f},{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.fold=function(b){return this.queue(function(){var c=a(this),f=["position","top","left"],e=a.effects.setMode(c,b.options.mode||"hide"),d=b.options.size||15,g=!!b.options.horizFirst,l=b.duration?b.duration/2:a.fx.speeds._default/2;a.effects.save(c,f);c.show();var n=a.effects.createWrapper(c).css({overflow:"hidden"}),o=e=="show"!=g,u=o?["width","height"]:["height","width"];o=o?[n.width(),n.height()]:[n.height(),n.width()];var r=/([0-9]+)%/.exec(d);if(r)d=parseInt(r[1],10)/100*
o[e=="hide"?0:1];if(e=="show")n.css(g?{height:0,width:d}:{height:d,width:0});g={};r={};g[u[0]]=e=="show"?o[0]:d;r[u[1]]=e=="show"?o[1]:0;n.animate(g,l,b.options.easing).animate(r,l,b.options.easing,function(){e=="hide"&&c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(c[0],arguments);c.dequeue()})})}})(jQuery);
(function(a){a.effects.highlight=function(b){return this.queue(function(){var c=a(this),f=["backgroundImage","backgroundColor","opacity"],e=a.effects.setMode(c,b.options.mode||"show"),d={backgroundColor:c.css("backgroundColor")};if(e=="hide")d.opacity=0;a.effects.save(c,f);c.show().css({backgroundImage:"none",backgroundColor:b.options.color||"#ffff99"}).animate(d,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide();a.effects.restore(c,f);e=="show"&&!a.support.opacity&&
this.style.removeAttribute("filter");b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.pulsate=function(b){return this.queue(function(){var c=a(this),f=a.effects.setMode(c,b.options.mode||"show");times=(b.options.times||5)*2-1;duration=b.duration?b.duration/2:a.fx.speeds._default/2;isVisible=c.is(":visible");animateTo=0;if(!isVisible){c.css("opacity",0).show();animateTo=1}if(f=="hide"&&isVisible||f=="show"&&!isVisible)times--;for(f=0;f<times;f++){c.animate({opacity:animateTo},duration,b.options.easing);animateTo=(animateTo+1)%2}c.animate({opacity:animateTo},duration,
b.options.easing,function(){animateTo==0&&c.hide();b.callback&&b.callback.apply(this,arguments)});c.queue("fx",function(){c.dequeue()}).dequeue()})}})(jQuery);
(function(a){a.effects.puff=function(b){return this.queue(function(){var c=a(this),f=a.effects.setMode(c,b.options.mode||"hide"),e=parseInt(b.options.percent,10)||150,d=e/100,g={height:c.height(),width:c.width()};a.extend(b.options,{fade:true,mode:f,percent:f=="hide"?e:100,from:f=="hide"?g:{height:g.height*d,width:g.width*d}});c.effect("scale",b.options,b.duration,b.callback);c.dequeue()})};a.effects.scale=function(b){return this.queue(function(){var c=a(this),f=a.extend(true,{},b.options),e=a.effects.setMode(c,
b.options.mode||"effect"),d=parseInt(b.options.percent,10)||(parseInt(b.options.percent,10)==0?0:e=="hide"?0:100),g=b.options.direction||"both",l=b.options.origin;if(e!="effect"){f.origin=l||["middle","center"];f.restore=true}l={height:c.height(),width:c.width()};c.from=b.options.from||(e=="show"?{height:0,width:0}:l);d={y:g!="horizontal"?d/100:1,x:g!="vertical"?d/100:1};c.to={height:l.height*d.y,width:l.width*d.x};if(b.options.fade){if(e=="show"){c.from.opacity=0;c.to.opacity=1}if(e=="hide"){c.from.opacity=
1;c.to.opacity=0}}f.from=c.from;f.to=c.to;f.mode=e;c.effect("size",f,b.duration,b.callback);c.dequeue()})};a.effects.size=function(b){return this.queue(function(){var c=a(this),f=["position","top","left","width","height","overflow","opacity"],e=["position","top","left","overflow","opacity"],d=["width","height","overflow"],g=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],o=a.effects.setMode(c,
b.options.mode||"effect"),u=b.options.restore||false,r=b.options.scale||"both",p=b.options.origin,s={height:c.height(),width:c.width()};c.from=b.options.from||s;c.to=b.options.to||s;if(p){p=a.effects.getBaseline(p,s);c.from.top=(s.height-c.from.height)*p.y;c.from.left=(s.width-c.from.width)*p.x;c.to.top=(s.height-c.to.height)*p.y;c.to.left=(s.width-c.to.width)*p.x}var z={from:{y:c.from.height/s.height,x:c.from.width/s.width},to:{y:c.to.height/s.height,x:c.to.width/s.width}};if(r=="box"||r=="both"){if(z.from.y!=
z.to.y){f=f.concat(l);c.from=a.effects.setTransition(c,l,z.from.y,c.from);c.to=a.effects.setTransition(c,l,z.to.y,c.to)}if(z.from.x!=z.to.x){f=f.concat(n);c.from=a.effects.setTransition(c,n,z.from.x,c.from);c.to=a.effects.setTransition(c,n,z.to.x,c.to)}}if(r=="content"||r=="both")if(z.from.y!=z.to.y){f=f.concat(g);c.from=a.effects.setTransition(c,g,z.from.y,c.from);c.to=a.effects.setTransition(c,g,z.to.y,c.to)}a.effects.save(c,u?f:e);c.show();a.effects.createWrapper(c);c.css("overflow","hidden").css(c.from);
if(r=="content"||r=="both"){l=l.concat(["marginTop","marginBottom"]).concat(g);n=n.concat(["marginLeft","marginRight"]);d=f.concat(l).concat(n);c.find("*[width]").each(function(){child=a(this);u&&a.effects.save(child,d);var A={height:child.height(),width:child.width()};child.from={height:A.height*z.from.y,width:A.width*z.from.x};child.to={height:A.height*z.to.y,width:A.width*z.to.x};if(z.from.y!=z.to.y){child.from=a.effects.setTransition(child,l,z.from.y,child.from);child.to=a.effects.setTransition(child,
l,z.to.y,child.to)}if(z.from.x!=z.to.x){child.from=a.effects.setTransition(child,n,z.from.x,child.from);child.to=a.effects.setTransition(child,n,z.to.x,child.to)}child.css(child.from);child.animate(child.to,b.duration,b.options.easing,function(){u&&a.effects.restore(child,d)})})}c.animate(c.to,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){c.to.opacity===0&&c.css("opacity",c.from.opacity);o=="hide"&&c.hide();a.effects.restore(c,u?f:e);a.effects.removeWrapper(c);b.callback&&
b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.shake=function(b){return this.queue(function(){var c=a(this),f=["position","top","left"];a.effects.setMode(c,b.options.mode||"effect");var e=b.options.direction||"left",d=b.options.distance||20,g=b.options.times||3,l=b.duration||b.options.duration||140;a.effects.save(c,f);c.show();a.effects.createWrapper(c);var n=e=="up"||e=="down"?"top":"left",o=e=="up"||e=="left"?"pos":"neg";e={};var u={},r={};e[n]=(o=="pos"?"-=":"+=")+d;u[n]=(o=="pos"?"+=":"-=")+d*2;r[n]=(o=="pos"?"-=":"+=")+
d*2;c.animate(e,l,b.options.easing);for(d=1;d<g;d++)c.animate(u,l,b.options.easing).animate(r,l,b.options.easing);c.animate(u,l,b.options.easing).animate(e,l/2,b.options.easing,function(){a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments)});c.queue("fx",function(){c.dequeue()});c.dequeue()})}})(jQuery);
(function(a){a.effects.slide=function(b){return this.queue(function(){var c=a(this),f=["position","top","left"],e=a.effects.setMode(c,b.options.mode||"show"),d=b.options.direction||"left";a.effects.save(c,f);c.show();a.effects.createWrapper(c).css({overflow:"hidden"});var g=d=="up"||d=="down"?"top":"left";d=d=="up"||d=="left"?"pos":"neg";var l=b.options.distance||(g=="top"?c.outerHeight({margin:true}):c.outerWidth({margin:true}));if(e=="show")c.css(g,d=="pos"?-l:l);var n={};n[g]=(e=="show"?d=="pos"?
"+=":"-=":d=="pos"?"-=":"+=")+l;c.animate(n,{queue:false,duration:b.duration,easing:b.options.easing,complete:function(){e=="hide"&&c.hide();a.effects.restore(c,f);a.effects.removeWrapper(c);b.callback&&b.callback.apply(this,arguments);c.dequeue()}})})}})(jQuery);
(function(a){a.effects.transfer=function(b){return this.queue(function(){var c=a(this),f=a(b.options.to),e=f.offset();f={top:e.top,left:e.left,height:f.innerHeight(),width:f.innerWidth()};e=c.offset();var d=a('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(b.options.className).css({top:e.top,left:e.left,height:c.innerHeight(),width:c.innerWidth(),position:"absolute"}).animate(f,b.duration,b.options.easing,function(){d.remove();b.callback&&b.callback.apply(c[0],arguments);
c.dequeue()})})}})(jQuery);
(function(a){a.extend({tabs:{remoteCount:0}});a.fn.tabs=function(f,e){if(typeof f=="object")e=f;e=a.extend({initial:f&&typeof f=="number"&&f>0?--f:0,disabled:null,bookmarkable:a.ajaxHistory?true:false,remote:false,spinner:"Loading&#8230;",hashPrefix:"remote-tab-",fxFade:null,fxSlide:null,fxShow:null,fxHide:null,fxSpeed:"normal",fxShowSpeed:null,fxHideSpeed:null,fxAutoHeight:false,onClick:null,onHide:null,onShow:null,navClass:"tabs-nav",selectedClass:"tabs-selected",disabledClass:"tabs-disabled",containerClass:"tabs-container",
hideClass:"tabs-hide",loadingClass:"tabs-loading",tabStruct:"div"},e||{});a.browser.msie6=a.browser.msie6||a.browser.msie&&typeof XMLHttpRequest=="function";return this.each(function(){var d=this,g=a("ul."+e.navClass,d);g=g.size()&&g||a(">ul:eq(0)",d);var l=a("a",g);e.remote&&l.each(function(){var P=e.hashPrefix+ ++a.tabs.remoteCount,Z="#"+P,U=this.href;this.href=Z;a('<div id="'+P+'" class="'+e.containerClass+'"></div>').appendTo(d);a(this).bind("loadRemoteTab",function(aa,da){var na=a(this).addClass(e.loadingClass),
ia=a("span",this)[0],ma=ia.innerHTML;if(e.spinner)ia.innerHTML="<em>"+e.spinner+"</em>";setTimeout(function(){a(Z).load(U,function(){if(e.spinner)ia.innerHTML=ma;na.removeClass(e.loadingClass);da&&da()})},0)})});var n=a("div."+e.containerClass,d);n=n.size()&&n||a(">"+e.tabStruct,d);g.is("."+e.navClass)||g.addClass(e.navClass);n.each(function(){var P=a(this);P.is("."+e.containerClass)||P.addClass(e.containerClass)});var o=a("li",g).index(a("li."+e.selectedClass,g)[0]);if(o>=0)e.initial=o;location.hash&&
l.each(function(P){if(this.hash==location.hash){e.initial=P;if((a.browser.msie||a.browser.opera)&&!e.remote){var Z=a(location.hash),U=Z.attr("id");Z.attr("id","");setTimeout(function(){Z.attr("id",U)},500)}scrollTo(0,0);return false}});a.browser.msie&&scrollTo(0,0);n.filter(":eq("+e.initial+")").show().end().not(":eq("+e.initial+")").addClass(e.hideClass);a("li",g).removeClass(e.selectedClass).eq(e.initial).addClass(e.selectedClass);l.eq(e.initial).trigger("loadRemoteTab").end();if(e.fxAutoHeight){var u=
function(P){var Z=a.map(n.get(),function(U){var aa=a(U);if(P){if(a.browser.msie6){U.style.removeExpression("behaviour");U.style.height="";U.minHeight=null}U=aa.css({"min-height":""}).height()}else U=aa.height();return U}).sort(function(U,aa){return aa-U});a.browser.msie6?n.each(function(){this.minHeight=Z[0]+"px";this.style.setExpression("behaviour",'this.style.height = this.minHeight ? this.minHeight : "1px"')}):n.css({"min-height":Z[0]+"px"})};u();var r=d.offsetWidth,p=d.offsetHeight,s=a("#tabs-watch-font-size").get(0)||
a('<span id="tabs-watch-font-size">M</span>').css({display:"block",position:"absolute",visibility:"hidden"}).appendTo(document.body).get(0),z=s.offsetHeight;setInterval(function(){var P=d.offsetWidth,Z=d.offsetHeight,U=s.offsetHeight;if(Z>p||P!=r||U!=z){u(P>r||U<z);r=P;p=Z;z=U}},50)}var A={},x={},h=e.fxShowSpeed||e.fxSpeed,F=e.fxHideSpeed||e.fxSpeed;if(e.fxSlide||e.fxFade){if(e.fxSlide){A.height="show";x.height="hide"}if(e.fxFade){A.opacity="show";x.opacity="hide"}}else{if(e.fxShow)A=e.fxShow;else{A["min-width"]=
0;h=e.bookmarkable?50:1}if(e.fxHide)x=e.fxHide;else{x["min-width"]=0;F=e.bookmarkable?50:1}}var L=e.onClick,M=e.onHide,Q=e.onShow;l.bind("triggerTab",function(){var P=a(this).parents("li:eq(0)");if(d.locked||P.is("."+e.selectedClass)||P.is("."+e.disabledClass))return false;P=this.hash;if(a.browser.msie){a(this).trigger("click");if(e.bookmarkable){a.ajaxHistory.update(P);location.hash=P.replace("#","")}}else if(a.browser.safari){a('<form action="'+P+'"><div><input type="submit" value="h" /></div></form>').get(0).submit();
a(this).trigger("click");e.bookmarkable&&a.ajaxHistory.update(P)}else if(e.bookmarkable)location.hash=P.replace("#","");else a(this).trigger("click")});l.bind("disableTab",function(){var P=a(this).parents("li:eq(0)");a.browser.safari&&P.animate({opacity:0},1,function(){P.css({opacity:""})});P.addClass(e.disabledClass)});if(e.disabled&&e.disabled.length){g=0;for(o=e.disabled.length;g<o;g++)l.eq(--e.disabled[g]).trigger("disableTab").end()}l.bind("enableTab",function(){var P=a(this).parents("li:eq(0)");
P.removeClass(e.disabledClass);a.browser.safari&&P.animate({opacity:1},1,function(){P.css({opacity:""})})});l.bind("click",function(P){var Z=P.clientX,U=this;P=a(this).parents("li:eq(0)");var aa=a(this.hash),da=n.filter(":visible");if(d.locked||P.is("."+e.selectedClass)||P.is("."+e.disabledClass)||typeof L=="function"&&L(this,aa[0],da[0])===false){this.blur();return false}d.locked=true;if(aa.size()){if(a.browser.msie&&e.bookmarkable){var na=this.hash.replace("#","");aa.attr("id","");setTimeout(function(){aa.attr("id",
na)},0)}P=function(){e.bookmarkable&&Z&&a.ajaxHistory.update(U.hash);da.animate(x,F,function(){a(U).parents("li:eq(0)").addClass(e.selectedClass).siblings().removeClass(e.selectedClass);typeof M=="function"&&M(U,aa[0],da[0]);da.addClass(e.hideClass).css({display:"",overflow:"",height:"",opacity:""});aa.removeClass(e.hideClass).animate(A,h,function(){aa.css({overflow:"",height:"",opacity:""});if(a.browser.msie){da[0].style.filter="";aa[0].style.filter=""}typeof Q=="function"&&Q(U,aa[0],da[0]);d.locked=
null})})};e.remote?a(U).trigger("loadRemoteTab",[P]):P()}else alert("There is no such container.");var ia=window.pageXOffset||document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft||0,ma=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop||0;setTimeout(function(){window.scrollTo(ia,ma)},0);this.blur();return e.bookmarkable&&!!Z});e.bookmarkable&&a.ajaxHistory.initialize(function(){l.eq(e.initial).trigger("click").end()})})};
for(var b=["triggerTab","disableTab","enableTab"],c=0;c<b.length;c++)a.fn[b[c]]=function(f){return function(e){return this.each(function(){var d=a("ul.tabs-nav",this);d=d.size()&&d||a(">ul:eq(0)",this);var g;if(!e||typeof e=="number")g=a("li a",d).eq(e&&e>0&&e-1||0);else if(typeof e=="string")g=a('li a[href$="#'+e+'"]',d);g.trigger(f)})}}(b[c]);a.fn.activeTab=function(){var f=[];this.each(function(){var e=a("ul.tabs-nav",this);e=e.size()&&e||a(">ul:eq(0)",this);e=a("li",e);f.push(e.index(e.filter(".tabs-selected")[0])+
1)});return f[0]}})(jQuery);
(function(a){a.extend(a.fn,{swapClass:function(c,f){var e=this.filter("."+c);this.filter("."+f).removeClass(f).addClass(c);e.removeClass(c).addClass(f);return this},replaceClass:function(c,f){return this.filter("."+c).removeClass(c).addClass(f).end()},hoverClass:function(c){c=c||"hover";return this.hover(function(){a(this).addClass(c)},function(){a(this).removeClass(c)})},heightToggle:function(c,f){c?this.animate({height:"toggle"},c,f):this.each(function(){jQuery(this)[jQuery(this).is(":hidden")?"show":
"hide"]();f&&f.apply(this,arguments)})},heightHide:function(c,f){if(c)this.animate({height:"hide"},c,f);else{this.hide();f&&this.each(f)}},prepareBranches:function(c){if(!c.prerendered){this.filter(":last-child:not(ul)").addClass(b.last);this.filter((c.collapsed?"":"."+b.closed)+":not(."+b.open+")").find(">ul").hide()}return this.filter(":has(>ul)")},applyClasses:function(c,f){this.filter(":has(>ul):not(:has(>a))").find(">span").click(function(){f.apply(a(this).next())}).add(a("a",this)).hoverClass();
if(!c.prerendered){this.filter(":has(>ul:hidden)").addClass(b.expandable).replaceClass(b.last,b.lastExpandable);this.not(":has(>ul:hidden)").addClass(b.collapsable).replaceClass(b.last,b.lastCollapsable);this.prepend('<div class="'+b.hitarea+'"/>').find("div."+b.hitarea).each(function(){var e="";a.each(a(this).parent().attr("class").split(" "),function(){e+=this+"-hitarea "});a(this).addClass(e)})}this.find("div."+b.hitarea).click(f)},treeview:function(c){function f(r,p){function s(z){return function(){e.apply(a("div."+
b.hitarea,r).filter(function(){return z?a(this).parent("."+z).length:true}));return false}}a("a:eq(0)",p).click(s(b.collapsable));a("a:eq(1)",p).click(s(b.expandable));a("a:eq(2)",p).click(s())}function e(){a(this).parent().find(">.hitarea").swapClass(b.collapsableHitarea,b.expandableHitarea).swapClass(b.lastCollapsableHitarea,b.lastExpandableHitarea).end().swapClass(b.collapsable,b.expandable).swapClass(b.lastCollapsable,b.lastExpandable).find(">ul").heightToggle(c.animated,c.toggle);c.unique&&a(this).parent().siblings().find(">.hitarea").replaceClass(b.collapsableHitarea,
b.expandableHitarea).replaceClass(b.lastCollapsableHitarea,b.lastExpandableHitarea).end().replaceClass(b.collapsable,b.expandable).replaceClass(b.lastCollapsable,b.lastExpandable).find(">ul").heightHide(c.animated,c.toggle)}function d(){var r=[];n.each(function(p,s){r[p]=a(s).is(":has(>ul:visible)")?1:0});a.cookie(c.cookieId,r.join(""))}function g(){var r=a.cookie(c.cookieId);if(r){var p=r.split("");n.each(function(s,z){a(z).find(">ul")[parseInt(p[s])?"show":"hide"]()})}}c=a.extend({cookieId:"treeview"},
c);if(c.add)return this.trigger("add",[c.add]);if(c.toggle){var l=c.toggle;c.toggle=function(){return l.apply(a(this).parent()[0],arguments)}}this.addClass("treeview");var n=this.find("li").prepareBranches(c);switch(c.persist){case "cookie":var o=c.toggle;c.toggle=function(){d();o&&o.apply(this,arguments)};g();break;case "location":var u=this.find("a").filter(function(){return this.href.toLowerCase()==location.href.toLowerCase()});u.length&&u.addClass("selected").parents("ul, li").add(u.next()).show()}n.applyClasses(c,
e);if(c.control){f(this,c.control);a(c.control).show()}return this.bind("add",function(r,p){a(p).prev().removeClass(b.last).removeClass(b.lastCollapsable).removeClass(b.lastExpandable).find(">.hitarea").removeClass(b.lastCollapsableHitarea).removeClass(b.lastExpandableHitarea);a(p).find("li").andSelf().prepareBranches(c).applyClasses(c,e)})}});var b=a.fn.treeview.classes={open:"open",closed:"closed",expandable:"expandable",expandableHitarea:"expandable-hitarea",lastExpandableHitarea:"lastExpandable-hitarea",
collapsable:"collapsable",collapsableHitarea:"collapsable-hitarea",lastCollapsableHitarea:"lastCollapsable-hitarea",lastCollapsable:"lastCollapsable",lastExpandable:"lastExpandable",last:"last",hitarea:"hitarea"};a.fn.Treeview=a.fn.treeview})(jQuery);
(function(a){a.extend(a.fn,{livequery:function(c,f,e){var d=this,g;if(a.isFunction(c)){e=f;f=c;c=undefined}a.each(a.livequery.queries,function(l,n){if(d.selector==n.selector&&d.context==n.context&&c==n.type&&(!f||f.$lqguid==n.fn.$lqguid)&&(!e||e.$lqguid==n.fn2.$lqguid))return(g=n)&&false});g=g||new a.livequery(this.selector,this.context,c,f,e);g.stopped=false;g.run();return this},expire:function(c,f,e){var d=this;if(a.isFunction(c)){e=f;f=c;c=undefined}a.each(a.livequery.queries,function(g,l){if(d.selector==
l.selector&&d.context==l.context&&(!c||c==l.type)&&(!f||f.$lqguid==l.fn.$lqguid)&&(!e||e.$lqguid==l.fn2.$lqguid)&&!this.stopped)a.livequery.stop(l.id)});return this}});a.livequery=function(c,f,e,d,g){this.selector=c;this.context=f||document;this.type=e;this.fn=d;this.fn2=g;this.elements=[];this.stopped=false;this.id=a.livequery.queries.push(this)-1;d.$lqguid=d.$lqguid||a.livequery.guid++;if(g)g.$lqguid=g.$lqguid||a.livequery.guid++;return this};a.livequery.prototype={stop:function(){var c=this;if(this.type)this.elements.unbind(this.type,
this.fn);else this.fn2&&this.elements.each(function(f,e){c.fn2.apply(e)});this.elements=[];this.stopped=true},run:function(){if(!this.stopped){var c=this,f=this.elements,e=a(this.selector,this.context),d=e.not(f);this.elements=e;if(this.type){d.bind(this.type,this.fn);f.length>0&&a.each(f,function(g,l){a.inArray(l,e)<0&&a.event.remove(l,c.type,c.fn)})}else{d.each(function(){c.fn.apply(this)});this.fn2&&f.length>0&&a.each(f,function(g,l){a.inArray(l,e)<0&&c.fn2.apply(l)})}}}};a.extend(a.livequery,
{guid:0,queries:[],queue:[],running:false,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length)for(var c=a.livequery.queue.length;c--;)a.livequery.queries[a.livequery.queue.shift()].run()},pause:function(){a.livequery.running=false},play:function(){a.livequery.running=true;a.livequery.run()},registerPlugin:function(){a.each(arguments,function(c,f){if(a.fn[f]){var e=a.fn[f];a.fn[f]=function(){var d=e.apply(this,arguments);a.livequery.run();return d}}})},run:function(c){if(c!=
undefined)a.inArray(c,a.livequery.queue)<0&&a.livequery.queue.push(c);else a.each(a.livequery.queries,function(f){a.inArray(f,a.livequery.queue)<0&&a.livequery.queue.push(f)});a.livequery.timeout&&clearTimeout(a.livequery.timeout);a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(c){c!=undefined?a.livequery.queries[c].stop():a.each(a.livequery.queries,function(f){a.livequery.queries[f].stop()})}});a.livequery.registerPlugin("append","prepend","after","before","wrap","attr",
"removeAttr","addClass","removeClass","toggleClass","empty","remove");a(function(){a.livequery.play()});var b=a.prototype.init;a.prototype.init=function(c,f){var e=b.apply(this,arguments);if(c&&c.selector){e.context=c.context;e.selector=c.selector}if(typeof c=="string"){e.context=f||document;e.selector=c}return e};a.prototype.init.prototype=a.prototype})(jQuery);
(function(a){a.fn.treelist=function(b){var c=a.extend({},a.fn.treelist.defaults,b);c.root=a(this).find("> ul");return c.root.each(function(){$this=a(this);$this.css({"margin-left":0}).find("ul").css({"list-style-type":"none"});var f=$this.find("li > ul").parent();f.find("> a").unbind("click");f.addClass("expandable").prepend("<a href='#' class='control'>&#x25b6;</a>").find("li.expandable > ul").hide();$this.expand=function(e,d){a(e).find("> ul").show(c.animated);var g="25bc";g=g.hexDecode();var l=
"25b6";l=l.hexDecode();c.root.find("li > a.control").text(l);a(d).text(g)};$this.contract=function(e,d){var g="25b6";g=g.hexDecode();a(e).find("> ul").hide(c.animated);a(d).text(g)};$this.click(function(e){var d=a(e.target).parent(),g=a(d).find("> a.control"),l=a(g).text();l=l.hexEncode();if(l==="&#x25b6;"){c.unique&&c.root.find("li > ul").hide();c.expand&&c.expand(e,this,d,g);$this.expand(d,g)}else l==="&#x25bc;"&&$this.contract(d,g);return false});String.prototype.hexEncode=function(){var e,d,g=
"";for(d=0;d<this.length;d++){e=this.charCodeAt(d).toString(16);g+=("000"+e).slice(-4)}return g="&#x"+g+";"};String.prototype.hexDecode=function(){var e,d=this.match(/.{1,4}/g)||[],g="";for(e=0;e<d.length;e++)g+=String.fromCharCode(parseInt(d[e],16));return g}})};a.fn.treelist.defaults={animated:"fast",unique:true}})(jQuery);
(function(a){a.fn.overlay=function(b){function c(){if(d.recalculate)e();else{o.unbind("keyup").unbind("keydown").bind("keyup keydown",function(r){if(a(r.target).parents(d.popup).length>0)return true;if(r.keyCode==9)return true;return false});if(a.browser.msie&&a.browser.version<7){a("select",d.bind_events_to).each(function(){this.style.visibility="hidden"});a("select",d.all_popups).each(function(){this.style.visibility="hidden"});a("select",d.popup).each(function(){this.style.visibility="visible"})}if(d.hide_all_popups&&
l.length>0)a.browser.msie?l.each(function(){this.style.display="none"}):l.hide();if(a.browser.msie&&n.length>0){n.each(function(){this.style.display="block"});f()}else n.show();d.more_action&&d.more_action()}}function f(){if(a.browser.msie&&a.browser.version<8){var r=a("body");r=Math.floor(0.5*(r.get(0).offsetWidth-n.get(0).offsetWidth));n.get(0).style.left=r+"px"}}function e(){var r=a("body"),p=n.offset().top,s=n.outerHeight(),z=g.offset().top,A=window.innerHeight;r=r.outerHeight();A=A>r?A-z:r-z;
if(z+A<p+s)A+=s;g.css({height:Math.ceil(A)+"px"})}var d=a.extend({},a.fn.overlay.defaults,b),g=a(d.overlay),l=a(d.all_popups),n=a(d.popup),o=a(d.bind_events_to);if(b.popup_width)n.get(0).style.width=b.popup_width;var u={show_all:function(){a.browser.msie&&g.length>0?g.each(function(){this.style.display="block"}):g.show();c();e()},show_popup:c,close_all:function(){d.more_action&&d.more_action();o.unbind("keyup").unbind("keydown");if(a.browser.msie&&a.browser.version<7){var r=a("select",o);r.length>
0&&r.each(function(){this.style.visibility="visible"})}if(a.browser.msie){g.each(function(){this.style.display="none"});l.each(function(){this.style.display="none"})}else{g.hide();l.hide()}},close_popup:function(){d.more_action&&d.more_action();a.browser.msie?n.each(function(){this.style.display="none"}):n.hide();d.popup=d.visible_popup;n=a(d.popup);if(a.browser.msie&&a.browser.version<7){a("select",o).each(function(){this.style.visibility="hidden"});a("select",l).each(function(){this.style.visibility=
"hidden"});a("select",n).each(function(){this.style.visibility="visible"})}}};return this.each(function(){u[d.action]()})};a.fn.overlay.defaults={popup:"#loading-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all",more_action:"",recalculate:false,hide_all_popups:true,visible_popup:""}})(jQuery);
var IS_IE=document.all&&window.ActiveXObject&&navigator.userAgent.toLowerCase().indexOf("msie")>-1&&navigator.userAgent.toLowerCase().indexOf("opera")==-1,NAME_OF_CLASS=IS_IE?"className":"class";
function update_element_from_url(a,b,c,f){var e=HTTP();if(!e)throw Error("XmlHttpRequest not available");e.open("GET",a,true);e.onreadystatechange=function(){if(f!=null)if(e.readyState==1){f.innerHTML="&nbsp;";parent.$(f).addClass("loading")}else if(e.readyState==2){f.innerHTML="&nbsp;";parent.$(f).addClass("loading")}else if(e.readyState==3){f.innerHTML="&nbsp;";parent.$(f).addClass("loading")}if(e.readyState==4){for(var d=0;d<100;)d++;f!=null&&parent.$(f).removeClass("loading");c(e)}};b!=null&&
b();e.send(null)}function HTTP(){if(window.XMLHttpRequest)return new XMLHttpRequest;for(var a=null,b=["Msxml2.XMLHTTP.5.0","Msxml2.XMLHTTP.4.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++)try{return a=new ActiveXObject(b[c])}catch(f){}alert("Your browser does not support AJAX methods. Please use IE 6+ or Netscape 7+ (or compatible).");return null}function getSrc(a){if(a=a?a:event?event:null)return a.target?a.target:a.srcElement?a.srcElement:null}
function add_event_handler(a,b,c){if(a.addEventListener)a.addEventListener(b,c,false);else a.attachEvent&&a.attachEvent("on"+b,c)}function preload_images(){for(var a=0,b=arguments.length;a<b;a++)(new Image).src=arguments[a]}function px(a){return(""+a).replace(/px$/,"")+"px"}function em(a){return(""+a).replace(/em$/,"")+"em"}
var $tpl=function(a){function b(f){for(var e={},d=0,g=f.length;d<g;d++)e[d+""]=f[d];return e}if(!a||arguments.length<2)return"";var c=arguments[1];if(typeof c!="object"&&arguments.length>=2)c=b(Array.prototype.slice.call(arguments).slice(1));return function(f,e,d){e=f.match(e);f=f;for(var g=0,l=e.length;g<l;g++)f=f.replace(RegExp(e[g].replace(/([\{\}])/g,"\\$1")),d(e[g]));return f}(a,/\{([a-zA-Z_|\d]*?)\}/g,function(f){f=f.replace(/[\{\}]/g,"");return c[f]})};
$.support=$.extend($.support||{},function(){ua=navigator.userAgent.toLowerCase();var a=$.extend({},$.browser||function(){var c=/(webkit)[ \/]([\w.]+)/.exec(ua)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ua)||/(msie) ([\w.]+)/.exec(ua)||!/compatible/.test(ua)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ua)||[];return{browser:c[1]||"",version:c[2]||"0"}}(ua));a.compare=function(c,f){var e=f?a.display_version:a.version,d=(""+c).split(".");e=e.split(".");for(var g=d.length,l=e.length,n=Math.min(g,l),o=0,u=
0;u==0&&o<n;o++){var r=Number(d[o]),p=Number(e[o]);if(r>p)u=1;else if(r<p)u=-1;else if(o==n-1&&g!=l)u=g>l?1:-1}return u};a.display_version=!a.mozilla?a.version:(/gecko\/\d+\s.+?([\d\.]+)$/.exec(ua)||[0,"..."])[1];var b={">":!(a.msie&&a.version<7),":hover":!(a.msie&&a.version<7),":first-child":!(a.msie&&a.version<7),":last-child":!(a.msie&&a.version<=8),"word-wrap:break":!(a.mozilla&&a.compare(3,true)<=0)};return{css:function(){for(var c=0,f=arguments.length;c<f;c++)if(b[arguments[c]]===undefined)return false;
return true},resetsFormButtonsOnBack:function(){return!a.mozilla},dropdownClipsContent:function(){return a.msie&&a.version<7},positionRelativeWithZindex:function(){return!a.msie},correctPageXY:function(c,f){var e=!(a.msie&&a.version<8);return undefined!==c&&undefined!==f?e?c:f:e}}}());
function Draggee(a){$.extend(this,Draggee.defaults,a||{});a=$tpl(this.template,{id:this.id,text:this.text,icon:this.states[this.state]});$(this.appendTo).append(a);this.selector="#"+this.id;this.initState=this.state;this.expando={};var b=$(this.selector),c=this;this.on_drag=function(e){b.css({left:e.pageX+c.drag_offset.x,top:e.pageY+c.drag_offset.y});var d=c.auto_scroller,g=c.auto_scroll;d[g]&&d[g](e.clientY)};this.icon=$(this.selectors.icon,b);this.label=$(this.selectors.text,b);this.auto_scroller=
new AutoScroller;for(var f in this.states)this.states[f]&&preload_images(this.states[f])}Draggee.defaults={id:"global_draggee",appendTo:"body",states:{"":""},state:"",auto_scroll:"vertical",text:"",template:'<div id="{id}"><img class="draggee-icon" src ="{icon}"/><span class="draggee-text">{text}</span></div>',selectors:{icon:"img.draggee-icon",text:"span.draggee-text"},drag_offset:{x:$.support.correctPageXY()?0:-13,y:-22}};
Draggee.prototype={getText:function(){return this.text},setText:function(a){this.text=a||this.text;this.label.text(this.text)},setState:function(a){this.state=a||this.state;this.icon.attr("src",this.states[this.state])},show:function(){$(this.selector).show()},hide:function(){$(this.selector).hide()},start_drag:function(a,b){this.setState(this.initState);a&&this.setText(a);b&&this.setState(b);$(document).bind("mousemove",this.on_drag);this.show()},end_drag:function(){this.expando={};this.hide();this.auto_scroller.stop();
$(document).unbind("mousemove",this.on_drag)}};
function AutoScroller(a){a=$.extend({},AutoScroller.defaults,a||{});return{hdl:null,dir:"",cfg:a,fn:{up:new Function("window.scrollBy(0, "+-a.scrollamt.y+")"),down:new Function("window.scrollBy(0, "+a.scrollamt.y+")"),left:new Function("window.scrollBy(   "+-a.scrollamt.x+", 0)"),right:new Function("window.scrollBy(   "+a.scrollamt.x+", 0)")},vertical:function(b){var c=window.inner_height(this.cfg.doc);this.go(b<this.cfg.zone?"up":b>=c-this.cfg.zone?"down":"")},horizontal:function(b){var c=window.inner_width(this.cfg.doc);
this.go(b<this.cfg.zone?"left":b>=c-this.cfg.zone?"right":"")},go:function(b){if(this.dir==""&&b!="")this.hdl=window.setInterval(this.fn[b],this.cfg.delay);else if(this.dir!="")if(b=="")this.stop();else if(this.dir!=b){this.stop();this.hdl=window.setInterval(this.fn[b],this.cfg.delay)}this.dir=b},stop:function(){window.clearInterval(this.hdl);this.dir=""}}}AutoScroller.defaults={doc:document,zone:100,delay:50,scrollamt:{y:50,x:50}};
function URI(a){this.full=String(a)||"";this.qparams=[];this.easy_qparams=[];this.full&&function(b,c){var f=b.match(/^(http[s]?):\/\/([^:\/]+)(:\d+)?\/([^\?]+)\?(\S+)$/);if(f){for(var e=["full","protocol","host","port","resource","querystring"],d=0,g=e.length;d<g;d++)c[e[d]]=f[d]||"";c.port=c.port.replace(/^:/,"")}}(this.full,this)}URI.makeEasy=function(a){return a.replace(/\+/g," ")};
URI.prototype={params:function(a){if(this.qparams.length==0){var b=this.full.split("&");b.shift();b.pop();for(var c=0;c<b.length;c++){var f=b[c].split("=");this.setParam(f[0],f[1]||"")}}return a?this.easy_qparams:this.qparams},param:function(a,b){if(undefined===b)return decodeURIComponent(this.params(true)[a]||this.params()[a]||"");this.setParam(a,b)},toString:function(){return this.full},setParam:function(a,b){this.qparams.push(a);this.qparams[a]=b;a=URI.makeEasy(a);this.easy_qparams.push(a);this.easy_qparams[a]=
b}};function drag_selection_handler(a,b){return function(c){var f=null,e=1;c=$(c.target);for(var d in a)if(c.is(d)){d=a[d](c);$global_draggee.expando.records_dragged=d.val();if(d.is(":checked")){f=$(b+" input:checkbox:checked");e=f.length;$global_draggee.expando.records_dragged=f.map(function(){return $(this).val()}).get().join(",")}break}$global_draggee.start_drag(e+" Result"+(e>1?"s":""))}}drag_selection_handler.find_in_parent=function(a){return a.parent().find("input:checkbox")};
window.inner_height=function(a){a=a||document;a=a.documentElement?a.documentElement.clientHeight:a.body.clientHeight;return window.innerHeight||a||null};window.inner_width=function(a){a=a||document;a=a.documentElement?a.documentElement.clientWidth:a.body.clientWidth;return window.innerWidth||a||null};
(function(a,b){a=a.toLowerCase();b=b||{};var c=(/firefox\/([\d\.]+)/.exec(a)||[0,"..."])[1],f=c.split(".");b.ff={text:c,major:f[0],minor:f[1],trivial:f[2],version:f[0]+"."+f[1]};return b})(navigator.userAgent,$.browser);function hasLocalStorage(){return typeof Storage!=="undefined"?true:false}
function general_ready(){if($("body").hasClass("show-book-browse"))if($("#books-newsstand-view").hasClass("active"))set_books_view_type("books_newsstand");else if($("#books-citation-view").hasClass("active"))set_books_view_type("book_citation");else{$("#books-hybrid-view").hasClass("active");set_books_view_type("book")}if($('#existing_user[checked="checked"]')){$("div#jbi_login_div").show();$("div#jbi_cont_div").hide()}if($("#new_user").attr("checked")){$("div#jbi_login_div").hide();$("div#jbi_cont_div").show()}$("#new_user").click(function(){$("div#jbi_login_div").hide();
$("div#jbi_cont_div").show()});$("#existing_user").click(function(){$("div#jbi_login_div").show();$("div#jbi_cont_div").hide()});attach_mm_gallery_result_event();multimedia_gallery_scrolling();$msp_searchform=$("#msp-searchform, #pc-searchform");$msp_search_history=$("#msp-search-history");$AppleWebKit=0;if(navigator.userAgent.match(/(iPad|iPhone);.*?AppleWebKit/))$AppleWebKit=1;if($("#msp-top").length||$("#msp-results").length||$("#titles-records").length||$("#mp-main-page-widgets").length){$global_draggee=
new Draggee({id:"add_records",state:"denied",states:{allowed:"gifs/allowed.gif",denied:"gifs/notAllowed.gif"}});$global_draggee.hide()}if($("meta[name=check-ajax]").length>0){ajax_enable();var a=$("#header-buttons-upper a.help-link").attr("help");a!="index"&&a!==undefined&&update_help(a)}if($("#db-overlay-popup-box").length>0)update_help("initialselections");else $("div.recovery-instruction").length>0&&update_help("error%23sessrec");$("#overlay-container > div").length&&$("#overlay-container > div").iframehack(3);
if($.browser.msie&&$.browser.version<7){a=document.getElementById("header-tabs-container");if(a!=null){var b=$("ul.top",a),c=$("ul.sub-tab",a);$("ul.drop-menu",a).iframehack(3);$("> li:first-child",b).each(function(){this.style.marginLeft="0.5em"});$("li:first-child",c).each(function(){this.style.borderLeft="none"});$("li",c).filter(function(){return $(this).hasClass("current")?false:true}).hover(function(){this.style.backgroundColor="rgb(255,255,255)"},function(){this.style.backgroundColor="transparent"});
$("ul li",a).filter(function(){return $(this).hasClass("current")?false:true}).hover(function(){this.style.backgroundColor="rgb(171,204,226)"},function(){this.style.backgroundColor="rgb(255,255,255)"}).find("ul").each(function(){this.style.position="absolute";this.style.marginLeft="-4em";this.style.marginTop="1.5em"});$("> li",b).filter(function(){return $(this).hasClass("current")?false:true}).hover(function(){this.style.backgroundColor="rgb(236,234,244)";this.style.borderBottom="1px solid rgb(236,234,244)";
this.style.marginBottom="-1px"},function(){this.style.backgroundColor="rgb(171,204,226)";this.style.borderBottom="none";this.style.marginBottom="0"});$("> li.current",b).each(function(){this.style.backgroundColor="rgb(255,255,255)";this.style.borderBottom="1px solid rgb(255,255,255)";this.style.marginBottom="-1px"});$("li.current > a",b).add("li.current > span",b).each(function(){this.style.color="rgb(0,0,0)";this.style.cursor="default"})}}if($("div.login-container").length>0){$("body").addClass("main-login-page");
$(".main-login-page").css("width","100%")}else $("body").hasClass("main-login-page")&&$("body").remove("main-login-page");$("div.pin-login-container").length>0&&$("body").addClass("main-pin-login-page");$("div.pin-loggedin-container").length>0&&$("body").addClass("main-pin-login-page");$("#header-tabs-container ul li span.drop-menu-container").parent().hover(function(){dropdownarrow=$(this).find("span.drop-menu-container > span.drop-menu-arrow").eq(0);dropdown=$(this).children("ul.drop-menu").eq(0);
dropdownarrow.css({visibility:"visible",display:"block"});dropdown.css({visibility:"visible",display:"block"});var h=$(this).find("a").width()||$(this).find("label").width();h=Math.ceil(h/2);$(this).find("span.drop-menu-container > span.drop-menu-arrow").css("right",h+"px");h=$(this).find("span.drop-menu-container > ul.drop-menu").width();var F=Math.ceil(h/2)-18;$(this).find("span.drop-menu-container > ul.drop-menu").css("margin-left","-"+F+"px");F+h>$(window).width()&&$(this).find("span.drop-menu-container > ul.drop-menu").css("left",
"12px");set_footer_height_for_dropdownpopup();if(dropdown.data("positioned")!=true){parentitem=$(this);metrics=parentitem.data("metrics");if(metrics==null){metrics={};metrics.width=parentitem.width();metrics.height=parentitem.height();metrics.left=parentitem.offset().left;metrics.right=metrics.left+metrics.width;metrics.top=parentitem.offset().top;metrics.bottom=metrics.top+metrics.height;parentitem.data("metrics",metrics)}metrics.right+dropdown.width()>$(window).width()&&dropdown.css({right:metrics.width+
12+"px"});dropdown.offset().left<0&&dropdown.css({left:0-metrics.left+"px",right:""});dropdown.offset().top+dropdown.height()>$(window).height()&&dropdown.css({top:0});dropdown.data("positioned",true)}},function(){$(this).children("ul.drop-menu").css({visibility:"hidden",display:"none"});$("span.drop-menu-arrow").css({visibility:"hidden",display:"none"});reset_footer_height_for_dropdownpopup()});if($("#journal_issue_list_content").length>0){$("#journal_issue_list_content").treelist({animated:"fast",
unique:true,expand:expand_issue_list_thru_ajax,toggle:function(){resize_journal_issue_lhs_widget()}});$("a.current","#journal_issue_list_content").parents("li.expandable").children("a").click();resize_journal_issue_lhs_widget()}$("input[type=submit]",$msp_searchform).click(function(){var h=$(this);if($(h).attr("value").search("Search|Display Indexes")>-1){window.setTimeout(function(){$(h).attr("disabled",true);$(h).addClass("loading");$(h).css("background-position","2px center")},100);return true}return true});
$.browser.mozilla&&window.addEventListener("pageshow",function(h){h.persisted!=false&&$("input[type=submit]",$msp_searchform).each(function(){if($(this).attr("value").search("Search|Display Indexes")>-1){$(this).removeAttr("disabled");$(this).removeClass("loading")}})},false);attach_widget_toggle_and_reorder_events();$("form.no_submit_with_enter_key").keypress(function(h){if(h.keyCode==13)return false;return true});$("#mm-browse-text, #quick_search_submit_btn").live("keydown",function(h){h.keyCode==
13&&document.getElementById("quick_search_submit_btn").click();return true});if($.browser.msie&&$.browser.version<7){if(a=document.getElementById("annotation-links")){anchors=a.getElementsByTagName("a");anchors.length>0&&$(anchors[0]).css({"border-left":"none","padding-left":0})}if(a=document.getElementById("header-buttons-upper")){anchors=a.getElementsByTagName("a");anchors.length>0&&$(anchors[0]).css({"border-left":"none"})}if(a=document.getElementById("header-buttons_lower")){anchors=a.getElementsByTagName("a");
anchors.length>0&&$(anchors[0]).css({"border-left":"none"})}$("div.msp-modes-container ul li:first-child",$msp_searchform).css({"border-left":"none"});var f=$("#fulltext-main");f.length&&f.parents("#below-banner,body").css("position","static")}$.browser.msie&&$("div.journals-toc-row:last-child","#titles-records").css({"border-bottom":"none"});$("#titles-records").length>0&&titles_display_setup();$("#item-records").length>0&&mp_display_setup();$("#msp-link-tools").click(function(){if($("input[name=toolSubject]").length>
0){var h=document.createElement("INPUT");h.setAttribute("type","hidden");h.setAttribute("name","Main Search Page");h.setAttribute("value",1);$("#main-form").append(h);$("#main-form").submit();return false}else return true});$("table.mm-image tbody tr td a, div.mm-thumbnail-inner a, div.article-title .titles-title a.mm-citation, div.citation-block-with-mm table.citation-block tr td a.citation_title, #fulltext-link-find-related-media, #fulltext-mm-gallery .media-gallery-class, #mm-find-related-media").live("click",
function(h){var F=$(h.target),L=F.parent();if(h.target.nodeName=="A")L=F;F=$(L).attr("href").split("?")[1].split("&");var M=L="",Q="",P="",Z="",U="",aa="",da="",na="",ia="",ma="",Da="",qa="";for(na=0;na<F.length;na++){var ha=F[na].split("=");if(decodeURIComponent(ha[0])=="entry_id")L=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="file_size")M=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="media_type")Q=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="mm_index")P=
decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="mm_datalist")Z=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="set_number")U=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="mode")aa=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="browser_type")da=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="return_url")ia=decodeURIComponent(ha[1]);else if(decodeURIComponent(ha[0])=="Open+Player"){ma=decodeURIComponent(ha[1]);ma=ma.split("|");
ma=ma[0]+"|"+ma[1]+"|"+ma[2]}else if(decodeURIComponent(ha[0])=="parent+info"){qa=decodeURIComponent(ha[1]);qa=qa.split("|");Da=qa[0];qa=qa[1]}}na=M+"|"+Q;L.length>0&&player_popup(h,L,na,P,Z,da,U,aa,ia,ma,Da,qa);return false});$("#tools-return").click(function(){var h=document.createElement("INPUT");h.setAttribute("type","hidden");h.setAttribute("name","Tools");h.setAttribute("value",1);$("#main-form").append(h);$("#main-form").submit();return false});$("table#user-input input[name^=submit:Create Personal Account]").click(function(){return verify_personal_account_details("create")});
$("table#user-input input[name^=submit:Modify Personal Account]").click(function(){return verify_personal_account_details("modify")});$("table#user-input input[name^=submit:Force Update Personal Account]").click(function(){return verify_personal_account_details("force_update")});$("#searchhistory-selectall").click(function(){search_history_selectall();disable_search_history_action_buttons($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>0?false:true)});var e=
"";$("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]").click(function(h){$(this).attr("checked")||$("#searchhistory-selectall:first").attr("checked",false);if(h.target.checked)e=e==""?h.target.value:e+","+h.target.value;else if(!h.target.checked){var F=e.split(","),L="",M;for(M in F){if(F[M]==h.target.value)F[M]=null;L=L==""?F[M]:L+","+F[M]}e=L}$("#SH_Select").val(e);disable_search_history_action_buttons($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>
0?false:true)});if($("#searchhistory-inner").length>0){a=$("#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>0?false:true;disable_search_history_action_buttons(a)}if($("#fieldguide-embedded").length>0){var d=function(){var h=window.inner_height(),F=$("#fieldguide-embedded").get(0).offsetTop,L=$(".ovid-footer").get(0).clientHeight;if(h){h=h-F-L-100;$("#fieldguide-embedded").css("height",h+"px")}};d();$(window).resize(function(){d()})}if($("#etocs-management-site").length>
0){var g=function(){var h=window.inner_height(),F=$("#etocs-management-site").get(0).offsetTop,L=$("#footer-copyright").get(0).clientHeight;if(h){h=h-F-L-65;$("#etocs-management-site").css("height",h+"px")}};g();$(window).resize(function(){g()})}if($("#embedded-frame").length>0){var l=function(){var h=window.inner_height(),F=$("#embedded-frame").get(0).offsetTop;if(h){h=h-F-15;$("#embedded-frame").css("height",h+"px")}};l();$(window).resize(function(){l()})}if($("meta[name=heartbeat-interval]").length>
0){a=$("meta[name=heartbeat-interval]").get(0);a=$(a).attr("content");a>1E3&&window.setTimeout(send_heartbeat,a)}$("a.help-link").length>0&&$("a.help-link").click(function(h){return open_help_window(h)});if($(".linkout_link").length>0){$(".linkout_link").click(function(){var h=$(this).offset(),F=$("#"+$(this)[0].id+"_popup");$(F).css({top:h.top-10,left:h.left-10,display:"block"});return false});$(".linkout_popup a.standard-button").click(function(){var h=$(this).attr("href");if(h.match("^#")){$(h).css("display",
"none");return false}return true})}if($("div#subject_categories div#subject_categories_content").length>0){$("div#subject_categories div#subject_categories_content").treeview({animated:"fast",collapsed:true,unique:true,toggle:function(){resize_journal_lhs_widget()}});$("span.highlight","#browsecat").parents("li.expandable").children("div.hitarea").click()}if($("div.descriptions","#browsecat").length>0){$("#browsecat > ul").addClass("treeview-black").treeview({animated:"fast"});$("#browsecat li span").mouseover(function(){var h=
this.id;$("#browsecat div.descriptions").css("display","none");$("#desc-"+h).css("display","block")})}if($("#MARC-table").length>0){if($.browser.msie){$("#MARC-table table tbody tr").mouseover(function(){$(this).css({"background-color":"rgb(200,229,170)"})});$("#MARC-table table tbody tr").mouseout(function(){$(this).css({"background-color":"transparent"})})}var n=null,o=null;$("#MARC-table input[type=checkbox][name=R]").each(function(){var h=parseInt($(this).attr("value"),10);if(n==null||n>h)n=h;
if(o==null||o<h)o=h});var u=$('input.standard-button[name="MARC Download"]'),r=n,p=o-n+1;$("#MARC-table input[type=checkbox]").click(function(h){checkbox_state_change(h.target,r,p,u);return true})}if($("#msp_tip").length>0&&$("#msp_tip #edit").length>0){$("#msp_tip p").click(function(){var h=$("#msp_tip p").html();$("#msp_tip #edit textarea").get(0).value=h;$("#msp_tip p").hide();$("#msp_tip #edit").show()});$("#msp_tip #edit button").click(function(){var h=$("#msp_tip #edit textarea").get(0).value;
$("#msp_tip p").html(h);$("#msp_tip #edit").hide();$("#msp_tip p").show()})}a=$("div[id^=msp-search-]",$msp_searchform);if(a.length>0){a=a.attr("id").match(/msp-search-(.+)/)[1];msp_initialize_search_mode_form(a)}if($msp_search_history.length>0){a=$("input[name^=submit:Move Search History]",$msp_search_history);b=$('<span id="msp-draghandle" class="standard-button widget-move-button">'+a.val()+"</span>");b.hover(function(){$(this).css("cursor","move")},function(){$(this).css("cursor","default")});
a.after(b).remove();$msp_search_history.draggable({helper:"original",handle:$("#msp-draghandle"),axis:"y",opacity:0.75,revert:true,revertDuration:0,scroll:true,cancel:"#searchhistory-inner, :input, button",start:function(){$.browser.msie&&$("#msp-searchhistory-drophere").css({display:"block"})},stop:msp_realign_search_history});$("#msp-searchhistory-drophere").droppable({accept:"#msp-search-history",tolerance:"touch",activeClass:"droptarget-active",hoverClass:"droptarget-hover",drop:msp_drop_searchhistory})}if($msp_searchform.length>
0&&!$("#pc-searchform").length){a=$("div.msp-search input[id$=_focus]:first",$msp_searchform).get(0);if(a!=null&&!$("#popup-overlay").length){a.focus();a.select()}}if($("meta[name=OvidPageId]").attr("content")=="Dedup"){dedupe_set_continue_state();$("input:radio[name=R]").click(function(){dedupe_set_continue_state()})}a=$("#searchhistory-inner th.searchhistory-col-Num");a.length>0&&$("a",a).click(function(h){msp_sort_seach_history_click_handler(h)});if($(".searchhistory-hasdetails").length>0){search_history_set_results_height();
$(window).resize(function(){search_history_set_results_height()})}$("#add-new-row").length>0&&multifield_initialize_add_new_row();$("div#msp-hint-question-mark a[name=open_hint_popup]").length>0&&msp_initialize_hint_popup();var s=null;$("div#msp_adv a.disclaimer").add("div#adv_header a.disclaimer").add("div#adv_footer a.disclaimer").click(function(h){h=$(h.target);if($(h).attr("target")=="_blank"){if(s==null||s.closed)s=window.open($(h).attr("href"),"disclaimer","resizable=yes,scrollbars=yes,dependent=yes,status=yes,left=200,top=200,width=700,height=480");
else{s.focus();$(s.document.body).html("");s.location=$(h).attr("href")}return false}return true});$("#gs-switch-view-link").length>0&&$("#gs-switch-view-link a").live("click",function(h){$(this).addClass("tlinkdisable");bibliograpic_display_navigation(h,true);return false});if($("#nav-history-frame").length>0){var z=$("#nav-history-frame").attr("scroll_after_load")==1;$("#nav-history-frame").unbind("load").load(function(h){process_bib_display_navigation(h,null,z)});a=$("#base_ui_callback_url").attr("href")+
$("#nav-history-frame").attr("realsrc");$("#nav-history-frame").attr("src",a).removeAttr("realsrc")}$(".searchhistory-detailsbutton").click(function(h){get_searchhistory_details(h);return false});if($(".show-more-link").length>0){customize_show_more_display();close_show_more()}$(".searchhistory-details").length>0&&search_history_details_popup();a=$("#msp-searchfields-tabs-container");$("a",a).length>0&&customize_msp_search_fields();$("div#searchfields-grid div.searchfields-grid-entry").length>0&&
initialize_searchfields_grid_handler();$("div.journals-icons-right, span.journal-title-favorite").delegate("a[href *= Favorite+Journals]","click",function(){if(!$(this).attr("href").match(/dopinlogin/)){var h=$(this).attr("href").match(/(add|remove)\:[0-9]+/)[1];favorite_journal(this,h);return false}});$("#favorite_journals_content").delegate("a.glink","click",function(){favorite_journal(this,"remove");return false});$("div.journals-toc-row").livequery(function(){$(this).draggable({containment:"#msp-results",
revert:true,opacity:0.75,delay:100,handle:"div.journals-toc-row",helper:"clone"})});$("div#favorite_journals_content").droppable({accept:"div.journals-toc-row",activeClass:"dragtarget-active",hoverClass:"dragtarget-hover",tolerance:"touch",greedy:true,drop:function(h,F){var L=$("span.journal-title-favorite a",F.draggable)[0];L.href.match(/&Favorite\+Journals=[^:]*add:[0-9]+/)&&favorite_journal(L,"add")}});f=$("#fulltext-main");if(f.size()>0){$("#fulltext-coverblock-ctl a",f).click(function(){toggle_issue_cover(this);
return false});for(a=["INSTITUTION","SOURCEREF"];b=a.shift();){b=$("div.fulltext-"+b+"-header",f);b.addClass("widget-ctl").addClass("fulltext-widget-open");b.click(function(){$(this).toggleClass("fulltext-widget-open");$(this).toggleClass("fulltext-widget-closed");var h=$(this).attr("class").match(/(fulltext-[^-]+)-header/)[1];$("."+h,f).toggle()})}if($("p.fulltext-ABSTRACT",f).size()>0){a=$("div.fulltext-LEVEL1:first",f);a.addClass("widget-ctl").addClass("fulltext-widget-open");a.click(function(){$(this).toggleClass("fulltext-widget-open");
$(this).toggleClass("fulltext-widget-closed");$(".fulltext-ABSTRACT",f).parent().parent().toggle()})}init_annotation_links();$("#addl-resources-books-content").length&&$("a.more,a.less","#addl-resources-books-content").unbind("click").click(function(h){expand_collapse_book_titles(h);return false})}a=$("#fulltext-link-text-snippet");if(a.length>0){if($AppleWebKit){var A="";$("#text-snippet").bind("touchstart",function(){A=get_selected_text()});$("#text-snippet").click(function(h){A.length>0&&open_text_snippet_popup(this,
A);h.preventDefault()})}else $("#text-snippet").click(function(){var h=get_selected_text();h.length>0&&open_text_snippet_popup(this,h);return false});a.css("display","block")}a=$("#title_index");a.length>0&&$(a).delegate(".journalnav-list-item","click",function(){if($(this).attr("id")!="All"){var h=$(this).attr("href");jb_title_widget(h);return false}});$("#titles-display div.journals-titlesheader-functionblock-right select[name=Results Per Page]").length>0&&$("#titles-display").delegate("div.journals-titlesheader-functionblock-right select[name=Results Per Page]",
"change",jb_results_per_page);$("#titles-display div.journals-titlesheader-functionblock-right span.view a").length>0&&$("#titles-display").delegate("div.journals-titlesheader-functionblock-right span.view a","click",jb_view_display);if($("ul a","#browsecat").length>0){if($("div.descriptions","#browsecat").length>0)return;$("ul a","#browsecat").click(function(){if($(this).hasClass("selected"))return false;$("#browsecat-all").removeClass("browse-journal-subject-selected");$(".journals-alphalinks span a").removeClass("journalnav-list-selected");
$(".journals-alphalinks span").removeClass("journals-title-enable");$("ul a","#browsecat").removeClass("selected");$("span.highlight","#browsecat").removeClass("highlight");$(this).parent().addClass("highlight").end().addClass("selected");$("#browsecat ul li div").removeClass("browse-journal-subject-selected");$(this).parent().parent().parent().addClass("browse-journal-subject-selected");var h=$(this).attr("href");if($("div#title_index_content div.journals-alphalinks .selected-title").length>0){$("div.journals-alphalinks-subset").remove();
$("div.journals-alphalinks span.selected-title label").remove();$("div.journals-alphalinks span.selected-title a").removeClass("hidden")}get_content_pane(h,"div#subject_categories","Journal+TOC=1");return false})}$("#titles-display div.journals-titlesheader-functionblock-right div.jb-pagination a").length>0&&$("#titles-display").delegate("div.journals-titlesheader-functionblock-right div.jb-pagination a","click",jb_pagination);$("#titles-display span.select-all").length>0&&$("#titles-display").delegate("span.select-all a",
"click",jb_issue_check_uncheck_all);$("#titles-display div.issue-toc-header div.issue-toggle-cover a").length>0&&$("#titles-display").delegate("div.issue-toc-header div.issue-toggle-cover a","click",jb_issue_image_cover);$("div.journals-toc-container","#titles-display").length>0&&$("#titles-display").delegate("div.journals-icons-right span.rss a[href*='Current+URL']","click",jb_rss_setup);$("#rss","#titles-display").length>0&&$("#titles-display").delegate("#rss a[href*='Current+URL']","click",jb_rss_setup);
if($("#email").length>0){$("#email").click(function(){$("#pdf_jsurl").css({display:"none"});$("#pdf_html_jsurl").css({display:"block"})});$("#email").delegate("a","click",jb_jumpstart_setup)}if($("#pdf-js-email").length>0){$("#pdf-js-email").click(function(){$("#pdf_html_jsurl").css({display:"none"});$("#pdf_jsurl").css({display:"block"})});$("#pdf-js-email").delegate("a","click",jb_jumpstart_setup)}if($("#titles-display").length>0)$("#titles-display").delegate("div.jb-email-jumpstart-popup input[name=submit:Send|1]",
"click",jb_email_jumpstart);else $("#fulltext-controlbox").length>0&&$("#fulltext-controlbox").delegate("div.jb-email-jumpstart-popup input[name=submit:Send|1]","click",jb_email_jumpstart);$("a.tlink","#journal_issue_list_content").length>0&&issue_list_attach_click();$("#search-history-annotate-text").live("focus",function(){remove_default_text_from_search_annotate_popup($(this))});$("#search-history-annotate-text").live("blur",function(){display_default_text_from_search_annotate_popup($(this))});
$(".journal-results").delegate("div.journal-browse-search input.default-text","focus",remove_default_text_from_journal_browse_search);$(".journal-results").delegate("div.journal-browse-search input.default-text","blur",display_default_text_from_journal_browse_search);$("#main-content").delegate("#subjsrch_focus","keypress",remove_default_text_for_MSP_search_tool);$("#main-content").delegate("#subjsrch_focus","click",remove_default_text_for_MSP_search_tool);$("#main-content").delegate("#subjsrch_focus",
"blur",display_default_text_for_MSP_search_tool);init_journal_browse_search_default_text();$("#main-content .journal-browse-search-toggle").length>0&&$("#main-content").delegate(".journal-browse-search-toggle","click",set_journal_browse_search_toggle_handler);$("#main-content .journal_srch_btn").length>0&&$("#main-content").delegate(".journal_srch_btn","click",perform_journal_browse_search);$(".journal-search-new-searchbox").keypress(function(h){h.keyCode==13&&perform_journal_browse_search()});$("#main-content .autocomplete, .journal-results .autocomplete").length>
0&&$("#main-content, .journal-results").delegate(".autocomplete","focus",get_autocomplete_suggestions);a=$("#fulltext-image-gallery-select-all");$(a).length>0&&$(a).delegate("a","click",ft_image_gallery_select_all);$("#export-selected-images-to-powerpoint").length>0&&$("#export-selected-images-to-powerpoint").live("click",validate_export_to_powerpoint);$($msp_searchform).delegate(".currently-searching","click",function(h){toggle_resources_widget(h);return false});$("div.currently-searching-db-widget",
$msp_searchform).length&&$($msp_searchform).delegate("div.currently-searching-db-widget div.ovid-resources a.us-sources-link","click",function(){if(!$("#popup-overlay").length){$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div>');$("#below-banner").prepend('<div id="loading-popup-box" class="overlay-popup-box"></div>')}var h={popup:"#loading-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all",more_action:show_us_sources};
$(this).overlay(h);return false});$("#my_projects_search_form").length>0&&activate_default_text($("#my_projects_search_form .mp-search-textbox"));if($("#pc-searchform").length){set_pc_form_default_text();preload_pc_images();$("#pc-select-action-item").livequery("change",function(h){$(this).val().match(/^Print/)&&get_popup_overlay_for_print(h,$(this));$(this).val().match(/^Email/)&&get_popup_overlay_for_email(h,$(this));$(this).val().match(/^Export/)&&get_popup_overlay_for_export(h,$(this));$(this).val().match(/^submitFormProcessor/)&&
open_overlay_popup(h,$(this));return false})}if($msp_searchform.length>0)if($("a.ovid-resources-link",$msp_searchform).length>0){$("#db-overlay-popup-box").length&&add_msp_overlay();$($msp_searchform).delegate("a.ovid-resources-link","click",function(){$("#popup-overlay").length&&$("#popup-overlay, #db-overlay-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="db-overlay-popup-box" class="overlay-popup-box"> </ div>');add_msp_overlay(get_database_list);
return false})}$("#searchaid-rtoptions span a").live("click",function(){$("#popup-overlay").length&&$("#popup-overlay, #rt-widget-options-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="rt-widget-options-popup-box" class="overlay-popup-box"> </div>');if($("#msp-searchform").length){var h=$("#rt-widget-options-popup-box"),F=$(this).offset().top-h.offset().top;h.css({top:F})}add_rt_widget_options_overlay(get_rt_widget_options);return false});
$(".saved-search-edit-annotation-container a").live("click",function(h){$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="search-annotations-popup-box" class="overlay-popup-box"> </div>');if($("#editsearch").length){var F=$("#search-annotations-popup-box"),L=$(h.target).offset().top-F.offset().top;F.css({top:L})}edit_search_annotations_overlay(get_saved_search_annotations_options(h,$(this)));return false});$(".annotation-container a").live("click",function(h){$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="search-annotations-popup-box" class="overlay-popup-box"> </div>');
if($("#msp-searchform").length){var F=$("#search-annotations-popup-box"),L=$(h.target).offset().top-F.offset().top;F.css({top:L})}add_search_annotations_overlay(get_search_annotations_options(h,$(this)));return false});$(".edit-search-annotation-container a").live("click",function(h){$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="search-annotations-popup-box" class="overlay-popup-box"> </div>');if($("#main-form").length){var F=$("#search-annotations-popup-box"),
L=$(h.target).offset().top-F.offset().top;F.css({top:L})}add_edit_search_annotations_overlay(get_edit_search_annotations_options(h,$(this)));return false});$("#below-banner").delegate("a.render-form","click",open_overlay_popup);$("#below-banner").delegate("button.render-form","click",open_overlay_popup);$("#below-banner").delegate("input[type=submit].render-form","click",open_overlay_popup);$("#form-submit,#attach-submit,#trash-button,#close-popup,#close-popup-x").live("click",process_form);$("#msp-results .action-print, #project_item_subheader input.action-print-project, #project_item_footer input.action-print-project").live("click",
function(h){get_popup_overlay_for_print(h,$(this));return false});$("#msp-results .action-email, #project_item_subheader input.action-email-project, #project_item_footer input.action-email-project").live("click",function(h){get_popup_overlay_for_email(h,$(this));return false});$("#main-content .jbi_bookmark").live("click",function(h){get_jbi_bookmark_popup(h,$(this));return false});$("#msp-results .action-export, #project_item_subheader input.action-export-project, #project_item_footer input.action-export-project").live("click",
function(h){get_popup_overlay_for_export(h,$(this));return false});$("#citation-form-type-select").live("change",function(h){update_citation_from_selection(h);return false});a=$("#book-chapter-cit-col");if(a.length>0){a.livequery(function(){if($(this).hasClass("fields-open")){$("#book-chapter-cit-col .widget").hide();$("#book-chapter-cit-col .collapse-widget-symbol").text(String.fromCharCode(9654));$(this).removeClass("fields-open").addClass("fields-close")}});$("#book-chapter-cit-col .collapse-widget-symbol, #book-chapter-cit-col .collapse-widget-header").live("click",
function(){if($(this).hasClass("fields-close")){$("#book-chapter-cit-col .widget").show();$("#book-chapter-cit-col .collapse-widget-symbol").text(String.fromCharCode(9660));$(this).removeClass("fields-close").addClass("fields-open")}else{$("#book-chapter-cit-col .widget").hide();$("#book-chapter-cit-col .collapse-widget-symbol").text(String.fromCharCode(9654));$(this).removeClass("fields-open").addClass("fields-close")}})}if($("#mp-main-page-widgets").length>0){$("#mp-main-page-widgets").delegate(".projects-menu-link",
"click",function(h){return projects_update_widget(h)});$("#mp-main-page-widgets").delegate(".projects-folder-expand","click",function(h){return projects_update_widget(h)});attach_mp_item_drag_drop_events();$("a.projects-display-item","#mp-widget-archive, #mp-widget-active, #mp-widget-trash").livequery(function(){$(this).draggable({opacity:0.75,containment:"document",scroll:true,scope:"mp_project",cancel:"#mp-widget-trash a.projects-display-item.project-deleted-projects,  #mp-widget-trash a.projects-display-item.project-deleted-items",
helper:$global_draggee.selector,start:function(h){$global_draggee.start_drag($(h.target).attr("title"))},stop:function(){$global_draggee.end_drag()}})});$("#mp-widget-active, #mp-widget-archive, #mp-widget-trash").livequery(function(){$(this).droppable({accept:"a.projects-display-item",scope:"mp_project",greedy:false,hoverClass:"dragtarget-hover",over:function(h,F){var L=(new URI(F.draggable.attr("href"))).param("Project Item Display"),M=/mp-widget-(.+)$/.exec(h.target.id);if(L&&M)L.split("|")[0]!=
M[1]?$global_draggee.setState("allowed"):$("#"+h.target.id).removeClass("dragtarget-hover")},out:function(){$global_draggee.setState("denied")},drop:function(h,F){$global_draggee.end_drag();projects_drag_drop_project(h,F)}})});$(".project-folder","#mp-widget-active, #mp-widget-archive, #mp-widget-trash").livequery(function(){$(this).draggable({opacity:0.75,revert:"invalid",containment:"#mp-main-page-widgets",cancel:".projects-display-item.project-deleted-projects, .projects-display-item.project-deleted",
scroll:true,scope:"mp_project_folder",helper:$global_draggee.selector,start:function(h){$global_draggee.start_drag($(h.target).attr("title"))},stop:function(){$global_draggee.end_drag()}})});$("#mp-widget-active .parent-project, #mp-widget-archive .parent-project,  #mp-widget-trash .projects-display-item.project-deleted-projects").livequery(function(){$(this).droppable({accept:".project-folder",greedy:false,scope:"mp_project_folder",hoverClass:"dragtarget-hover",over:function(){$global_draggee.setState("allowed")},
out:function(){$global_draggee.setState("denied")},drop:function(h,F){$global_draggee.end_drag();projects_drag_drop_folder(h,F)}})})}$("#resource-group-popup-box").length&&setup_resource_group_page($("#resource-group-popup-box"));if($("#mp-main-page-container").length){init_annotation_links();init_inline_view_annotation_links();init_mp_nav_jump()}$("#fulltext-main").delegate(".render-content-box","click",open_content_box);a=$("#msp-limits-easy").length?$("#msp-limits-easy"):$("#msp-limits-ovidclassic").length?
$("#msp-limits-ovidclassic"):"";if(a.length&&$("a div.widget-ctl",a).length){b=$("> a",a);c=b.html();b.remove();a.prepend(c)}$("#item-records li.titles-linkitem").find('a[href *= "Link+Set"]').click(function(h){open_service_links(h);return false});$(".autoalert-exec-timestamp","#main-content").length&&$(".autoalert-exec-unix-timestamp","#main-content").length&&$(".autoalert-exec-unix-timestamp","#main-content").each(function(){var h=convert_epoch_to_local_timestamp($(this).text());$(this).siblings(".autoalert-exec-timestamp").text(h)});
update_view_selected_link();if($.browser.msie&&$.browser.version<7){$("#password-tooltip").css({visibility:"hidden"});$("#userpassword-col").hover(function(){$("#password-tooltip").css({visibility:"visible","background-color":"rgb(171,204,226)",border:"1px solid rgb(7,104,169)"})},function(){$("#password-tooltip").css({visibility:"hidden","background-color":"transparent",border:"none"})})}$.browser.msie&&$.browser.version<7&&$("div.titlesheader-functionblock-left label:first-child").css({"border-left":"none"});
$("input[type=text].cmRecords").keyup(function(h){$("input[type=text].cmRecords").removeClass("select-range-default-style").val($(h.target).val())});$("input[type=text].cmRecords").blur(function(h){if($(h.target).val()==""||$(h.target).val()==$(h.target)[0].title)$("input[type=text].cmRecords").addClass("select-range-default-style").val($(h.target).val())});$("#ovid-vertical-widgets").livequery(function(){if($("#filterby-filters-none").length==0)return false;var h=$("#base_ui_callback_url").attr("href")+
"&"+encodeURIComponent("Ajax Perform Result Filter")+"=1";$.ajax({type:"GET",dataType:"json",url:h,beforeSend:function(){$("#filter_by_header").addClass("loading")},success:function(F){$("#filter_by").replaceWith(F.content);attach_widget_toggle_and_reorder_events()},complete:function(){$("#filter_by_content a.filter-control span").unbind("click").click(function(F){expand_collapse_filters(F);return false})},error:function(F,L){try{console.error(L)}catch(M){}}});return false});if($("#book-read-content").length>
0||$(".book-content").length>0){adjust_footer_elements_width();set_window_height()}else adjust_footer_elements_width();$(window).resize(function(){if($("#book-read-content").length>0){$("#book-read-content").width("100%");set_window_height()}adjust_footer_elements_width()});$("#main-content").delegate("#jbi-tools-container .jbi_widget a.jbi_widget_text","hover",function(h){return jbi_tool_tip_show(h)});$("#main-content").delegate("#jbi-tools-container .jbi_widget a.jbi_widget_text","mouseleave",function(h){return jbi_tool_tip_hide(h)});
$("#main-content").delegate("#jbi-tools-container .jbi_widget label.jbi_widget_text","hover",function(h){return jbi_tool_tip_show(h)});$("#main-content").delegate("#jbi-tools-container .jbi_widget label.jbi_widget_text","mouseleave",function(h){return jbi_tool_tip_hide(h)});browse_search_activate_default_text();annotation_after_pin_login();$("#left-browse-navigator").height()>0&&set_height_books_browse();$("#booknav-browser-by-subject").length>0&&load_subject_heading_for_browse();$("#booktoc").click(function(){$("#booktoc").addClass("tab-active");
$("#booktoc").removeClass("tab-inactive");$("#booksearch").addClass("tab-inactive");$("#booksearch").removeClass("tab-active");$("#booknav-tab-toc").removeClass("new-book-browse-by-inactive");$("#booknav-tab-toc").addClass("new-book-browse-by-active");if($("#toggle_title").hasClass("active")){$("#booknav-letters").removeClass("new-book-browse-by-inactive");$("#booknav-letters").addClass("new-book-browse-by-active");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-active");$("#booknav-browser-by-subject").addClass("new-book-browse-by-inactive")}else if($("#toggle_subject").hasClass("active")){$("#booknav-letters").removeClass("new-book-browse-by-active");
$("#booknav-letters").addClass("new-book-browse-by-inactive");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-inactive");$("#booknav-browser-by-subject").addClass("new-book-browse-by-active")}$("#booknav-tab-search").addClass("new-book-browse-by-inactive");$("#booknav-tab-search").removeClass("new-book-browse-by-active");set_height_books_browse()});$("#booksearch").click(function(){$("#booktoc").addClass("tab-inactive");$("#booktoc").removeClass("tab-active");$("#booksearch").addClass("tab-active");
$("#booksearch").removeClass("tab-inactive");$("#booknav-tab-toc").addClass("new-book-browse-by-inactive");$("#booknav-tab-toc").removeClass("new-book-browse-by-active");$("#booknav-letters").removeClass("new-book-browse-by-active");$("#booknav-letters").addClass("new-book-browse-by-inactive");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-active");$("#booknav-browser-by-subject").addClass("new-book-browse-by-inactive");$("#booknav-tab-search").addClass("new-book-browse-by-active");
$("#booknav-tab-search").removeClass("new-book-browse-by-inactive");set_height_books_browse()});var x=1;$("#toggle_title").click(function(){$("#toggle_title").addClass("active");$("#toggle_subject").removeClass("active");$("#booknav-letters").removeClass("new-book-browse-by-inactive");$("#booknav-letters").addClass("new-book-browse-by-active");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-active");$("#booknav-browser-by-subject").addClass("new-book-browse-by-inactive");x=1;set_height_books_browse()});
$("#toggle_subject").click(function(){$("#toggle_subject").addClass("active");$("#toggle_title").removeClass("active");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-inactive");$("#booknav-browser-by-subject").addClass("new-book-browse-by-active");$("#booknav-letters").removeClass("new-book-browse-by-active");$("#booknav-letters").addClass("new-book-browse-by-inactive");x=1;set_height_books_browse_subject()});$("#books-citation-view").click(function(){$.browser.msie||add_browse_book_overlay();
$("#books-hybrid-view").removeClass("active");$("#books-citation-view").addClass("active");$("#books-newsstand-view").removeClass("active");x=1;display_citation_view()});$("#books-hybrid-view").click(function(){$.browser.msie||add_browse_book_overlay();$("#books-citation-view").removeClass("active");$("#books-hybrid-view").addClass("active");$("#books-newsstand-view").removeClass("active");x=1;display_hybrid_view()});$("#books-newsstand-view").click(function(){$.browser.msie||add_browse_book_overlay();
$("#books-citation-view").removeClass("active");$("#books-hybrid-view").removeClass("active");$("#books-newsstand-view").addClass("active");x=1;display_newstand_view()});$(".newbooklist-get-more-content").live("click",function(h){h=h.target;var F=$(h).parent(),L=$(".newbooklist-get-less-content",F);F=$(".newbooklist-more-author-content",F);$(F).show();$(L).show();$(h).hide()});$(".newbooklist-get-less-content").live("click",function(h){h=h.target;var F=$(h).parent(),L=$(".newbooklist-more-author-content",
F);F=$(".newbooklist-get-more-content",F);$(L).hide();$(F).show();$(h).hide()});$(".newbooklist-get-more-content").live("click",function(h){h=h.target;var F=$(h).parent(),L=$(".newbooklist-get-less-content",F);F=$(".newbooklist-more-editor-content",F);$(F).show();$(L).show();$(h).hide()});$(".newbooklist-get-less-content").live("click",function(h){h=h.target;var F=$(h).parent(),L=$(".newbooklist-more-editor-content",F);F=$(".newbooklist-get-more-content",F);$(L).hide();$(F).show();$(h).hide()});$(window).scroll(function(){if($("#enable_lazy_loading").length>
0){x=1;$("#enable_lazy_loading").remove()}if(!($("#popup-overlay").length&&$(".overlay-popup-box").css("display")=="block"))if(!($("#full-overlay").length>0))if(!($("meta[name=OvidPageId]").attr("content")!="BrowseBooks"||x==0||$("#right-browse-content").find(".loading-books-tab").length>0)){var h=$(document),F=$(this);if(h.scrollTop()>=h.height()-F.height()-100)if(x==1){x=0;if(!($("#nomore_data_to_display").length>0)){if($("#browse_book_subject_dlname").val()!=""&&$("meta[name=browse_datalist]").attr("content")==
"NO"){if($.browser.msie&&$.browser.version<9){h=parseInt($("input[name=browse_count_IE]").val(),10)+1||1;$("input[name=browse_count_IE]").attr("value",h)}else{h=parseInt($("meta[name=browse_count]").attr("content"),10)+1||1;$("meta[name=browse_count]").attr("content",h)}F=$("#browse_book_subject_dlname").val();get_books_by_subject(this,F,false,h)}else{if($.browser.msie&&$.browser.version<9){h=parseInt($("input[name=browse_count_IE]").val(),10)+1||1;$("input[name=browse_count_IE]").attr("value",h)}else{h=
parseInt($("meta[name=browse_count]").attr("content"),10)+1||1;$("meta[name=browse_count]").attr("content",h)}F=$("meta[name=browse_char]").attr("content")||$("#browse_book_title_index").val()||1;var L=$("meta[name=browse_datalist]").attr("content")||$("#dl_name").val();if(F=="0")F="#";if(F=="1")F="All";get_books_by_title(F,L,h)}remove_browse_book_overlay()}x=1}}});if(typeof String.prototype.trim!=="function")String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};if($.browser.mozilla){$("#all-database-list").css({outline:"1px dotted"});
$("#all-database-list").live("focus",function(){$("#all-database-list").css({outline:"1px dotted"})});$("#all-database-list").live("focusout",function(){$("#all-database-list").css({outline:"none"})})}$("#database-all-resources-list")&&$("#database-all-resources-list a").live("click",function(){var h=$(this).attr("db_full_name");if(h.length>0){h={action:"click",resources:h};(new OmnitureTracker).Track(h)}});$("#pageName").val()!=""&&(new OmnitureTracker).Track({});$("#database-form")&&$("#database-form").live("submit",
function(){var h="";$("#database-all-resources-list")&&$("#database-all-resources-list input:checked").each(function(){var L=$(this).attr("db_full_name");if(L!="All")h=h.length>0?h+";"+L:L});$("#databaselist-resource-groups")&&$("#databaselist-resource-groups input:checked").each(function(){var L=$(this).attr("db_full_name");if(L!="All")h=h.length>0?h+";"+L:L});if(h.length>0){var F={action:"click",resources:h};(new OmnitureTracker).Track(F)}});$("#db-overlay-popup-box").length>0&&resize_database_page();
$("#JO #ovid-vertical-widgets").length>0&&resize_journal_lhs_widget();$("#IS #ovid-vertical-widgets").length>0&&resize_journal_issue_lhs_widget();$("#sfeasy").live("submit",function(){omniture_search_basic()});$("#Ovid_PageId").val();omniture_msp_links();$("#sffindcite").live("submit",function(){return omniture_search_findcitation($(this))});$(".compref #startRecord, .show-journals-browse #startRecord, .startRecord").focus(function(){$("input[name=startRecord]").val("")});$(".compref #startRecord, .show-journals-browse #startRecord, .startRecord").live("keyup",
function(){$("input[name=startRecord]").val($(this).val())});$(".compref .bibrecord-checkbox").click(function(){$(this).attr("checked")==true?$(".bibrecord-checkbox").attr("checked",true):$(".bibrecord-checkbox").removeAttr("checked")});$("ul.drop-menu")&&$("ul.drop-menu a").live("click",function(){var h={linkName:$(this).text(),linkType:"external",action:"click"};(new OmnitureTracker).Track(h)});$("a.contract-searchhestory").live("mouseover",function(){$(".span-img-expand").length>0&&$(".span-img-expand").addClass("image-hover")});
$("a.contract-searchhestory").live("mouseout",function(){if($(".span-img-expand").length>0){$(".span-img-expand").removeClass("image-hover");$(".span-img-expand").removeClass("ie-image-hover")}});$("a.expand-searchhestory").live("mouseover",function(){$(".span-img-contract").length>0&&$(".span-img-contract").addClass("image-hover")});$("a.expand-searchhestory").live("mouseout",function(){$(".span-img-contract").length>0&&$(".span-img-contract").removeClass("image-hover")});$(".edit_search_history_banner input:first").focus();
$("#main-content").delegate("input[name=tBoxFc_fc_jour]","keypress",function(h){get_autocomplete_list(h,$(this))});$("#mobile-token-link").click(function(){(new OmnitureTracker).Track({action:"click",linkName:"OvidToday Generate Token"});var h=$("#mobile-token-link").attr("href");$.ajax({type:"GET",dataType:"json",url:h,success:function(F){if(F.pin_login_possible==1&&F.redirectTo)window.location=F.redirectTo;else if(F.pin_update_possible==1&&F.redirectTo)window.location=F.redirectTo;else showConfirmationModal(F.message)},
error:function(F,L){try{console.error(L)}catch(M){}}});return false});$(".search-actions-edit").unbind("keypress").keypress(function(h){if(h.which===13){h.preventDefault();edit_search_history(this)}});$(".search-actions-edit").click(function(){edit_search_history(this)});$(".search-actions-row-above").unbind("keypress").keypress(function(h){if(h.which===13){h.preventDefault();add_new_line_to_search_history(this,{where:"above"})}});$(".search-actions-row-above").click(function(){add_new_line_to_search_history(this,
{where:"above"})});$(".search-actions-row-below").unbind("keypress").keypress(function(h){if(h.which===13){h.preventDefault();add_new_line_to_search_history(this,{where:"below"})}});$(".search-actions-row-below").click(function(){add_new_line_to_search_history(this,{where:"below"})});$(".search-actions-remove").unbind("keypress").keypress(function(h){if(h.which===13){h.preventDefault();remove_line_from_search_history(this)}});$(".search-actions-remove").click(function(){remove_line_from_search_history(this)});
$(".cancel-edit-search-popup-buttons").click(function(){(new OmnitureTracker).Track({action:"Cancel Edit Search History"})});$(".run-edit-search-popup-buttons").click(function(){(new OmnitureTracker).Track({action:"Search From History"})});$(".btn-edit-search-history").click(function(){$("#pageName").val("Edit Search History");(new OmnitureTracker).Track({action:"Edit Search History"})});setSavedSearchActionButtonState();$(".saved-search-checkbox").change(setSavedSearchActionButtonState);$(".savedsearchlist-dbselect-checkbox").change(setSavedSearchActionButtonState);
if(hasLocalStorage())if(localStorage.previousNumEditSearchHistoryLines){localStorage.currentNumEditSearchHistoryLines=$(".edit-search-history-line").length;if(localStorage.currentNumEditSearchHistoryLines===localStorage.previousNumEditSearchHistoryLines){localStorage.removeItem("previousNumEditSearchHistoryLines");localStorage.removeItem("currentNumEditSearchHistoryLines");a=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Reload Search History")+"=1";window.location.href=a}else{localStorage.removeItem("previousNumEditSearchHistoryLines");
localStorage.removeItem("currentNumEditSearchHistoryLines")}}}function setSavedSearchActionButtonState(){var a=true;$(".saved-search-checkbox").each(function(){if($(this).is(":checked"))a=false;return a});$(".saved-search-action-button").attr("disabled",a)}var MAX_TAB_INDEX=undefined,dialogIdToTabOrderMap={"add-search-term-popup":["#add-search-term-text","#add-search-term-cancel","#add-search-term-save","#add-search-term-popup-close"]},previousTabIndexMap={};
function setup_tab_order_for_popup(a){if(document.getElementById(a)&&a){$("[tabindex]").each(function(){if(this.id)previousTabIndexMap[this.id]=this.tabIndex});$(":input, a, span").each(function(){$(this).attr("tabindex","-1")});a=dialogIdToTabOrderMap[a];for(var b=0;b<a.length;b++){$(a[b]).attr("tabindex",b+1);if(b+1==a.length){MAX_TAB_INDEX=b+1;var c=$("[tabindex="+MAX_TAB_INDEX+"]");c&&c.bind("keydown",function(f){if(f.keyCode==9){f.preventDefault();(f=$("[tabindex=1]"))&&f.focus()}})}}}}
function reset_tab_order(){if(MAX_TAB_INDEX){var a=$("[tabindex="+MAX_TAB_INDEX+"]");a&&a.unbind("keydown")}$(":input, a, span").each(function(){this.id&&previousTabIndexMap.hasOwnProperty(this.id)?$(this).attr("tabindex",previousTabIndexMap[this.id]):$(this).removeAttr("tabindex")});previousTabIndexMap={};MAX_TAB_INDEX=undefined}
function add_new_line_to_search_history(a,b){if(!b||!b.where||!(b.where.toLowerCase()=="below"||b.where.toLowerCase()=="above"))return false;var c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Add Search History Line Show Edit")+"="+$(a).closest(".edit-search-history-line").attr("id")+"&"+encodeURIComponent("Where")+"="+b.where.toLowerCase()+"&Ajax_request=1";$(".edit-search-history-container").prepend('<div id="popup-overlay"></div><div id="add-search-term-popup-box" class="overlay-popup-box"> </div>');
var f=$("#add-search-term-popup-box");$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){f.html("<div class='loading-big set-height'></div>")},success:function(e){if(e.match(/session-timeout/)){display_timeout_message(f,e);return false}f.html(e);(new OmnitureTracker).Track({action:"Add New Search Statement"});setup_tab_order_for_popup("add-search-term-popup")},complete:function(){$("#add-search-term-text").focus()},error:function(e,d){try{console.error(d)}catch(g){}}})}
function add_search_term_form(){var a=$("#add-search-term-popup").find('input[name="Index"]').val(),b=$("textarea#add-search-term-text").val();a=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Add Search History Line")+"=1&index="+a+"&new_search_term="+encodeURIComponent(b)+"&Ajax_request=1";$.ajax({url:a,type:"POST",dataType:"json",beforeSend:function(){$("#add-search-term-popup-box").html("").addClass("set-height loading-big")},success:function(c){if(c.result=="OK"){c=$("#base_ui_callback_url").attr("href")+
"&"+encodeURIComponent("Reload Search History")+"=1";window.location.href=c;(new OmnitureTracker).Track({action:"Create New Search Statement"})}else alert(c.message)},error:function(c,f){try{console.error(f)}catch(e){}}})}function cancel_add_term_form(a){(new OmnitureTracker).Track({action:"Cancel Add Search Statement"});close_add_search_term_edit_form(a)}
function close_add_search_term_edit_form(a){if(a.preventDefault){a.preventDefault();a=$("[name='Index']").val();$(".search-actions-edit").eq(a-1).focus()}else a.returnValue=false;a=$("#add-search-term-popup-box");a.empty();a.overlay({action:"close_all"});reset_tab_order();return false}
function edit_search_history(a){a=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Edit Search History Line")+"="+$(a).closest(".edit-search-history-line").attr("id")+"&Ajax_request=1";$(".edit-search-history-container").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="search-edit-popup-box" class="overlay-popup-box"> </div>');var b=$("#search-edit-popup-box");$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){b.html("<div class='loading-big set-height'></div>")},
success:function(c){if(c.match(/session-timeout/)){$("#popup-overlay").remove();display_timeout_message(b,c);return false}b.html(c);var f=$("a","saved-search-edit-annotation-container");(new OmnitureTracker).Track({action:"Edit Search Statement"});$("#search-edit-popup-box").add("a.search-annotations-popup-close","#cancel-search-annotation-popup-buttons").click(function(){f.overlay({action:"close_all"});return false})},complete:function(){$("#search-term-edit-text").focus()},error:function(c,f){try{console.error(f)}catch(e){}$("#popup-overlay").remove()}});
return false}var ANNOTATIONS_TEXT="",ACTIONS_TEXT="";
function remove_line_from_search_history(a){var b=$(a).closest(".edit-search-history-line").attr("id");b=parseInt(b.match(/\d+$/)[0],10);if(hasLocalStorage())localStorage.previousNumEditSearchHistoryLines=$(".edit-search-history-line").length;var c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Remove Search History Line")+"="+b+"&Ajax_request=1";$.ajax({type:"GET",url:c,dataType:"json",beforeSend:function(){$(a).removeClass("search-actions-remove");$(a).addClass("search-actions-loading")},
success:function(f){if(f.result=="FAIL"){try{console.error("AJAX call failed: "+c)}catch(e){}var d=f.dependencies.split(",");$(".edit-search-history-line").each(function(){var g=$(this).attr("id").match(/\d+$/)[0];d.indexOf(g)!==-1&&$(this).addClass("remove-search-line-dependent")});$(a).closest(".edit-search-history-line").before(f.content);$(a).removeClass("search-actions-loading");$(a).addClass("search-actions-remove");ANNOTATIONS_TEXT=$(".edit-search-history-col-annotations").text();ACTIONS_TEXT=
$(".edit-search-history-col-actions").text();$(".edit-search-history-col-annotations").text("");$(".edit-search-history-col-actions").text("");$(".edit_search_history_banner").addClass("hide-div");$(".edit-search-annotation-container").addClass("hide-div");$(".search-actions-edit-container").addClass("hide-div");$(".search-actions-row-above-container").addClass("hide-div");$(".search-actions-row-below-container").addClass("hide-div");$(".search-actions-remove-container").addClass("hide-div");return false}else{f=
$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Reload Search History")+"=1";window.location.href=f;(new OmnitureTracker).Track({action:"Remove Search Statement"})}},error:function(f,e){try{console.error(e)}catch(d){}}})}
function remove_line_from_search_history_with_dependents(){var a=[];$(".remove-search-line-dependent").each(function(){a.push($(this).attr("id").match(/\d+$/)[0])});var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Remove Search History Line")+"="+a.toString()+"&Ajax_request=1";$.ajax({type:"GET",url:b,dataType:"json",beforeSend:function(){$(".remove-search-line-remove-button").after('<input class="loading error-background-color" style="border: 0px; margin-left: 75px">');$(".remove-search-line-remove-button").remove();
$(".remove-search-line-cancel-button").remove()},success:function(c){if(c.result=="FAIL"){try{console.error("AJAX call failed: "+b)}catch(f){}return false}else{c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Reload Search History")+"=1";window.location.href=c;(new OmnitureTracker).Track({action:"Remove Search Statement And Dependents"})}},error:function(c,f){try{console.error(f)}catch(e){}}})}
function remove_line_from_search_history_cancel(){$(".edit-search-history-col-annotations").text(ANNOTATIONS_TEXT);$(".edit-search-history-col-actions").text(ACTIONS_TEXT);$("#remove-search-line-dependent-warning").remove();$(".remove-search-line-dependent").removeClass("remove-search-line-dependent");$(".edit_search_history_banner").removeClass("hide-div");$(".edit-search-annotation-container").removeClass("hide-div");$(".search-actions-edit-container").removeClass("hide-div");$(".search-actions-row-above-container").removeClass("hide-div");
$(".search-actions-row-below-container").removeClass("hide-div");$(".search-actions-remove-container").removeClass("hide-div")}
function get_autocomplete_list(a,b){var c=$("#service_url").val(),f=$("#record_count").val(),e={};b.autocomplete({source:function(d,g){if(e.term==d.term&&e.content)g(e.content);else RegExp(e.term).test(d.term)&&e.content&&e.content.length<13?g($.ui.autocomplete.filter(e.content,d.term)):$.ajax({url:c+"?query="+encodeURIComponent(b.val())+"&rows="+f,dataType:"json",data:d,success:function(l){if(l){l=l.replace(/^[\s|\n]*|[\s|\n]*$/g,"");if(l!==""){l=$.map(l.split("\n"),function(n){n=n.split("\t");return{label:n[0],
category:n[1].replace(/^\[|\]$/g,""),definition:n[2].replace(/^\s|\s$/g,""),imageurl:n[3].replace(/^\s|\s$/g,""),type:n[4].replace(/^\s|\s$/g,""),typeInfo:n[5].replace(/^\s|\s$/g,""),score:n[6].replace(/^\s|\s$/g,"")}});e.term=d.term;e.content=l;g(l)}l=$("ul.ui-autocomplete");l.addClass("journal-name-autocomplete");l.css({"overflow-y":"unset"});l.css({"z-index":"100"}).iframehack(3)}else return false},error:function(l,n,o){try{console.error(l,n,o)}catch(u){}}})},minLength:3})}
function search_history_set_results_height(){var a=$(".searchhistory-col-Results");$(".searchhistory-col-SearchHistory").each(function(b){if(b>0){var c=$(this).children().first().outerHeight();c>0&&$(a[b]).children().first().attr("style","height:"+c+"px")}})}
function omniture_search_findcitation(a){var b="",c={},f={},e={};$("#omniture_contentType").val();$("#omniture_viewType").val();for(var d=$("#omniture_search_term_fld").val().split(","),g=$("#omniture_search_option_fld").val().split(","),l=0;l<d.length;l++){var n=d[l].split(":");c[n[0]]=$.trim(n[1])}for(l=0;l<g.length;l++){n=g[l].split(":");f[n[0]]=$.trim(n[1])}$.each(a.serializeArray(),function(o,u){u.value=$.trim(u.value);if(u.value!="")e[u.name]=u.value});$.each(e,function(o,u){$.each(c,function(r,
p){if(o==r){var s=f[r];if(b=="")b=e[s]=="on"?'"'+p+":*"+u+'*"':'"'+p+":"+u+'"';else b+=e[s]=="on"?',"'+p+":*"+u+'*"':',"'+p+":"+u+'"'}})});a={searchOptions:"",searchType:"find citation",searchTerm:"["+b+"]",action:"click"};(new OmnitureTracker).Track(a);return true}var dbOverLayR,dbOverLayP,startX,startY,startWidthR,startWidthP,startHeightR,startHeightP,defaultHeightP,defaultHeightR,defaultWidthR,defaultWidthP,popupOverlayWidth,popupOverlayHeight;
function resize_database_page(){dbOverLayP=document.querySelector("#db-overlay-popup-box");dbOverLayR=document.querySelector(".database-resource-list");popupOverlay=document.querySelector("#popup-overlay");dbOverLayP.className+=" resizable";var a=document.createElement("div");a.className="resizer";dbOverLayP.appendChild(a);a.addEventListener("mousedown",initDrag,false);defaultHeightP=dbOverLayP.offsetHeight;defaultHeightR=dbOverLayR.offsetHeight;defaultWidthR=dbOverLayR.offsetWidth;defaultWidthP=
dbOverLayP.offsetWidth;popupOverlayWidth=popupOverlay.offsetWidth;popupOverlayHeight=popupOverlay.offsetHeight}
function initDrag(a){startX=a.clientX;startY=a.clientY;startWidthR=parseInt(document.defaultView.getComputedStyle(dbOverLayR).width,10);startHeightR=parseInt(document.defaultView.getComputedStyle(dbOverLayR).height,10);startWidthP=parseInt(document.defaultView.getComputedStyle(dbOverLayP).width,10);startHeightP=parseInt(document.defaultView.getComputedStyle(dbOverLayP).height,10);document.documentElement.addEventListener("mousemove",doDrag,false);document.documentElement.addEventListener("mouseup",
stopDrag,false)}
function doDrag(a){if(startWidthP+a.clientX-startX>defaultWidthP&&startWidthP+a.clientX-startX<popupOverlayWidth)dbOverLayP.style.width=startWidthP+a.clientX-startX+"px";if(startHeightP+a.clientY-startY>defaultHeightP&&startHeightP+a.clientY-startY<popupOverlayHeight)dbOverLayP.style.height=startHeightP+a.clientY-startY+"px";if(startWidthR+a.clientX-startX>defaultWidthR&&startWidthP+a.clientX-startX<startWidthR+a.clientX-startX)dbOverLayR.style.width=startWidthR+a.clientX-startX+"px";if(startHeightR+
a.clientY-startY>defaultHeightR&&startHeightR+a.clientY-startY<startHeightP+a.clientY-startY)dbOverLayR.style.height=startHeightR+a.clientY-startY+"px"}function stopDrag(){document.documentElement.removeEventListener("mousemove",doDrag,false);document.documentElement.removeEventListener("mouseup",stopDrag,false)}
function setup_resource_group_page(a){$("a.custom-fields-popup-close, input.resource-group-cancel",a).click(function(){var e;if($("#db-overlay-popup-box").length)e={popup:"#db-overlay-popup-box",action:"show_popup"};else{$("#below-banner").prepend('<div id="db-overlay-popup-box" class="overlay-popup-box"></div>');e={popup:"#db-overlay-popup-box",action:"show_popup",more_action:function(){get_database_list()}}}$("#below-banner").overlay(e);return false});$("#resource-group-name").length>0&&$("#resource-group-name").focus();
if($("#resource-group").length){var b=$("#resource-group-submit");b.click(function(){save_add_edit_resource_group(a);return false});$("#resource-group-name").focus(function(){$("#resource-group-name-error-msg").hide()});$("input[type=checkbox]:checked",a).length?b.attr("disabled",""):b.attr("disabled",true);var c=$("#base-jumpstart-link"),f=c.attr("value");$("#resource-group-name").keyup(function(){if(c.length){c.attr("value",f.replace("<RG>",encodeURIComponent($("#resource-group-name").val())));
$("#jump-start-div").html(c.attr("value"))}});$("#jumpstart-link-button").hide();$("#jump-start-div, #jump-start-hint").removeClass("hidden")}databaselist_ready()}$(window).load(function(){$("#db-overlay-popup-box").length&&databaselist_ready()});
function get_customize_display_data(){var a=$("a","#customize-display"),b=a.attr("href")+"&"+encodeURIComponent("Get Customize Display")+"=1";if($("#DatalistType").attr("value")=="MMResultSet")b+="&"+encodeURIComponent("ON_MM_PAGE")+"=y";var c=$("#customize-display-popup-box");customized_popup_setup(b,c,a);return false}
function get_range(){var a="";if($("input[type=text].cmRecords").val()&&$("input[type=text].cmRecords").val()!=$("input[type=text].cmRecords").attr("title"))a="&cmRecords="+$("input[type=text].cmRecords").val();if($("input[type=checkbox].bibrecord-checkbox:first").val()){var b=$("input[type=checkbox].bibrecord-checkbox:first").val(),c=$("input[type=checkbox].bibrecord-checkbox:last").val();a+="&records_on_page="+b+"-"+c}return a}
function get_popup_overlay_for_print(a,b){$("#popup-overlay").length&&$("#popup-overlay, #print-citation-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="print-citation-popup-box" class="overlay-popup-box"> </div>');if($("#msp-searchform").length||$("#jb_search_form").length){var c=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-$("#print-citation-popup-box").offset().top-$(window).height()*1/2:$(a.target).offset().top-
$("#print-citation-popup-box").offset().top;$("#print-citation-popup-box").css({top:c})}add_print_citation_overlay(get_print_citation_data(b));if($(a.target).parents("#project_item_footer").length)window.location="#below-banner"}
function get_print_citation_data(a){var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Print Citation Page")+"=1&",c=a.attr("name").match(/^submit:(.+?)\|(.+)/);c||(c=a.val().match(/(.+?)\|(.+)/));b=b+encodeURIComponent(c[1])+"="+encodeURIComponent(c[2]);b+=get_range();c=$("#print-citation-popup-box");b+=$("#DatalistType").attr("value")=="OAResultSet"?"&ON_OA_PAGE=Y":$("#DatalistType").attr("value")=="MMResultSet"?"&ON_MM_PAGE=Y":"";customized_popup_setup(b,c,a);return false}
function get_jbi_popup_overlay_for_email(a,b){var c;c=b.attr("href").match(/JBI\+Email\+Page\=(.+)/)[1];$("#below-banner").prepend('<div id="jbi-email-citation-popup-box" class="overlay-popup-box"> </div>');$("#jbi-bookmark-tool-popup-box").css("z-index","10");$("#jbi-email-citation-popup-box").css({position:"absolute",top:"25em"});c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get JBI Email Citation Page")+"=1&tool="+c;var f;f=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-
$("#jbi-email-citation-popup-box").offset().top-$(window).height()*2/3:$(window).height()/2+$(window).scrollTop()/2;$("#jbi-email-citation-popup-box").css({top:f});var e=$("#jbi-email-citation-popup-box");$.ajax({url:c,dataType:"json",beforeSend:function(){e.html("<div class='loading-big set-height'></div>")},success:function(d){if(d.result=="FAIL"&&d.reason=="timeout"){display_timeout_message(e,d.session_timeout_error);return false}e.html(d.content);b.overlay({popup:e,action:"show_popup",recalculate:true});
$("#popup-overlay").css({height:"85em"});$("input.popup-cancel-button",e).add("a.popup-close",e).click(function(){window.location.href.match(/#below-banner/)&&history.back();$("#jbi-email-citation-popup-box").remove();$("#jbi-bookmark-tool-popup-box").css({display:"block","z-index":"1001"});$("#popup-overlay").css({"z-index":"997"});return false});e.attr("id")=="jbi-email-citation-popup-box"&&$("#email-citation-form").submit(function(){var g=$("#email-citation-form input[name=Recipient]").val(),l=
$("#email-citation-form input[name=Sender]").val(),n=0;$("#subject-error, #from_addr_error, #to_addr_error").addClass("hidden");if(!validate_email(g)){n=1;$("#to_addr_error").removeClass("hidden")}if(!$("#email-citation-form input[name=Subject]").val()){n=1;$("#subject-error").removeClass("hidden")}if(!validate_email(l)){n=1;$("#from_addr_error").removeClass("hidden")}if(n)return false})},error:function(d,g){try{alert("Error ->\n"+g)}catch(l){}}});$(this).overlay({popup:"#jbi-email-citation-popup-box",
overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"})}
function get_popup_overlay_for_email(a,b){$("#popup-overlay").length&&$("#popup-overlay, #email-citation-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="email-citation-popup-box" class="overlay-popup-box"> </div>');if($("#msp-searchform").length||$("#jb_search_form").length){var c=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-$("#email-citation-popup-box").offset().top-$(window).height()*2/3:$(a.target).offset().top-
$("#email-citation-popup-box").offset().top;$("#email-citation-popup-box").css({top:c})}add_email_citation_overlay(get_email_citation_data(b));if($(a.target).parents("#project_item_footer").length)window.location="#below-banner"}
function get_email_citation_data(a){var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Email Citation Page")+"=1&gsrd_params="+$("#gsrd_params").attr("value")+"&",c=a.attr("name").match(/^submit:(.+?)\|(.+)/);c||(c=a.val().match(/(.+?)\|(.+)/));b=b+encodeURIComponent(c[1])+"="+encodeURIComponent(c[2]);b+=get_range();c=$("#email-citation-popup-box");if($("#DatalistType").attr("value")=="OAResultSet")b+="&ON_OA_PAGE=Y";else if($("#DatalistType").attr("value")=="MMResultSet")b+=
"&ON_MM_PAGE=Y";customized_popup_setup(b,c,a);return false}
function get_popup_overlay_for_export(a,b){$("#popup-overlay").length&&$("#popup-overlay, #export-citation-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="export-citation-popup-box" class="overlay-popup-box"> </div>');if($("#msp-searchform").length||$("#jb_search_form").length){var c=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-$("#export-citation-popup-box").offset().top-$(window).height()*1/2:$(a.target).offset().top-
$("#export-citation-popup-box").offset().top;$("#export-citation-popup-box").css({top:c})}add_export_citation_overlay(get_export_citation_data(b));if($(a.target).parents("#project_item_footer").length)window.location="#below-banner"}
function get_export_citation_data(a){var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Export Citation Page")+"=1&",c=a.attr("name").match(/^submit:(.+?)\|(.+)/);c||(c=a.val().match(/(.+?)\|(.+)/));b=b+encodeURIComponent(c[1])+"="+encodeURIComponent(c[2]);b+=get_range();c=$("#export-citation-popup-box");if($("#DatalistType").attr("value")=="OAResultSet")b+="&ON_OA_PAGE=Y";else if($("#DatalistType").attr("value")=="MMResultSet")b+="&ON_MM_PAGE=Y";customized_popup_setup(b,c,
a);return false}
function customized_popup_setup(a,b,c){$.ajax({url:a,dataType:"json",beforeSend:function(){b.html("<div class='loading-big set-height'></div>")},success:function(f){if(f.result=="FAIL"&&f.reason=="timeout"){display_timeout_message(b,f.session_timeout_error);return false}b.html(f.content);update_after_select_range(f.selected_results,f.num_selected,f.is_all_selected);$("#export-citation-popup span.change-type").addClass("hide");c.overlay({popup:b,action:"show_popup",recalculate:true});$("input.popup-cancel-button",
b).add("a.popup-close",b).click(function(){c.overlay({action:"close_all"});window.location.href.match(/#below-banner/)&&history.back();return false});$("input#export-citation-preview",b).click(function(){c.overlay({action:"close_all"});window.location.href.match(/#below-banner/)&&history.back();return true});b.attr("id")=="email-citation-popup-box"&&$("#email-citation-form").submit(function(){var l=$("#email-citation-form input[name=Recipient]").val(),n=$("#email-citation-form input[name=Sender]").val(),
o=0;$("#subject-error, #from_addr_error, #to_addr_error").addClass("hidden");if(!validate_email(l)){o=1;$("#to_addr_error").removeClass("hidden")}if(!$("#email-citation-form input[name=Subject]").val()){o=1;$("#subject-error").removeClass("hidden")}if(!validate_email(n)){o=1;$("#from_addr_error").removeClass("hidden")}if(o)return false});f=b.attr("id");f=="print-citation-popup-box"&&setup_print_preview_results(b,c);if(!$("#gs-all-tabs div.selected").length){var e=$("input.custom-fields-select-button",
b),d=$("input.popup-submit-button",b);f=="export-citation-popup-box"&&set_up_citation_export_to_handler(b,c);var g={export_to:{open:$("div.export-to-open",b),closed:$("div.export-to-closed",b)},fields:{open:$("div.fields-open",b),closed:$("div.fields-closed",b)},styles:{open:$("div.styles-open",b),closed:$("div.styles-closed",b)},includes:{open:$("div.include-open",b),closed:$("div.include-closed",b)}};f=[];g.export_to.open.length&&f.push("div.export-to-open a","div.export-to-closed a");g.fields.open.length&&
f.push("div.fields-open a","div.fields-closed a");g.styles.open.length&&f.push("div.styles-open a","div.styles-closed a");g.includes.open.length&&f.push("div.include-open a","div.include-closed a");$(f.join(","),b).click(function(){$.ajax({url:$(this).attr("href"),dataType:"json",success:function(l){if(l.session_timeout_error){display_timeout_message(b,l.session_timeout_error);return false}if(l.status==1){g[l.type].open.removeClass("hidden");g[l.type].closed.addClass("hidden")}else{g[l.type].closed.removeClass("hidden");
g[l.type].open.addClass("hidden")}}});return false});$("div.fields-open input:radio",b).click(function(){if(this.value=="SELECTED"){e.attr("disabled",false);$("div.selected-fields",b).show()}else{e.attr("disabled",true);$("div.selected-fields",b).hide()}d.attr("disabled",false)});$("input:radio:checked",b).length||d.attr("disabled",true);if(!$("input[value=SELECTED]:checked",b).length){e.attr("disabled",true);$("div.selected-fields",b).hide()}e.click(function(l){$("#custom-fields-popup-box").length&&
$("#custom-fields-popup-box").remove();$("#below-banner").prepend('<div class="overlay-popup-box" id="custom-fields-popup-box"> </div>');var n={popup:"#custom-fields-popup-box",action:"show_popup",more_action:function(){get_custom_fields(b)},hide_all_popups:false};if(!$("#mp-main-page-widgets").length){l=$(l.target).offset().top-$("#custom-fields-popup-box").offset().top*2;$(n.popup).css({top:l})}$(this).overlay(n);b.css("z-index","997");return false})}},error:function(f,e){try{console.error(e)}catch(d){}}})}
function set_up_citation_export_to_handler(a,b){$("#export-citation-export-to-options",a).change(function(){var c=$("#export-citation-export-to-options",a).val();c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Export Citation Page")+"=1&exportType="+c+"&";var f=b.attr("name").match(/^submit:(.+?)\|(.+)/);f||(f=b.val().match(/(.+?)\|(.+)/));c=c+encodeURIComponent(f[1])+"="+encodeURIComponent(f[2]);if($("#DatalistType").attr("value")=="OAResultSet")c+="&ON_OA_PAGE=Y";else if($("#DatalistType").attr("value")==
"MMResultSet")c+="&ON_MM_PAGE=Y";f=$("#export-citation-popup-box");customized_popup_setup(c,f,b)})}
function save_selected_custom_fields(a){var b=$("#base_ui_callback_url").attr("href");b+="&SELECT="+$("#CF_SELECT").attr("value");var c=$("#PrintFieldsDataList").attr("value");if(c)b+="&"+encodeURIComponent("PrintFieldsDataList")+"="+c;c="";if($("#ON_OA_PAGE").length||$("#DatalistType").attr("value")=="OAResultSet")b+="&"+encodeURIComponent("ON_OA_PAGE")+"=Y";else if($("#DatalistType").attr("value")=="MMResultSet")b+="&"+encodeURIComponent("ON_MM_PAGE")+"=y";if(a.attr("id")=="customize-display-popup-box")b+=
"&"+encodeURIComponent("Save Selected Custom Fields")+"=1";else if(a.attr("id")=="print-citation-popup-box"){c=$('#print-citation-popup input[name="Citation Page"]').val();b+="&"+encodeURIComponent("Save Print Selected Custom Fields")+"=1&"+encodeURIComponent(c)+"=1"}else if(a.attr("id")=="email-citation-popup-box"){c=$('#email-citation-popup input[name="Citation Page"]').val();b+="&"+encodeURIComponent("Save Email Selected Custom Fields")+"=1&"+encodeURIComponent(c)+"=1"}else if(a.attr("id")=="export-citation-popup-box"){c=
$('#export-citation-popup input[name="Citation Page"]').val();b+="&"+encodeURIComponent("Save Export Selected Custom Fields")+"=1&"+encodeURIComponent(c)+"=1"}$("input[type=checkbox][name=R]","#custom-fields-popup-box").each(function(){if($(this).attr("checked"))b=b+"&R="+$(this).attr("value")});$.ajax({type:"GET",url:b,dataType:"html",success:function(f){if(f.match(/session-timeout/)){display_timeout_message($("#custom-fields-popup-box"),f);return false}$("span.citman-selfields",a).html(f);$("#PrintFields").length>
0&&$("#PrintFields").val(f);a.overlay({popup:"#custom-fields-popup-box",action:"close_popup",visible_popup:a});a.overlay({popup:a,action:"show_popup",compute:true});a.css("z-index","999");return false},error:function(f,e){try{console.error(e)}catch(d){}}})}
function get_custom_fields(a){var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Custom Fields")+"=1",c=$("#PrintFieldsDataList").attr("value");if(c)b+="&"+encodeURIComponent("PrintFieldsDataList")+"="+c;if($("#ON_OA_PAGE").length||$("#DatalistType").attr("value")=="OAResultSet")b+="&"+encodeURIComponent("ON_OA_PAGE")+"=Y";else if($("#DatalistType").attr("value")=="MMResultSet")b+="&"+encodeURIComponent("ON_MM_PAGE")+"=y";if(a.attr("id")=="customize-display-popup-box")b+="&"+
encodeURIComponent("Get Custom Fields")+"=1";else if(a.attr("id")=="print-citation-popup-box")b+="&"+encodeURIComponent("Get Print Custom Fields")+"=1";else if(a.attr("id")=="email-citation-popup-box")b+="&"+encodeURIComponent("Get Email Custom Fields")+"=1";else if(a.attr("id")=="export-citation-popup-box")b+="&"+encodeURIComponent("Get Export Custom Fields")+"=1&"+encodeURIComponent("PrintFields")+"="+$("#PrintFields").attr("value");var f=$("#custom-fields-popup-box");$.ajax({type:"GET",url:b,dataType:"html",
beforeSend:function(){f.css("z-index","1001").html("<div class='loading-big set-height'></div>")},success:function(e){if(e.match(/session-timeout/)){display_timeout_message(f,e);return false}f.html(e);var d=$("#custom-fields-save");$("a.custom-fields-popup-close",f).add("input.custom-fields-cancel",f).click(function(){a.overlay({popup:"#custom-fields-popup-box",action:"close_popup",visible_popup:a});a.overlay({popup:a,action:"show_popup",compute:true});a.css("z-index","999");return false});d.click(function(){save_selected_custom_fields(a);
return false});$("input[type=checkbox]",f).click(function(){if(this.checked)d.attr("disabled","");else $("input[type=checkbox]:checked",f).length?d.attr("disabled",""):d.attr("disabled","disabled")});$("input[type=checkbox]:checked",f).length||d.attr("disabled","disabled");var g="";if(g=$("#PrintFieldsDataList").attr("value"))g="&"+encodeURIComponent("PrintFieldsDataList")+"="+g;$("a.custom-field-name",f).click(function(){$.ajax({url:$(this).attr("href")+"&"+encodeURIComponent("Select Field Description")+
"=1"+g,beforeSend:function(){$(this).addClass("loading")},success:function(l){if(l.match(/session-timeout/)){display_timeout_message(f,l);return false}$(this).removeClass("loading");$("div.info p",f).html(l);$("div.info",f).removeClass("hidden")}});return false})},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function get_rt_widget_options(){var a=$("span a","#searchaid").attr("href")+"&Ajax_request=1",b=$("#rt-widget-options-popup-box");$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){b.html("<div class='loading-big set-height'></div>")},success:function(c){if(c.match(/session-timeout/)){display_timeout_message(b,c);return false}b.html(c);var f=$("span a","#searchaid");$("#rt-widget-options-cancel").add("a.rt-widget-options-popup-close","#rt-widget-options-popup-box").click(function(){f.overlay({action:"close_all"});
return false});$("#rt-widget-options-save").click(function(){save_rt_widget_options();return false})},error:function(c,f){try{console.error(f)}catch(e){}}});return false}
function get_saved_search_annotations_options(a,b){var c=b.attr("href")+"&Ajax_request=1",f=$("#search-annotations-popup-box");$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){f.html("<div class='loading-big set-height'></div>")},success:function(e){if(e.match(/session-timeout/)){display_timeout_message(f,e);return false}f.html(e);var d=$("a","saved-search-edit-annotation-container");$("#search-annotations-popup-box").add("a.search-annotations-popup-close","#cancel-search-annotation-popup-buttons").click(function(){d.overlay({action:"close_all"});
return false})},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function get_edit_search_annotations_options(a,b){var c=b.attr("href")+"&Ajax_request=1",f=$("#search-annotations-popup-box");$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){f.html("<div class='loading-big set-height'></div>")},success:function(e){if(e.match(/session-timeout/)){display_timeout_message(f,e);return false}f.html(e);var d=$("a","edit-search-annotation-container");$("#search-annotations-popup-box").add("a.search-annotations-popup-close","#cancel-search-annotation-popup-buttons").click(function(){d.overlay({action:"close_all"});
return false});$(".search-annotations-popup-close").focus()},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function get_search_annotations_options(a,b){var c=b.attr("href")+"&Ajax_request=1",f=$("#search-annotations-popup-box");$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){f.html("<div class='loading-big set-height'></div>")},success:function(d){if(d.match(/session-timeout/)){display_timeout_message(f,d);return false}f.html(d);var g=$("a","annotation-container");$("#search-annotations-popup-box").add("a.search-annotations-popup-close","#cancel-search-annotation-popup-buttons").click(function(){g.overlay({action:"close_all"});
return false});$(".search-annotations-popup-close").focus()},error:function(d,g){try{console.error(g)}catch(l){}}});if($("#savedsearchlist").length>0){c=/Display\+Save\+Search=(.*)$/.exec(c);var e=$("#savedsearchlist").offset();c[1]!=undefined&&window_scroll_top()>e.top&&window.scrollTo(0,0)}return false}
function save_rt_widget_options(){var a=$("#base_ui_callback_url").attr("href");a+="&"+encodeURIComponent("Save RT Widget Options")+"=";a+=encodeURIComponent($("#RT_Widget_Options").attr("value"));$("input[type=checkbox][name=rt_widget_id]","#rt-widget-options-form").each(function(){if($(this).attr("checked"))a=a+"&rt_widget_id="+$(this).attr("value")});$.ajax({type:"GET",url:a,dataType:"json",success:function(b){if(b.session_timeout_error){display_timeout_popup(b.session_timeout_error);return false}$(this).overlay({action:"close_all"});
if(b.result=="OK"){var c=b.active_widgets;b=b.hidden_widgets;if(c.length){c=c.split(",");for(var f in c)$("#"+c[f]).removeClass("hidden")}if(b.length){f=b.split(",");for(var e in f)$("#"+f[e]).addClass("hidden")}}else try{console.dir(b)}catch(d){}},error:function(b,c){try{console.error(c)}catch(f){}}});return false}
function get_database_list(){var a=$("a.ovid-resources-link",$msp_searchform),b=a.attr("href")+"&Ajax_request=1",c=$("#db-overlay-popup-box");if(!a.hasClass("ajax-processing")){a.addClass("ajax-processing");$.ajax({url:b,beforeSend:function(){c.html("<div class='loading-big set-height'></div>")},success:function(f){if(f.match(/session-timeout/)){display_timeout_popup(f);return false}c.html(f);databaselist_ready();$("a.resources_popup_close, input.database-cancel",c).click(function(){a.overlay({action:"close_all"});
cancel_database_list(b);return false});a.removeClass("ajax-processing");resize_database_page()},error:function(f,e){try{console.error(e)}catch(d){}}})}return false}function cancel_database_list(a){a+="&Cancel=1";$.ajax({url:a,dataType:"html",success:function(){},error:function(b,c){try{console.error(c)}catch(f){}}});return false}function add_customize_display_overlay(a){var b={popup:"#customize-display-popup-box"};if(a)b.more_action=a;$("a","#searchaid-numbers").overlay(b)}
function add_print_citation_overlay(a){var b={popup:"#print-citation-popup-box"};if(a)b.more_action=a;$(this).overlay(b)}function add_email_citation_overlay(a){var b={popup:"#email-citation-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"};if(a)b.more_action=a;$(this).overlay(b)}
function edit_search_annotations_overlay(a){var b={popup:"#search-annotations-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"};if(a)b.more_action=a;$("a",".saved-search-edit-annotation-container").overlay(b)}
function add_search_annotations_overlay(a){var b={popup:"#search-annotations-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"};if(a)b.more_action=a;$("a",".annotation-container").overlay(b)}
function add_edit_search_annotations_overlay(a){var b={popup:"#search-annotations-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"};if(a)b.more_action=a;$("a",".edit-search-annotation-container").overlay(b)}function add_export_citation_overlay(a){var b={popup:"#export-citation-popup-box"};if(a)b.more_action=a;$(this).overlay(b)}
function add_rt_widget_options_overlay(a){var b={popup:"#rt-widget-options-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"};if(a)b.more_action=a;$("span a","#searchaid").overlay(b)}
function add_msp_overlay(a){var b={popup:"#db-overlay-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"},c=$(".db-info").attr("popup_width");if(c)b.popup_width=c;if(a)b.more_action=a;$("a.ovid-resources-link",$msp_searchform).overlay(b);$("#titles-display").length||$(b.overlay).css({height:"80em"})}function activate_default_text(a){a.focus(remove_default_text_from_search_textbox);a.blur(add_default_text_from_search_textbox)}
function remove_default_text_from_search_textbox(){if($(this).val()==$(this)[0].title){if($("#my_projects_find_item").length){$(this).removeClass("mp-search-default-text-active").val("");$(this).removeClass("my_projects_find_item_image")}if($("#diseases_focus").length||$("#procedures_focus").length||$("#drugs_focus").length)$(this).removeClass("pc-search-default-text-active").val("")}}
function add_default_text_from_search_textbox(){if($(this).val()==$(this)[0].title||$(this).val()==""){if($("#my_projects_find_item").length){$(this).addClass("mp-search-default-text-active").val($(this)[0].title);$(this).addClass("my_projects_find_item_image")}if($("#diseases_focus").length||$("#procedures_focus").length||$("#drugs_focus").length)$(this).addClass("pc-search-default-text-active").val($(this)[0].title)}}
function citation_normalize_text_box(){if($(this).val()!=$(this).attr("title")||$(this).val()=="")$(this).removeClass("msp-search-default-text-active")}function remove_default_text_from_journal_browse_search(){if($(this).val()==$(this)[0].title){$(this).removeClass("default-text-active");$(this).removeClass("journal-search-searchbox-image");$(this).val("")}}
function remove_default_text_for_MSP_search_tool(){if($(this).val()==$(this)[0].title){$(this).removeClass("mp-search-default-text-active");$(this).val("")}}function display_default_text_from_journal_browse_search(){if($(this).val()==""){$(this).addClass("default-text-active");$(this).addClass("journal-search-searchbox-image");$(this).val($(this)[0].title)}}
function display_default_text_for_MSP_search_tool(){if($(this).val()==""){$(this).addClass("mp-search-default-text-active");$(this).val($(this)[0].title)}}function init_journal_browse_search_default_text(){$(".journal-browse-search .default-text").addClass("default-text-active")}
function toggle_issue_cover(a){$.ajax({type:"GET",url:a.href,dataType:"json",success:function(b){if(b.result=="OK"){$(a).attr("href",b.url);$(a).html(b.label);$("#fulltext-source-left-top").toggle()}else try{console.dir(b)}catch(c){}},error:function(b,c){try{console.error(c)}catch(f){}}})}
function favorite_journal(a,b){$.ajax({type:"GET",url:a.href,dataType:"json",success:function(c){if(c.result=="OK"){$("#favorite_journals_content").html(c.content);var f=b=="add"?"remove":"add",e=a.href.match(/([0-9]{8})/)[1];$("#titles-records a[href *="+b+":"+e+"]").each(function(){$(this).children("img").attr("src","gifs/medal_gold_"+f+".gif");$(this).attr("href",$(this).attr("href").replace(b,f)).attr("title",c.title)})}else try{console.dir(c.reason)}catch(d){}},error:function(c,f){try{console.error(f)}catch(e){}}})}
function service_links_popup_close(){$("#service-links-close").click(function(){$("#service-links").remove()})}function main_search_page_display_flag(){if($("#msp-top").length>0)return 1;return 0}
jQuery.fn.extend({toggle_widget:function(){$(this).toggleClass("widget-open");$(this).toggleClass("widget-closed");$(this).siblings(".widget:first").toggle();var a=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Toggle Widget")+"="+encodeURIComponent($(this).attr("id"));$.ajax({type:"GET",url:a,dataType:"html"})}});
jQuery.fn.extend({toggle_mm_widgets:function(){$(this).toggleClass("widget-open");$(this).toggleClass("widget-closed");$(this).siblings(".widget:first").toggle();var a=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Toggle Widget")+"="+encodeURIComponent($(this).attr("id"));$.ajax({type:"GET",url:a,dataType:"html",success:function(){return false}});return false}});
jQuery.fn.extend({popup:function(a,b){if(b.resizable==null)b.resizable="yes";if(b.scrollbars==null)b.scrollbars="yes";if(b.dependent==null)b.dependent="yes";if(b.status==null)b.status="yes";if(b.width==null)b.width=1E3;if(b.height==null)b.height=700;var c=$(window).width(),f=$(window).height();b.left=parseInt((c-b.width)/2,10);if(b.left<0)b.left=0;if(b.left+b.width>c)b.width=c;b.top=parseInt((f-b.height)/2,10);if(b.top<0)b.top=0;if(b.top+b.height>f)b.height=f;return this.each(function(){$(this).data("popup_window",
null);$(this).click(function(e){e=$(e.target);var d=$(this).data("popup_window");if($(e).attr("target")=="_blank"){if(d==null||d.closed){d=window.open($(e).attr("href"),a,"resizable="+b.resizable+",scrollbars="+b.scrollbars+",dependent="+b.dependent+",status="+b.status+",left="+b.left+",top="+b.top+",width="+b.width+",height="+b.height);$(this).data("popup_window",d)}else{d.focus();$(d.document.body).html("");d.location=$(e).attr("href")}return false}return true})})}});
function gs_loading_enable(){$('#GeneralSearch-tabs a[href != ""]').filter(function(){return!($(this).parent().hasClass("selected")||$(this).parent().hasClass("tlink"))}).click(function(){if(!$(this).parent().hasClass("disabled")&&$(this).children("span.loading").length==0){$(this).prepend('<span class="loading">&nbsp; &nbsp; &nbsp;</span>');$.browser.msie&&$(this).parent().hasClass("tab")&&$(this).css({"padding-right":"1.25em"})}})}
function poll_gs_tabs(){var a=$("#GeneralSearch-tabs").attr("tabs"),b=$("#GeneralSearch-tabs").attr("polltime");if(!(a==null||a==""||b<=0)){highlighted_row=$("#searchhistory-inner tr.highlighted");var c=0;if($("input[title='Hide Details']",highlighted_row).length>0)c=1;$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Get+GS+Tabs="+encodeURIComponent(a)+"&CitManPrev="+encodeURIComponent($("#CitManPrev").attr("value"))+"&US_details="+c,dataType:"json",success:function(f){$("#GeneralSearch-tabs").replaceWith(f.tabs);
f.retrieved_number&&$("#gs-retrieved-number").text(f.retrieved_number);if(f.filter_by_source)$("#searchaid-source-filter").length>0?$("#searchaid-source-filter").replaceWith(f.filter_by_source):$("#filter_by_content").append(f.filter_by_source);if(c){var e=customize_US_details(f.US_SH_details);$("div.searchhistory-details > span.US_details",highlighted_row).replaceWith(e);$("div.searchhistory-details div.searchhistory-details-popup span.US_details",highlighted_row).replaceWith(f.US_SH_details);customize_show_more_display(highlighted_row)}if(f.complete){$("#dedup-link").length>
0&&$("#dedup-link a").removeClass("hidden");if($("#gs-get-more").length>0)if($("#gs-get-more-delay").length>0){e=parseInt($("#gs-get-more-delay").text());window.setTimeout(enable_ous_get_more_link,e)}else $("#gs-get-more").removeClass("hidden")}if(f.next_page&&$(".titlesheader-paging").length>0&&$(".titlesheader-paging input[name^=submit:Titles|F|]").length==0){e=$("#CitManPrev").attr("value").split("|").splice(1,2);e=parseInt(e[0])+parseInt(e[1])-1;if(parseInt(f.retrieved_number)>e){$('input.titles-nav-button[name^="submit:Titles|F|"]').length==
0&&$(".titlesheader-paging").each(function(){$(this).append(f.next_page)});$("#gs-get-more").length>0&&$("#gs-get-more").addClass("hidden")}}adjust_gs_tabs_width();gs_loading_enable();$("#GeneralSearch-tabs div.tab a.ajaxnav").click(function(d){return bibliographic_display_navigation(d,true)});f.complete||window.setTimeout(poll_gs_tabs,b)},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}}})}}
function msp_sort_seach_history_click_handler(a){a.preventDefault();var b=$(a.target).attr("href").match(/Sort+(?:[^ &;]+)=([^ &;]+)/)[1],c=$(a.target).parent();$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Sort+Order="+encodeURIComponent(b),dataType:"html",beforeSend:function(){$(c).addClass("loading")},success:function(f){$("div .widget",$msp_search_history).html(f);bind_search_history_events()},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){$(c).removeClass("loading");
$("th.searchhistory-col-Num a").focus();customize_show_more_display();disable_search_history_action_buttons($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>0?false:true)}})}
function verify_personal_account_details(a){var b=true;if(verify_password(a))return b=false;else $("table#user-input tr.userinput-row").each(function(){var c=$(this),f=$("td:first",c).children().eq(0);if(f.attr("required")&&!f.val()){$("th",c).text().replace(/\:$/,"");f.focus();return b=false}});return b}
function verify_password(a){a=a=="create"?$("table#user-input input[name=PinPassword]").val():$("table#user-input input[name=newpass]").val();var b=$("table#user-input input[name=passconfirm]").val();if((a||b)&&a!=b)return true;return false}
function msp_drop_searchhistory(){var a;if($("#msp-search-history.search-history-position-top").length){a="bottom";$msp_search_history.appendTo("#msp-search-"+current_mode).removeClass("search-history-position-top").css({top:0,left:0});$("#msp-searchhistory-drophere").prependTo("#msp-top")}else{a="top";$msp_search_history.prependTo("#msp-top").addClass("search-history-position-top").css({top:0,left:0});$("#msp-searchhistory-drophere").appendTo("#msp-search-"+current_mode)}$("#msp-draghandle").html("&nbsp;");
$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Drag Search History")+"="+a,dataType:"json",success:function(){},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}}})}function msp_realign_search_history(){$msp_search_history.css({top:0,left:0});$.browser.msie&&$("#msp-searchhistory-drophere").css({display:"none"})}
function dedupe_set_continue_state(){$("input:radio[name=R]").is(":checked")?$("input[name^=submit:Dedupe]").removeAttr("disabled"):$("input[name^=submit:Dedupe]").attr("disabled",true)}function openWeblink(a,b){var c,f;if(window.screen){c=window.screen.availWidth;f=window.screen.availHeight}else{c=1024;f=768}c*=0.6;f*=0.6;window.open(a,b,"width="+c+"height="+f+",status,resizable,titlebar,toolbar,scrollbars").focus()}
function multifield_initialize_add_new_row(){$("#add-new-row").show().click(function(){add_new_row_in_multifield();return false})}
function add_new_row_in_multifield(){var a=$("table#msp-multifield-search-inner tr.msp-multifield-search-rows").length+1;$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Add+New+Row="+a,dataType:"html",beforeSend:function(){$("#add-new-row").addClass("loading")},success:function(b){$("input.msp-multifield-search-button",$msp_searchform).parent().html("");$(b).insertBefore("tr#msp-multifield-search-buttonrow")},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}},complete:function(){$("#add-new-row").removeClass("loading")}})}
function login_ready(){$("INPUT[NAME=ID]").focus()}
function index_browse_ready(){index_reorder("one-time");$(window).resize(function(){index_reorder("resize")});if($.browser.msie){$("#index-grid .index-grid-entry").mouseover(function(){$(this).css({overflow:"auto",height:"3.5em","min-height":"3.5em","background-color":"rgb(200,229,170)"})});$("#index-grid .index-grid-entry").mouseout(function(){$(this).css({overflow:"hidden",height:"3.5em","min-height":"3.5em","background-color":"transparent"})});if($.browser.version<7){var a=false;$("input[type=checkbox]").click(function(){a=
true});$("#index-grid .index-grid-entry").click(function(){if(a){a=false;return true}var b=$("input[type=checkbox]",this).get(0);$(b).attr("checked")?$(b).removeAttr("checked"):$(b).attr("checked",true)})}}}var reorder_timer=null,reorder_prev_width=0;
function index_reorder(a){if(reorder_timer!=null){window.clearTimeout(reorder_timer);reorder_timer=null}if(a=="one-time")index_reorder_grid();else if(a=="resize")if(reorder_prev_width!=document.documentElement.clientWidth)reorder_timer=window.setTimeout(index_reorder_grid,500)}
function index_reorder_grid(){if(reorder_timer!=null){window.clearTimeout(reorder_timer);reorder_timer=null}reorder_prev_width=document.documentElement.clientWidth;var a=$(".index-grid-entry");a.css({"float":"left","margin-top":0,"margin-left":0});$("#index-body").css({width:"auto"});var b=$("#index-grid").get(0).clientWidth;$("#index-grid").get(0);var c=$("#index-body").get(0).clientWidth;$("#index-body").get(0);var f=a.get(0).offsetWidth,e=a.get(0).offsetHeight,d=Math.floor(b/f),g=Math.ceil(a.length/
d);b=d*f+(c-b);e=g*e;c=-1*e;for(col_num=0;col_num<d;col_num++){var l=col_num*g;col_num>0&&$(a[l]).css("margin-top",c+"px");var n=col_num*f;for(item_num=0;item_num<g;item_num++)l+item_num<a.length&&$(a[l+item_num]).css({"margin-left":n+"px","float":"none"})}$("#index-body").css({width:b+"px"});$("#index-grid").css({height:e+"px"})}
function index_navigate(a){var b=a.target,c=$(b).attr("name"),f=$("#base_ui_callback_url").attr("href")+"&Navigate+Index="+encodeURIComponent(c)+"&SELECT="+$("#SELECT").attr("value");$("input[type=checkbox][name=R]").each(function(){if($(this).attr("checked"))f=f+"&R="+$(this).attr("value")});a=a.pageX-$(b).get(0).offsetLeft;if(a>8)a-=8;$(b).addClass("loading");$(b).css("background-position",a+"px center");$.ajax({type:"GET",url:f,dataType:"json",success:function(e){if(e.grid){$("#index-header").html(e.header);
$("#index-grid").html(e.grid);$("#index-footer").html(e.footer);index_reorder("one-time")}else $("#index-grid").html(e.msg)},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}},complete:function(){$(b).removeClass("loading")}});return false}
function databaselist_ready(){databaselist_set_submit_state();resource_group_ready();$("input[type=checkbox]","#database-form").click(function(){databaselist_set_submit_state()});$("input[type=checkbox]","#resource-group-form").click(function(){databaselist_set_submit_state()});if($AppleWebKit){$("#databaselist-resource-groups").length&&!$("#databaselist-resource-groups").hasClass("hide")&&add_iscroll_to("databaselist-resource-groups");$("#add-edit-resource-group-dblist-databases").length&&add_iscroll_to("add-edit-resource-group-dblist-databases");
$("#database-all-resources-list").length&&add_iscroll_to("database-all-resources-list")}$("#database-list-popup-error").length&&$("input.database-cancel").unbind("click").bind("click").click(function(){var a=$("a.ovid-resources-link",$msp_searchform),b=a.attr("href")+"&Ajax_request=1";a.overlay({action:"close_all"});cancel_database_list(b);$("#easy_focus").length>0&&$("#easy_focus").focus();$("#findcite_focus").length>0&&$("#findcite_focus").focus();$("#subjsrch_focus").length>0&&$("#subjsrch_focus").focus();
$("#fields_focus").length>0&&$("#fields_focus").focus();$("#ovidclassic_focus").length>0&&$("#ovidclassic_focus").focus();$("#multifield_focus").length>0&&$("#multifield_focus").focus();return false})}function enable_disable_rg_delete_option(){$("li.personal>input[type=checkbox]:checked","#databaselist-resource-groups").length?$("#delete-button").removeClass("delete-group-disabled").removeAttr("disabled"):$("#delete-button").addClass("delete-group-disabled").attr("disabled",true)}
function resource_group_ready(){$("#databaselist-resource-groups-options a.new_group_url, #new-group-url-tooltip a.new_group_url, #databaselist-resource-groups .resource-group-name a").unbind("click").click(function(a){$("#database-list-popup-error").length&&$("#database-list-popup-error").addClass("hide");$("#resource-group-popup-box").length&&$("#resource-group-popup-box").remove();$("#below-banner").prepend('<div id="resource-group-popup-box" class="overlay-popup-box"></div>');var b={popup:"#resource-group-popup-box",
overlay:"#popup-overlay",action:"show_popup",more_action:function(){get_new_resource_group_data(a)}};$(a.target).overlay(b);$("#titles-display").length||$(b.overlay).css({height:"80em"});return false});$("#delete-group-option #delete-button, #delete-group-option label").unbind("click").click(function(a){confirm($("#delete-resource-group-message").html())&&get_delete_resource_group(a);return false});$("#databaselist-resource-groups").find("input[name=ResourceGroup]").removeClass("hide").end().find("span.select-group-link").addClass("hide");
$("#database-all-resources-list input[name=database_list_all]").removeClass("hide").end().find("span.select-all-database-link").addClass("hide");$("#select-all-database-checkbox").removeClass("hide");$("#database-list-popup ul:first li a:first").focus();$("#databaselist-resource-groups div.rg-expand-state a, #all-database-list").unbind("click").click(function(){var a=$(this).attr("id")=="all-database-list"?$("#databaselist-databases"):$(this).attr("id")=="all-database-for-group"?$("#all-databases-for-group"):
$("#resource-ul-"+$(this).attr("id")),b=$(this),c;if(b.attr("href"))c=b.attr("href");else{var f=b.attr("name").split(/:|\|/);c=$("#base_ui_callback_url").attr("href")+"&rg_expand_state="+f[2]+"&"+encodeURIComponent("Resource Group")+"=1"}$.ajax({type:"GET",url:c+"&Ajax_request=1",dataType:"json",success:function(e){if(e.session_timeout_error){display_timeout_popup(e.session_timeout_error);return false}a.toggleClass("hide");if(b.attr("id")=="all-database-for-group"){b.removeClass("expanded-tree");
b.addClass(e.new_expand_class);b.attr("name","submit:rg_expand_state|"+e.new_expand_mode)}else{b.removeClass("collapse-tree");b.addClass(e.new_expand_class);b.attr("href",c.replace(/&rg_expand_state=1|&rg_expand_state=0/,"&rg_expand_state="+e.new_expand_mode))}},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}}});return false});$("#select-all-database-checkbox").unbind("keypress").keypress(function(a){a.which===13&&a.preventDefault()});$("#all-database-for-group").unbind("click").click(function(){if($(this).attr("id")==
"all-database-for-group")var a=$("#all-databases-for-group");var b=$(this),c;if(b.attr("href"))c=b.attr("href");else{var f=b.attr("name").split(/:|\|/);c=$("#base_ui_callback_url").attr("href")+"&rg_expand_state="+f[2]+"&"+encodeURIComponent("Resource Group")+"=1"}$.ajax({type:"GET",url:c+"&Ajax_request=1",dataType:"json",success:function(e){if(e.session_timeout_error){display_timeout_popup(e.session_timeout_error);return false}a.toggleClass("hide");if(b.attr("id")=="all-database-for-group"){b.attr("value",
e.new_expand_mode_symbol);b.attr("name","submit:rg_expand_state|"+e.new_expand_mode)}else{b.removeClass("collapse-tree");b.html(e.new_expand_mode_symbol);b.attr("href",c.replace(/&rg_expand_state=1|&rg_expand_state=0/,"&rg_expand_state="+e.new_expand_mode))}},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}}});return false});$("#databaselist-resource-groups li>input[name=ResourceGroup], #database-all-resources-list li>input[name=database_list_all] ").unbind("click").click(function(a){var b=
a.target.checked;if($(this).attr("name")=="database_list_all")$("li>input[type=checkbox]","#databaselist-databases").attr("checked",b);else{$("input[type=checkbox]","#resource-ul-"+$(this).attr("value")).attr("checked",b);a=$("#base_ui_callback_url").attr("href")+"&rg_index="+encodeURIComponent(a.target.value)+"&Ajax_request=1&select_resource_group="+(b?1:0);$.ajax({url:a,dataType:"json",error:function(c,f,e){try{console.error(c,f,e)}catch(d){}},success:function(c){if(c.session_timeout_error){display_timeout_popup(c.session_timeout_error);
return false}enable_disable_rg_delete_option()}})}});$("#select-all-database-checkbox").unbind("click").click(function(a){$("#all-databases-for-group input[type=checkbox]").attr("checked",a.target.checked)});$("#all-databases-for-group input[type=checkbox]").unbind("click").click(function(a){databaselist_select_all(a)});$("#all-databases-for-group input[type=checkbox]").unbind("keypress").keypress(function(a){if(a.which===13){a.preventDefault();databaselist_select_all(a)}});$("li.personal>ul>li>input[type=checkbox]",
"#databaselist-resource-groups").add($("li.group>ul>li>input[type=checkbox]","#databaselist-resource-groups")).add($("li>input[type=checkbox]","#databaselist-databases")).unbind("click").click(function(a){var b=$(this).parent().parent().parent().children("input[type=checkbox]").eq(0),c=b.attr("name")=="database_list_all"?$("input[type=checkbox]","#databaselist-databases"):$("input[type=checkbox]","#resource-ul-"+b.attr("value")),f=0;if($(this).attr("checked")==false&&b.attr("checked")){b.attr("checked",
false);f=1}else{var e=true;for(i=0;i<c.length;i++)if(!c.eq(i).attr("checked")){e=false;break}if(e&&!b.attr("checked")){b.attr("checked",true);f=1}}if(f){b=$("#base_ui_callback_url").attr("href")+"&rg_index="+encodeURIComponent(b.attr("value"))+"&Ajax_request=1&select_resource_group=";$.ajax({url:a.target.checked?b+1:b+0,dataType:"json",error:function(d,g,l){try{console.error(d,g,l)}catch(n){}},success:function(){enable_disable_rg_delete_option()}})}});$("#new-group-url-tooltip").css({display:"none"});
$("#databaselist-resource-groups-options span.database-resource-new-group").hover(function(){$("#new-group-url-tooltip").css({display:"block","background-color":"rgb(171,204,226)",border:"1px solid rgb(7,104,169)"})},function(){$("#new-group-url-tooltip").css({display:"none","background-color":"transparent",border:"none"})});$("#databaselist-resource-groups-options span.database-resource-new-group").live("focus",function(){$("#new-group-url-tooltip").css({display:"block","background-color":"rgb(171,204,226)",
border:"1px solid rgb(7,104,169)"})},function(){$("#new-group-url-tooltip").css({display:"none","background-color":"transparent",border:"none"})});$("#database-submit, .database-cancel").live("focus",function(){$("#new-group-url-tooltip").css({display:"none"})});$(".glink, .standard-button, #skipto").live("focus",function(){$("#new-group-url-tooltip").css({display:"none"})})}
function databaselist_select_all(a){var b=$("#select-all-database-checkbox");if(a.target.checked)$("#all-databases-for-group input[type=checkbox]").length==$("#all-databases-for-group input[type=checkbox]:checked").length&&b.attr("checked",true);else b.attr("checked",false)}
function databaselist_set_submit_state(){if($("#databaselist-resource-groups input[type=checkbox]:checked, #database-all-resources-list input[type=checkbox]:checked").length>0){$("#database-submit").removeAttr("disabled");$("#database-run-submit").length>0&&$("#database-run-submit").removeAttr("disabled")}else{$("#database-submit").attr("disabled",true);$("#database-run-submit").length>0&&$("#database-run-submit").attr("disabled",true)}if($("#add-edit-resource-group-dblist-databases input[type=checkbox]:checked").length)$("#resource-group-submit").removeAttr("disabled");
else $("#add-edit-resource-group-dblist-databases").length&&!$("#add-edit-resource-group-dblist-databases input[type=checkbox]:checked").length&&$("#resource-group-submit").attr("disabled",true)}
var abs_view_all_queue={timer:null,wait_for_click:null,rate:500,at_a_time:5,reset:function(){if(this.timer!=null){window.clearTimeout(this.timer);timer=null}wait_for_click=null},start:function(a,b,c){this.wait_for_click=a;this.rate=b;this.at_a_time=c;abs_view_all_queue.dispatch()},dispatch:function(){var a=abs_view_all_queue;if(!(a.wait_for_click==null||a.wait_for_click.length==0)){var b=$(".titles-ab").filter(".loading").get();if(b==null||b.length<5){var c=a.at_a_time;if(b!=null)c=a.at_a_time-b.length;
for(b=0;b<c;b++){var f=a.wait_for_click.shift();f!=null&&$(f).click()}}a.timer=window.setTimeout(function(){abs_view_all_queue.dispatch()},a.rate)}}};
function mp_display_setup(){$("#item-records").delegate("input:checkbox.bibrecord-checkbox","click",function(a){return titles_checkbox_handler(a,0)});$("#citation-select-all, #citation-select-all-subfooter").live("click",function(a){return titles_checkbox_handler(a,1)});$("#item-records span.titles-title").find('a.project_oa_class[href *= "Link+Set"]').click(function(a){open_service_links(a);return false});attach_inline_abstract_event()}
function titles_display_setup(){select_range_default_text();activate_default();$("#nav-results input").bind("keypress",function(o){if(o.keyCode==13)return false});bind_keypress_event_title_display_setup();if($.browser.msie&&$.browser.version<7){$("#titles-records table.parent-record-row:first-child").css({"border-top":"none"});$("#titles-records table.parent-record-row:last-child").css({"border-bottom":"1px dashed rgb(117,117,117)"});var a=$("#titles-display"),b=$("#titles-panel").height(),c=$("#msp-results"),
f=$("#header-tabs-container ul.top li");if(f.eq(0).hasClass("current")||f.eq(1).hasClass("current"))b>a.height()&&c.css({height:b+10+"px","border-left":"0"})}$("#main-content div.titlesheader-paging input").removeAttr("disabled");$.browser.msie&&$.browser.version<7&&$("#GeneralSearch-tabs .sub-tab ul li:first-child").css({"border-left":"none","padding-left":0});attach_widget_toggle_and_reorder_events();$("#gs-get-more").length>0&&$("#gs-get-more").click(function(){$("#gs-get-more").unbind("click").click(function(){return false});
$("#gs-get-more").addClass("tlinkdisable");return true});init_inline_view_annotation_links();var e=$("div.titles-inline-abstract > input[type=submit]"),d,g,l;attach_inline_abstract_event(e);attach_OA_result_event();if($("#titles-display span.show-abstracts").length>0)d=$("a","#titles-display span.show-abstracts");else{var n=$("div#msp-results .titlesheader-navigation-links");$(n).css("visibility","visible");d=$("a.ABSTRACT,a.TITLES,a.TITLESONLY,a.GRID",n)}d.click(function(){if(!(e.length<=0&&!$("#msp-top"))){var o=
"";if($("div#titles-display span.show-abstracts").length>0){var u=$("div#titles-display span.show-abstracts a:not(.hide)").attr("href").match(/Issue\+All\+Abstracts=([^|]*)\|(\d)/);g=Number(u[2]);l=u[1];d.removeClass("hide");g?$("div#titles-display span.show-abstracts a.show-abstracts").addClass("hide"):$("div#titles-display span.show-abstracts a.hide-abstracts").addClass("hide")}else{u=$(this);if(u.hasClass("TITLESONLY")||$(".titlesheader-navigation-links span a.TITLESONLY").closest("span.view").hasClass("hidden")){o=
u.attr("href")+"&"+encodeURIComponent("Ajax_request")+"=1";bib_display_navigate_to(u.closest("span.view"),o,false);return false}else if(u.hasClass("ABSTRACT")){if(e.length<=0&&$(".titlesheader-navigation-links span a.TITLES").closest("span.view").hasClass("hidden"))return false;g=1;o="ABSTRACT"}else if(u.hasClass("GRID")||$(".titlesheader-navigation-links span a.GRID").closest("span.view").hasClass("hidden")){o=u.attr("href")+"&"+encodeURIComponent("Ajax_request")+"=1";bib_display_navigate_to(u.closest("span.view"),
o,false);return false}else{g=0;o="TITLES"}$(".titlesheader-navigation-links span.view").removeClass("hidden");$(".titlesheader-navigation-links span a."+u.attr("data-class")).closest("span.view").addClass("hidden");l=$(this).attr("href").match(/Titles\+Display=(.*?)%7c/)[1]}set_show_all_abstracts(g,l,o);abs_view_all_queue.reset();g?abs_view_all_queue.start($(e).filter(".titles-inline-abstract-closed").get(),1E3,4):abs_view_all_queue.start($(e).filter(".titles-inline-abstract-open").get(),100,20)}return false});
$("#filter_by_content a.filter-control span").unbind("click").click(function(o){expand_collapse_filters(o);return false});$("a.aspect-control,a.more,a.less","#aspects_content").unbind("click").click(function(o){expand_collapse_aspects(o);return false});$("#browse_by_content a.filter-control").unbind("click").click(function(o){expand_collapse_mm_filters(o);return false});$("a.more,a.less","#addl-resources-books-content").unbind("click").click(function(o){expand_collapse_book_titles(o);return false});
$("#filter_by_content a.date-range-control span").unbind("click").click(function(o){get_filters_date_widget(o);return false});$("#browse_by_content a.date-range-control, #browse_by_content a.date-range-control-text").unbind("click").click(function(o){get_mm_filters_date_widget(o);return false});$("#filter_by_content a.more").unbind("click").click(function(o){get_more_filters(o);return false});$("select[name=sort_by]",$("#search_information_content")).add("select[name=results_per_page]",n).click(function(){ddlMouseClick=
true});$("select[name=sort_by]",$("#search_information_content")).add("select[name=results_per_page]",n).keydown(function(){ddlMouseClick=false});$("select[name=sort_by]",$("#search_information_content")).add("select[name=results_per_page]",n).change(function(){if(ddlMouseClick===true){ddlMouseClick=false;$(this).val().match(/^(5|10|25|50|100)$/)?$("select[name=results_per_page]").val($(this).val()):$("select[name=sort_by]").val($(this).val());titles_display_reload(this)}return true});$("select[name=sort_by]",
$("#search_information_content")).add("select[name=results_per_page]",n).unbind("keypress").keypress(function(o){if(o.which===13){o.preventDefault();$(this).val().match(/^(5|10|25|50|100)$/)?$("select[name=results_per_page]").val($(this).val()):$("select[name=sort_by]").val($(this).val());titles_display_reload(this);o.stopPropagation();return false}ddlMouseClick=false});$("input[type=checkbox].bibrecord-checkbox").die("click").live("click",function(o){return titles_checkbox_handler(o,0)});$("#citation-select-all, #citation-select-all-subfooter").die("click").live("click",
function(o){return titles_checkbox_handler(o,1)});attach_item_drag_drop_events();if($("#searchaid").length>0){display_search_aid_expand();window.search_terms&&display_search_aid_terms(search_terms);$("#searchaid-explain").delegate("span.plus","click",function(){$("span.plus","#searchaid-explain").hide();$("span.minus","#searchaid-explain").show();$("ul.searchaid-terms-main","#searchaid-explain").show();set_search_terms_state(1)});$("#searchaid-explain").delegate("span.minus","click",function(){$("span.plus",
"#searchaid-explain").show();$("span.minus","#searchaid-explain").hide();$("ul.searchaid-terms-main","#searchaid-explain").hide();set_search_terms_state(0)});$("#searchaid-explain").delegate("span.plus","keypress",function(o){if(o.which===13){$("span.plus","#searchaid-explain").hide();$("span.minus","#searchaid-explain").show();$("span.minus","#searchaid-explain").focus();$("ul.searchaid-terms-main","#searchaid-explain").show();set_search_terms_state(1);o.preventDefault();return false}});$("#searchaid-explain").delegate("span.minus",
"keypress",function(o){if(o.which===13){$("span.plus","#searchaid-explain").show();$("span.minus","#searchaid-explain").hide();$("span.plus","#searchaid-explain").focus();$("ul.searchaid-terms-main","#searchaid-explain").hide();set_search_terms_state(0);o.preventDefault();return false}});if($("#searchaid-terms").hasClass("open"))$("span.minus","#searchaid-explain").removeClass("hidden");else{$("span.plus","#searchaid-explain").removeClass("hidden");$("ul.searchaid-terms-main","#searchaid-explain").hide()}$("td.searchaid-star-checkbox input[type=checkbox]").click(function(o){searchaid_star_filter(o);
return false});if(is_aid_narrow_present()){$("#one_touch_limit").length>0&&get_one_click_limit();search_aid_narrow()}else $("#searchaid-narrow").hide()}preview_new_book_reader_link();init_annotation_links();$("a","#customize-display").click(function(){$("#popup-overlay").length&&$("#popup-overlay, #customize-display-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="customize-display-popup-box" class="overlay-popup-box"> </div>');var o=$.browser.msie?
$(this).offset().top-300:$(this).offset().top-$("#customize-display-popup-box").offset().top;$("#customize-display-popup-box").css({top:o});add_customize_display_overlay(get_customize_display_data);return false});if($("#top-similar").length>0){$("#top-similar").css("display","block");top_similar_retrieve()}$("#dedup-link").length>0&&$("#dedup-link a").click(function(o){display_deduped_ous_records(o);return false});attach_myproject_widget_events();if($("#titles-panel-control").length>0&&!($.browser.msie&&
$.browser.version<7)){$("#titles-panel-control").unbind("click").click(function(o){o.preventDefault();toggle_title_panel()});$("#titles-panel-control").unbind("keypress").keypress(function(o){if(o.which===13){o.preventDefault();toggle_title_panel();$(this).focus();return false}})}$("#titles-records span.passage_text").each(function(){var o=$("a:first",this);$("a:last",this);if(o!=null){$(o).css("display","inline");$(o).click(function(u){return view_passage(u)})}});if($("#msp-top").length>0&&$("#msp-results").attr("ajax-navigation")==
"yes"&&!$("#nav-results").hasClass("pc-results")){$("#msp-results div.titlesheader-resultsblock input.ajaxnav").add("#msp-results div.titlesfooter-block input.ajaxnav").add("#gs-ovid-tab a.ajaxnav").add("#GeneralSearch-tabs div.tab a.ajaxnav").add("#msp-results .bibheader-go input.ajaxnav").add("#searchaid-source-filter-links a.ajaxnav").click(function(o){return bibliographic_display_navigation(o,true)});$("#msp-results div.titlesheader-resultsblock input.ajaxnav").add("#msp-results div.titlesfooter-block input.ajaxnav").add("#msp-results .bibheader-go input.ajaxnav").keypress(function(o){if(o.which===
13)return bibliographic_display_navigation(o,true)})}$("#titles-records li.titles-linkitem").add("#titles-records td.citation-banner-links").find('a[href *= "Link+Set"]').click(function(o){open_service_links(o);return false});$("#ON_OA_PAGE").length&&$("#titles-records span.titles-title").find('a[href *= "Link+Set"]').click(function(o){open_service_links(o);return false});$("#titles-records-OA span.titles-title").find('a[href *= "Link+Set"]').click(function(o){open_service_links(o);return false});
$("#my_projects_content").length>0&&$("#my_projects_content").treeview({animated:"fast",collapsed:true,unique:true});$("#titles-display .titles-index:first-child").width();$("#titles-display .citation-index:first-child").width();init_bibheader_go_jump();$("input.citman-clear-selected").click(function(){return citman_clear_selected()});$("#popup-overlay").length&&$("#popup-overlay").height()<$("#below-banner").outerHeight()&&$("#popup-overlay").height($("#below-banner").outerHeight());$.browser.msie&&
$.browser.version<7&&$("#popup-overlay").length&&$("select").each(function(){this.style.visibility="hidden"})}
function attach_inline_abstract_event(a){a||(a=$("div.titles-inline-abstract > input[type=submit]"));if(a.length>0){$(a).unbind("click").unbind("keypress");$(a).click(function(b){return view_inline_abstract(b)}).keypress(function(b){if(b.which===13){b.preventDefault();return view_inline_abstract(b)}}).filter(".standard-button").removeClass("standard-button").addClass("titles-inline-abstract-closed")}else $("div.titles-ab").css("display","block")}
function attach_OA_result_event(){$("div.widget-ctl").unbind("click").click(function(){$(this).toggle_widget();$("#msp-oa-result-widget").hasClass("widget-closed")?$(".first-record-with-oa").addClass("close-oa-widget").removeClass("open-oa-widget"):$(".first-record-with-oa").addClass("open-oa-widget").removeClass("close-oa-widget")});$("div.widget-closed").siblings(".widget:first").css("display","none")}
function attach_mm_gallery_result_event(){$("div.mm-gallery-VIDEO-header").live("click",function(){$(this).toggle_mm_widgets("mm-gallery-video","");$(this).hasClass("widget-open")?$(".mm-gallery-VIDEO").css("display","block"):$(".mm-gallery-VIDEO").css("display","none")});$("div.mm-gallery-IMAGE-header").live("click",function(){$(this).toggle_mm_widgets("mm-gallery-image","");$(this).hasClass("widget-open")?$(".mm-gallery-IMAGE").css("display","block"):$(".mm-gallery-IMAGE").css("display","none")});
$("div.mm-gallery-AUDIO-header").live("click",function(){$(this).toggle_mm_widgets("mm-gallery-audio","");$(this).hasClass("widget-open")?$(".mm-gallery-AUDIO").css("display","block"):$(".mm-gallery-AUDIO").css("display","none")})}
function expand_collapse_filters(a){var b=$(a.target).parent(),c=b.parent(),f=$(c).attr("id");$.ajax({url:b.attr("href"),dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(e){if(e.session_timeout_error){display_timeout_popup(e.session_timeout_error);return false}b.removeClass("loading");c.replaceWith(e.filters);$("#filter_by_content a.filter-control span").unbind("click").click(function(d){expand_collapse_filters(d);return false});$("#filter_by_content a.more").unbind("click").click(function(d){get_more_filters(d);
return false});$("#filter_by_content a.date-range-control span").unbind("click").click(function(d){get_filters_date_widget(d);return false});$("#"+f+" a.filter-control").focus()},error:function(e,d){try{console.error(d)}catch(g){}}})}
function expand_collapse_aspects(a){for(var b=$(a.target),c=b.parent();!c.hasClass("toggle-aspect");)c=c.parent();a=b.attr("href")+"&Ajax_request=1";if(c.hasClass("first_aspect"))a+="&highlight_first_aspect=1";$.ajax({url:a,dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}b.removeClass("loading");c.hasClass("current_aspect")&&c.next(".duplicate_current_aspect").remove();c.replaceWith(f.aspects);
$("a.aspect-control,a.more,a.less","#aspects_content").unbind("click").click(function(e){expand_collapse_aspects(e);return false})},error:function(f,e){try{console.error(e)}catch(d){}}})}
function expand_collapse_book_titles(a){var b=$(a.target),c=$("#addl-resources-books-content");$.ajax({url:b.attr("href")+"&Ajax_request=1",dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}b.removeClass("loading");c.replaceWith(f.book_titles_links);$("a.more,a.less","#addl-resources-books-content").unbind("click").click(function(e){expand_collapse_book_titles(e);return false})},
error:function(f,e){try{console.error(e)}catch(d){}}})}
function get_filters_date_widget(a){var b=$(a.target).parent(),c=b.parent(),f=$(b).closest('li[class="filter-on"]').attr("id");$.ajax({url:b.attr("href"),dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(e){if(e.session_timeout_error){display_timeout_popup(e.session_timeout_error);return false}c.replaceWith(e.filters);$("#filter_by_content a.date-range-control span").unbind("click").click(function(d){get_filters_date_widget(d);return false});$("#"+f+" a.date-range-control").focus()},
error:function(e,d){try{console.error(d)}catch(g){}}})}
function get_more_filters(a){var b=$(a.target),c=$(b).closest('li[class="filter-on"]').attr("id");$.ajax({url:b.attr("href"),dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}b.removeClass("loading").parents("ul.filter-listing").empty().html(f.filters);$("#filter_by_content a.more").unbind("click").click(function(e){get_more_filters(e);return false});$("#"+c+" a.more").focus()},error:function(f,
e){try{console.error(e)}catch(d){}}})}function set_show_all_abstracts(a,b,c){$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href"),data:{"Show All Abstracts":b+"|"+a+"|"+c},dataType:"text",success:function(){},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){}});return false}
function titles_checkbox_handler(a,b){var c=$("#Datalist").attr("value");c=c.substring(0,c.indexOf("|"));var f;if(a.target.checked){$("input[type=text].cmRecords").attr("disabled",true);f="Y"}else{$("input[type=text].cmRecords").attr("disabled",false);f="N"}var e=0;if($("div.msp-results","#main-content").length>0)e=1;if($("#item-records").length>0)e=1;$("#max_limit_error").length>0&&$("#max_limit_error").addClass("hidden");titles_submit_citation_selection(c,a.target.value,f,b,e);return true}
function titles_submit_citation_selection(a,b,c,f,e){a=$("#base_ui_callback_url").attr("href")+"&Citation+Selection="+encodeURIComponent(a)+"|"+encodeURIComponent(b)+"|"+encodeURIComponent(c)+"&on_msp="+e+"&selectall="+f;var d=$("#titles-display .titlesheader-functionblock-left");$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){d.addClass("loading")},success:function(g){if(g.session_timeout_error){display_timeout_popup(g.session_timeout_error);return false}if(e){if(g.max_limit_flag){$("#citation-select-all, #citation-select-all-subfooter").attr("checked",
false);$("#max_limit_error").removeClass("hidden");$("input[type=text].cmRecords").attr("disabled",false);return false}var l=$("#msp-results .action-print"),n=$("#msp-results .action-print-disabled"),o=$("#msp-results .action-email"),u=$("#msp-results .action-email-disabled"),r=$("#msp-results .action-export"),p=$("#msp-results .action-export-disabled"),s=$("#msp-results .action-add-project"),z=$("#msp-results .action-add-project-disabled"),A=$("#action-order"),x=$("#action-order-disabled"),h=g.selected_results_str;
$("#filter-sel-recs").html("("+h+")");if(g.print_action_status==1){l.removeClass("hidden");n.addClass("hidden")}else{l.addClass("hidden");n.removeClass("hidden")}if(g.email_action_status==1){o.removeClass("hidden");u.addClass("hidden")}else{o.addClass("hidden");u.removeClass("hidden")}if(g.export_action_status==1){r.removeClass("hidden");p.addClass("hidden")}else{r.addClass("hidden");p.removeClass("hidden")}if(g.export_add_project_status==1&&!s.hasClass("not-allowed-all-to-mp")){s.removeClass("hidden");
z.addClass("hidden")}else{s.addClass("hidden");z.removeClass("hidden")}if(A.length>0)if(g.order_action_status==1){A.removeClass("hidden");x.addClass("hidden")}else{A.addClass("hidden");x.removeClass("hidden")}g.select_all_status==1?$("#citation-select-all, #citation-select-all-subfooter").attr("checked",true):$("#citation-select-all, #citation-select-all-subfooter").attr("checked",false);if(f==1)if($("#item-records").length>0)g.select_all_status==1?$("#item-records input.bibrecord-checkbox").attr("checked",
true):$("#item-records input.bibrecord-checkbox").attr("checked",false);else g.select_all_status==1?$("#titles-records input.bibrecord-checkbox").attr("checked",true):$("#titles-records input.bibrecord-checkbox").attr("checked",false)}else $("#titles-display div.journals-tocheader").length>0&&$("#titles-display span.select-all").length>0&&set_toc_select_all_status()},error:function(g,l,n){try{console.error(g,l,n)}catch(o){}},complete:function(){d.removeClass("loading");update_view_selected_link()}})}
function view_inline_abstract(a){var b=a.target;a=$(b).parent();var c=$(".titles-ab",a);if(!c.length){a=$(b).closest(".titles-icons-right").parent();c=$(".titles-ab",a)}if($(c).is(".loading"))return false;a=$("div#msp-results .titlesheader-functionblock-right");$("input[type=checkbox]",a);if($(c).children().length>0){$(b).removeClass("titles-inline-abstract-open");$(b).addClass("titles-inline-abstract-closed");$(c).html("");$(c).css("display","none");return false}a=$(b).attr("name");a=$("#base_ui_callback_url").attr("href")+
"&Get+Abstract="+encodeURIComponent(a);$(c).addClass("loading");$(c).css("display","block");$.ajax({type:"GET",url:a,dataType:"json",success:function(f){f.abstracts?$(c).html(f.abstracts[0].abst):$(c).html(f.msg)},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){$(c).removeClass("loading");$(b).removeClass("titles-inline-abstract-closed");$(b).addClass("titles-inline-abstract-open")}});return false}
function view_inline_annotations(a){a=a.target;var b=$(a).parent(),c=$(".titles-anno-container",b);if($(c).is(".loading"))return false;if($(a).hasClass("titles-inline-annotation-open")){$(a).removeClass("titles-inline-annotation-open");$(a).addClass("titles-inline-annotation-closed");$(c).html("");$(c).css("display","none");return false}else{$(c).html("");$(a).removeClass("titles-inline-annotation-closed");$(a).addClass("titles-inline-annotation-open")}a=$(a).attr("annotations");a=$("#base_ui_callback_url").attr("href")+
"&Get+Annotations="+encodeURIComponent(a);$(c).addClass("loading");$(c).addClass("titles-anno-container-loading");$(c).css("display","block");$.ajax({type:"GET",url:a,dataType:"json",success:function(f){f.result=="OK"?$(c).html(f.html):$(c).html(f.msg)},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){$(c).removeClass("loading");$(c).removeClass("titles-anno-container-loading");$(c).css("display","block")}});return false}
function view_passage(a){var b=a.target,c=$(b).parent();if($(c).is(".loading"))return false;a=$(b).attr("href").match(/(Expand.Passage=[^&;? ]+)/)[1];var f=$("#base_ui_callback_url").attr("href")+"&"+a,e=$("a:first",c),d=$("a:last",c),g=a.indexOf("long")>=0;$.ajax({type:"GET",url:f,dataType:"json",beforeSend:function(){$(b).addClass("loading")},success:function(l){if(l.passage){g||$(c).empty();$(c).append(l.passage)}else $(c).append(l.message)},error:function(l,n,o){try{console.error(l,n,o)}catch(u){}},
complete:function(){$(b).removeClass("loading");$(c).append(e,d);$(e).add(d).click(function(l){return view_passage(l)});if(g){$(d).css("display","inline");$(e).css("display","none")}else{$(d).css("display","none");$(e).css("display","inline")}}});return false}
function titles_display_reload(a){var b=$("div#msp-results .titlesheader-navigation-links"),c,f=$("select[name=sort_by]",$("#search_information_content"));if(f.length>0)c=f.get(0).value;b=$("select[name=results_per_page]",b);var e=$(b).get(0).value,d="",g=$("#gs-all-tabs div.selected");if(g.length>0){g=g.attr("id").match(/^gs-ous-tab-([0-9]+)$/);if(g.length>1)d="|"+g[1]}g=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Bib Display")+"=";g+=$("#nav-results.pc-results").length?encodeURIComponent("PC Titles Display")+
"|current||&"+encodeURIComponent("Records Count")+"="+encodeURIComponent(e):encodeURIComponent("Titles Display")+"|current||"+encodeURIComponent(e)+d;if(c)g=g+"&Sort+By="+encodeURIComponent(c);if($("#ON_OA_PAGE").length)g+="&ON_OA_PAGE=Y";if($("#DatalistType").attr("value")=="MMResultSet")g+="&ON_MM_PAGE=Y";g=g+"&on_msp="+main_search_page_display_flag();bib_display_navigate_to($(a).attr("name")=="sort_by"?$(f).parent():$(b).parent(),g,false)}
function search_aid_expand(){if($("#searchaid_set").text()){var a=$("#base_ui_callback_url").attr("href")+"&Get+SearchAid+Expand=1&R="+$("#searchaid_set").text();$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){$("#searchaid-expand").append('<div id="searchaid-expand-loading" class="searchaid-loading">&nbsp;</div>')},success:function(b){$("#searchaid-expand-loading").remove();$("#searchaid-expand").append(b);display_search_aid_expand()},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}$("#searchaid-expand-loading").remove();
$("#searchaid-expand").append(c)}})}}function display_search_aid_expand(){$("#searchaid-expand-related").length>0?$("#searchaid-expand").css("display","block"):$("#searchaid-expand").css("display","none")}
function search_aid_terms(){if($("#searchaid_set").text()){var a=$("#base_ui_callback_url").attr("href")+"&Get+Search+Terms=1&R="+$("#searchaid_set").text();$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){$("#searchaid-terms").addClass("searchaid-loading")},success:function(b){b.result.indexOf("OK")>=0?display_search_aid_terms(b.terms):$("#searchaid-terms").html(b.reason);$("#searchaid-terms").removeClass("searchaid-loading")},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}$("#searchaid-terms").removeClass("searchaid-loading");
$("#searchaid-terms").html(c)}})}}
function display_search_aid_terms(a){var b=1,c=$("#search-term-tooltip");if(c.length&&!($.browser.mozilla&&$.browser.ff.version<3.5)){c.remove();$("#spell-check-warning-tooltip").remove();b=0}c='<ul class="searchaid-terms-main">';for(var f in a){var e=a[f],d=e.length;if(d>0)for(var g=0;g<d;g++)if(typeof e[g]=="object"){c+='<li class="searchaid-terms-list searchaid-terms-list-closed" tabindex="0">';for(var l in e[g]){var n=get_search_term_tools(e[g],l);c=c+l+n}c+="</li>"}else c=b==1?c+"<li><span>"+
e[g]+"</span>"+e[g]+"</li>":c+"<li>"+e[g]+"</li>";else c=b==1?c+"<li><span>"+f+"</span>"+f+"</li>":c+"<li>"+f+"</li>"}c+="</ul>";$("#searchaid-terms").html(c);$(".searchaid-terms-list").click(function(){$(this).toggleClass("searchaid-terms-list-open");$(this).toggleClass("searchaid-terms-list-closed");$("ul.searchaid-terms-sub",this).toggle()});$(".searchaid-terms-list").keypress(function(o){if(o.which===13){$(this).toggleClass("searchaid-terms-list-open");$(this).toggleClass("searchaid-terms-list-closed");
$("ul.searchaid-terms-sub",this).toggle();o.preventDefault();return false}});$(".searchaid-terms-sub a.tlink").bind("click",function(o){o.stopPropagation()})}
function omniture_search_basic(){var a="",b=$("#easy_focus").val().split(/\./);if(b=="")return false;if($("#mm-msp-basic-speed input[name=mm_search]:checked").length>0)a="Include Multimedia;";if($("#mm-msp-basic-speed input[name=speedoverride]:checked").length>0)a+="Include Related Terms;";a={searchOptions:a,searchType:"basic search",searchTerm:b[0],action:"click"};(new OmnitureTracker).Track(a)}function omniture_msp_links(){(new OmnitureTracker).Track({action:"click"})}
function get_search_term_tools(a,b){for(var c=a[b].tools,f='<ul class="searchaid-terms-sub" style="display:none;">',e=0;e<c.length;e++){var d=$("#base_ui_callback_url").attr("href")+"&Subject+Search=1&toolType="+c[e]+"&textBox="+encodeURIComponent(b);f=f+"<li class=\"searchaid-terms-sub\"><a class='tlink' href='"+d+"'>"+search_tools[c[e]]+"</a></li>"}f+="</ul>";return f}var narrow_requests=0;
function search_aid_narrow(a){$("#searchaid-narrow").css("display","block");a||(a=0);a=$("#base_ui_callback_url").attr("href")+"&Get+SearchAid+Narrow=1&R="+$("#searchaid_set").text()+"&RequestNum="+a;$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){$("#searchaid-narrow").addClass("loading")},success:function(b){if(b.result=="FAIL")$("#searchaid-narrow").hide();else if(b.result=="PARTIAL"||b.result=="FULL"){var c=$("#searchaid_set").text();display_aid_narrow(b,c)}b.result=="PARTIAL"?
search_aid_narrow(++narrow_requests):$("#searchaid-narrow").removeClass("loading")},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}$("#searchaid-narrow").removeClass("loading")}})}function is_aid_narrow_present(){if($("#searchaid-narrow").length==0)return false;var a=$("#searchaid_set").text(),b=$("#searchaid_set_size").text();if(!a||!b||b=="0")return false;return true}
function display_aid_narrow(a,b){var c=a.aids.length;if(c==0)$("#searchaid-narrow").hide();else{$("#searchaid-narrow-fields-list").length==0&&$("#searchaid-narrow-fields").html('<div class="searchaid-narrow-hints">'+a.hints+'</div><ul id="searchaid-narrow-fields-list"></ul>');for(var f,e=$("#base_ui_callback_url").attr("href")+"&Narrow+Search="+b+"|",d=0;d<c;d++){var g=a.aids[d],l=g.terms.length,n="searchaid-narrow-field"+g.field;if(l>0){if($("#"+n).length==0)f=$("#searchaid-narrow-fields-list").append('<li id="'+
n+'" class="searchaid-narrow-term searchaid-narrow-closed">'+g.name+'<ul class="searchaid-narrow-sub" style="display:none;"></ul></li>');for(var o="",u=0;u<l;u++){var r=g.terms[u],p=e+d+"|"+encodeURIComponent(r.SearchTerm);o=o+'<li><a class="tlink" href="'+p+'">'+r.Term+"</a>";if(!a.estimated&&!a.deferred)o=o+" ("+r.HitCount+")";o+="</li>"}$("#"+n+" ul.searchaid-narrow-sub").html(o)}else $("#"+n).remove()}if(f)set_searchaid_narrow_event();else $(".searchaid-narrow-term").length==0&&$("#searchaid-narrow").hide()}}
function get_one_click_limit(){var a=$("#base_ui_callback_url").attr("href")+"&One+Click+Limit=1";$.ajax({type:"GET",url:a,dataType:"json",success:function(b){$("#one_touch_limit").addClass("searchaid-narrow-term");$("#searchaid-narrow").css("display","block");$("#searchaid-narrow-fields-list").length==0&&$("#searchaid-narrow-fields").html('<div class="searchaid-narrow-hints">'+b.hints+'</div><ul id="searchaid-narrow-fields-list"></ul>');$("#searchaid-narrow-fields-list").prepend(b.html);set_searchaid_narrow_event()},
error:function(b,c,f){try{console.error(b,c,f)}catch(e){}}})}function set_searchaid_narrow_event(){$(".searchaid-narrow-term").unbind("click");$(".searchaid-narrow-term").click(function(){$(this).toggleClass("searchaid-narrow-open");$(this).toggleClass("searchaid-narrow-closed");$(".searchaid-narrow-sub",this).toggle()});$(".searchaid-narrow-term a.tlink").bind("click",function(a){a.stopPropagation()})}
function scroll_to_id(a){if(a=$("#"+a).get(0)){var b=0,c=0;do{b+=a.offsetLeft;c+=a.offsetTop;a=a.offsetParent}while(a);window.scrollTo(b,c)}}
function refresh_annotations(a,b){var c="",f="",e="",d=$(a).parent().parent();if($(".ovid-citation-annotations",d).length>0){f="ovid-citation-annotations";c=$("."+f,d);e="td"}else if($(".ous-citation-annotations",d).length>0){f="ous-citation-annotations";c=$("."+f,d);e="dd"}else{f=$(a).parent().parent().attr("class");c=$(".annotation-group",d);e=".titles-anno-container"}f=$("#base_ui_callback_url").attr("href")+"&Refresh+Annotations="+b+"&Annotation+Display+Type="+f;$.ajax({type:"GET",url:f,dataType:"json",
success:function(g){if(g.result=="OK")if(g.annotation_count>0){$(e,c).html(g.html);$(c).removeClass("hide")}else{$(e,c).html("");$(c).removeClass("hide").addClass("hide")}},error:function(g,l,n){try{console.error(g,l,n)}catch(o){}}})}function preview_new_book_reader_link(){if($("#titles-records a.new-book-reader-link-search").length<1){$("#titles-records a.new-book-reader-link-search").css("display","none");$("#titles-records div.book-preview-link").css("display","none")}}
function clicktitle(){$("#toggle_title").addClass("active");$("#toggle_subject").removeClass("active");$("#booknav-letters").removeClass("new-book-browse-by-inactive");$("#booknav-letters").addClass("new-book-browse-by-active");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-active");$("#booknav-browser-by-subject").addClass("new-book-browse-by-inactive");book_req=1;set_height_books_browse()}
function clicksubject(){$("#toggle_subject").addClass("active");$("#toggle_title").removeClass("active");$("#booknav-browser-by-subject").removeClass("new-book-browse-by-inactive");$("#booknav-browser-by-subject").addClass("new-book-browse-by-active");$("#booknav-letters").removeClass("new-book-browse-by-active");$("#booknav-letters").addClass("new-book-browse-by-inactive");book_req=1;set_height_books_browse_subject()}
function annotation_after_pin_login(){var a=[],b,c=document.URL.split("?")[1],f,e,d,g,l,n=0;if($("#showannotationpopupafterpinlogin").attr("value")!="Done")if(c!=undefined){c=c.split("&");for(var o=0;o<c.length;o++){b=c[o].split("=");if(b[0]=="BookBrowseScrollPos")d=b[1];b[1]=="toggle_title"&&b[0]=="BookBrowseNavTab"&&clicktitle();if(b[1]=="toggle_subject"&&b[0]=="BookBrowseNavTab"){clicksubject();n=1}if(b[0]=="ShowTitle")g=b[1];if(b[0]=="ShowSubject")l=b[1];b[0]=="BookBrowseView"&&$("#"+b[1]).click();
if(b[0]=="Record+Index")f=b[1];if(b[0]=="Annotate")e=b[1];a.push(b[1]);a[b[0]]=b[1]}if(e){if(g){if(f){$("#left-browse-navigator").append("<input type='hidden' id='annindex' value="+f+" />");if(d!=undefined)$("#annotatescrollpos").length>0?$("#annotatescrollpos").val(d):$("#left-browse-navigator").append("<input type='hidden' id='annotatescrollpos' value="+d+" />")}$("#dl_name").val();$("#browse_book_title_index").val();$('li.booknav-list-item a[alt="Jump to '+g+'"]').click()}if(l&&n){if(f){$("#left-browse-navigator").append("<input type='hidden' id='annindex' value="+
f+" />");if(d!=undefined)$("#annotatescrollpos").length>0?$("#annotatescrollpos").val(d):$("#left-browse-navigator").append("<input type='hidden' id='annotatescrollpos' value="+d+" />")}$("#left-browse-navigator").append("<input type='hidden' id='selectedsubjectindex' value="+l+" />");load_subject_heading_for_browse(l)}}}}
function annotation_pin_login_redirect(a){a=a;var b=$(".booknav-tab a.active").attr("id");a=a+"&booknavTab="+b;b=$("li.booknav-list-selected a").text();if(b=="#")b=escape(b);var c=$("#booknav-cat-list .browse-book-selected").attr("index");if(b)a=a+"&booknavSelectTitle="+b;if(c)a=a+"&booknavSelectSubject="+c;if(b=$("#browse_book_subject_dlname").val())a=a+"&booknavSubjectDlname="+b;b=$("#books-view-type div.active").attr("id");a=a+"&booknavView="+b;b=$(window).scrollTop();a=a+"&bookbrowseScrollPos="+
b;window.location=a}function show_annotation_popup(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false;add_annotation_popup(function(){get_annotation_popup(a)},a,1);return false}function init_annotation_links(){$("span.has-annotation a, span.can-annotate").live("click",function(a){add_annotation_popup(function(){get_annotation_popup(a)},a,0);return false})}
function send_heartbeat(){var a=$("meta[name=heartbeat-interval]").get(0),b=$(a).attr("content");if(!(b<1E3)){a=$("meta[name=OvidPageId]");var c="";if(a.length>0)for(var f=0;f<a.length;f++)c=c+"&PAGE_ID="+$(a[f]).attr("content");a=$("#base_ui_callback_url").attr("href")+"&Heartbeat=1"+c;$.ajax({type:"GET",url:a,dataType:"json",success:function(e){var d=new Date;if(e.status=="OK")window.setTimeout(send_heartbeat,b);else if(e.status=="DELAYEXCEEDED")alert(e.msg+"\n"+d);else{alert(e.msg+"\n"+d);location.reload()}},
error:function(e,d,g){try{console.error(e,d,g)}catch(l){}window.setTimeout(send_heartbeat,3E5)}})}}
function send_heartbeat_ajax_call(){var a=$("meta[name=heartbeat-interval]").get(0);if(!($(a).attr("content")<1E3)){a=$("meta[name=OvidPageId]");var b="";if(a.length>0)for(var c=0;c<a.length;c++)b=b+"&PAGE_ID="+$(a[c]).attr("content");a=$("#base_ui_callback_url").attr("href")+"&Heartbeat=1"+b;$.ajax({type:"GET",url:a,dataType:"json",success:function(f){var e=new Date;if(f.status!="OK")if(f.status=="DELAYEXCEEDED")alert(f.msg+"\n"+e);else{alert(f.msg+"\n"+e);location.reload()}},error:function(f,e,
d){try{console.error(f,e,d)}catch(g){}}})}}
function top_similar_retrieve(){var a=$("#top-similar-source").attr("value"),b=$("#top-similar ul").get(0);a=$("#base_ui_callback_url").attr("href")+"&Get+Top+Similar="+a;$("#top-similar #container").addClass("loading");$("#top-similar #container").css("background-position","top left");$.ajax({type:"GET",url:a,dataType:"json",success:function(c){if(c.records)for(var f=0;f<c.records.length;f++)$(b).append("<li>"+c.records[f].link+"</li>");else $(b).append("<li>"+c.msg+"</li>")},error:function(c,f,
e){try{console.error(c,f,e)}catch(d){}},complete:function(){$("#top-similar #container").removeClass("loading");$("#top-similar #container").height()>200&&$("#top-similar #container").css("height","200px")}})}var HelpWindow=null;
function open_help_window(a){a=$(a.target);if($(a).attr("target")=="_blank"){var b=200,c=200,f=920,e=600;if(HelpWindow==null||HelpWindow.closed){if(window.screen.width>1024)f=1024;else if(window.screen.width>920)f=920;else if(window.screen.width>0)f=window.screen.width;if(window.screen.height>0)e=Math.floor(window.screen.height*0.8);b=Math.floor((window.screen.width-f)/2);c=Math.floor((window.screen.height-e)/2);HelpWindow=window.open($(a).attr("href"),"OvidHelp","resizable=yes,scrollbars=yes,dependent=yes,status=yes,left="+
b+",top="+c+",width="+f+",height="+e)}else{HelpWindow.focus();HelpWindow.location=$(a).attr("href")}return false}return true}function ajax_enable(){var a=$("#base_ui_callback_url").attr("href")+"&Ajax+Enable=1";if(window.screen)a=a+"&screen="+window.screen.width+"x"+window.screen.height+"x"+window.screen.colorDepth;if(window.navigator)a=a+"&cookie="+(window.navigator.cookieEnabled?"yes":"no");a=a+"&tzoffset="+-(new Date).getTimezoneOffset();$.ajax({type:"GET",url:a,dataType:"html"})}
function update_help(a){a=$("#base_ui_callback_url").attr("href")+"&update_help="+a;$.ajax({type:"GET",url:a,dataType:"json",success:function(b){helplink=$("#header-buttons-upper .help-link").get(0);if(b.result=="OK")helplink.href=b.content},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}}})}
function setup_RSS_popup(){$("a[name=rss_popup]").click(function(a){$("#RSSoptions").css("visibility")=="visible"&&hide_RSS_options();var b=$(this).attr("href");show_RSS_subscribe_options(a.pageX,a.pageY,b);return false});$("input[name=submit:rss_popup]").click(function(){show_RSS_subscribe_options("","","",1);return false});$("input[name=submit:Cancel|2]").click(function(){hide_RSS_subscribe_options();return false});$("input[name=submit:Cancel|1]").click(function(){hide_RSS_options();return false})}
function hide_RSS_subscribe_options(){$("#RSSsubscribeOptions").css({visibility:"hidden"})}
function show_RSS_subscribe_options(a,b,c,f){if(f){c=$("select[name=subscribe_option]").val();c=$("#"+c).attr("href");b=$("input[name=link_pop_up]").val();c=c?c+b:b;openWeblink(c);hide_RSS_subscribe_options();return false}else{$.browser.msie&&$.browser.version<7&&$("select[name=subscribe_option]").children("option").each(function(){$(this).html()=="Current Browser"&&$(this).remove()});a=a+"px";b=b+"px";$("input[name=link_pop_up]").val(c);$("#RSSsubscribeOptions").css({visibility:"visible",left:a,
top:b})}}
function checkbox_state_change(a,b,c,f){var e=$("#SELECT").attr("value");e=e.substring(0,e.indexOf("|"));var d;d=a.checked?"Y":"N";a=a.value;b=$("#base_ui_callback_url").attr("href")+"&Checkbox+State+Change="+encodeURIComponent(e)+"|"+encodeURIComponent(a)+"|"+encodeURIComponent(d)+"&start="+b+"&count="+c;$.ajax({type:"GET",url:b,dataType:"json",beforeSend:function(){if(f){$(f).attr("disabled",true);$(f).css("cursor","wait")}},success:function(g){g.selection!=null?$("#SELECT").attr("value",g.selection):
alert("msg: "+g.msg)},error:function(g,l,n){try{console.error(g,l,n)}catch(o){}},complete:function(){if(f){$(f).removeAttr("disabled");$(f).css("cursor","pointer")}}})}
function msp_mode_click_handler(a,b){a.preventDefault();$("#msp-hint-popup").length>0&&hide_hint_popup();var c=$(b).attr("href").match(/Display(?:\+|%20)Mode=([^ &;]+)/)[1],f=$(b).parent().parent(),e;if(c=="diseases"||c=="procedures"||c=="drugs")e=$(b).text();if($("#msp-searchmode-"+c).length>0){set_search_mode(c);$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Switch+Mode="+encodeURIComponent(c)+"&Notify=1",dataType:"json",success:function(d){if(d.session_timeout_error){display_timeout_popup(d.session_timeout_error);
return false}$(".currently-searching-db-widget","#msp-searchmode-"+c).html(d.current_database_name);if(c=="easy"){$("#OA-hint-easy").css("display","none");$("#GeneralSearch-tabs").css("margin-top","3.2em")}else{$("#OA-hint-easy").css("display","block");$("#GeneralSearch-tabs").css("margin-top","0.2em")}},error:function(d,g,l){try{console.error(d,g,l)}catch(n){}}})}else $.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Switch+Mode="+encodeURIComponent(c),dataType:"html",beforeSend:function(){e?
$(":first-child",b).html('<span class="loading">'+e+"</span>"):$(f).addClass("loading")},success:function(d){if(d.match(/id="session-timeout"/)){display_timeout_popup(d);return false}if($("#msp-searchmode-"+c).length==0){$msp_searchform.append(d);$("#pc-searchform").length&&set_pc_form_default_text();msp_initialize_search_mode_form(c);$("#msp-search-"+c+" div.widget-ctl").click(function(){$(this).toggle_widget()});$("msp-search-"+c+" div.widget-closed").siblings(".widget:first").css("display","none")}set_search_mode(c)},
error:function(d,g,l){try{console.error(d,g,l)}catch(n){}},complete:function(){e?$(":first-child",b).html(e):$(f).removeClass("loading")}})}function set_pc_form_default_text(){$("#diseases_focus").length&&activate_default_text($("#diseases_focus"));$("#procedures_focus").length&&activate_default_text($("#procedures_focus"));$("#drugs_focus").length&&activate_default_text($("#drugs_focus"))}
$.fn.iframehack=function(a){if($.browser.msie&&$.browser.version<7){this.remove("iframe");this.append('<iframe style="display:block;position:absolute;top:-'+a+"px;left:-"+a+"px;padding:5px;z-index:-1;filter:mask(); width:expression(this.parentNode.offsetWidth + "+2*a+");height:expression(this.parentNode.offsetHeight + "+2*a+')"/>')}else return this};
function msp_initialize_hint_popup(){$("#msp-hint-popup-text").html("");$("div#msp-hint-question-mark a[name=open_hint_popup]").click(function(a){var b=$(this).attr("href");show_hint_popup(a.pageX,b);return false});$("div#msp-hint-popup a[name=close_hint_popup]").click(function(){hide_hint_popup();return false})}
function show_hint_popup(a,b){var c=a+"px",f=b.replace(/\+(Page)/,"+Text"),e=$("#msp-hint-popup"),d=$("#msp-hint-popup-text");e.iframehack(3);var g={display:"block",left:c};if($.browser.msie){var l=$("#msp-searchform div.currently-searching-db-widget").outerHeight()+$("#msp-searchform div.msp-modes-container").outerHeight()+75;g=$("#msp-searchform #msp-searchhistory").length?{display:"block",left:c,top:l}:{display:"block",left:c,top:l+$("#msp-searchhistory").outerHeight()+20}}d.html()!=""?e.css(g):
$.ajax({type:"GET",url:f,dataType:"html",success:function(n){d.html(n);e.css(g)},error:function(n,o,u){try{console.error(n,o,u)}catch(r){}}})}function hide_hint_popup(){$("#msp-hint-popup").css({display:"none"})}
function msp_initialize_search_mode_form(a){if(!$("#pc-searchform").length){$("div#msp-search-"+a+" div.msp-modes-container ul li a").click(function(b){msp_mode_click_handler(b,this)});$("#OA-hint-easy a").click(function(b){msp_mode_click_handler(b,this)});if(a=="easy"){$("#OA-hint-easy").css("display","none");$("#GeneralSearch-tabs").css("margin-top","3.2em")}else{$("#OA-hint-easy").css("display","block");$("#GeneralSearch-tabs").css("margin-top","0.2em")}}$("input[name=SearchType]").click(function(){$(this).toggle_searchtype()});
$("select[name=toolType]").change(function(){$("#subjsrch_focus").attr("value",$("span[toolType="+$(this).val()+"]","div.msp-subjsrch-box").html()).attr("title",$("span[toolType="+$(this).val()+"]","div.msp-subjsrch-box").html());$("#subjsrch_focus").addClass("mp-search-default-text-active ")});current_mode=a;if(a=="fields"){searchfields_ready();initialize_searchfields_grid_handler()}}var current_mode;
function set_search_mode(a){var b="#msp-searchmode-"+a;if(a=="multifield")multifield_initialize_add_new_row();else if(a=="easy")msp_initialize_hint_popup();else a=="fields"&&customize_msp_search_fields();$("div[id^=msp-searchmode-]").add("div[id^=msp-error-]").css("display","none");$("div[id^=msp-search-]").hide();$("#msp-search-history.search-history-position-top").length?$("#msp-searchhistory-drophere").appendTo("#msp-search-"+a):$msp_search_history.appendTo("#msp-search-"+a);$("div[id^=msp-search-"+
a+"]").show();$(b).add("#msp-error-"+a).css("display","block");a.match(/^(diseases|procedures|drugs)$/)||$("input[type=text]:first",$(b)).each(function(){$(this).focus()});set_help($(b).attr("help"));$("meta[name=OvidPageId]:first").attr("content","MSP_"+a);current_mode=a}
function set_help(a){if(helplink=$("#header-buttons-upper .help-link").get(0)){if(a.indexOf("#")!=-1){a=a.split("#");a=a[0]+".htm#"+a[1]}else a+=".htm";url=helplink.href;url=url.replace(/(.+)\/[^\/]+?\.htm(#.*)?/g,"$1/"+a);helplink.href=url}}
function searchfields_ready(){$("dd.searchfields-grid-links").css({display:"none"});$(".searchfields-grid-entry dd.searchfields-grid-term a").click(function(a){open_search_field_window(a);return false});$("#msp-fields-reset").click(function(){reset_search_fields();return false});$("#searchfields-grid input[type=checkbox]").click(function(){clear_all_fields(this)});customize_msp_search_fields();initialize_searchfields_grid_handler();$.browser.msie&&$.browser.version<7&&$(".searchfields-grid-entry").hover(function(){$(this).css({overflow:"auto",
height:"3em","min-height":"3em"})},function(){$(this).css({overflow:"hidden",height:"3em","min-height":"3em","background-color":""})})}
function open_search_field_window(a){var b=a.pageX,c=a.pageY,f=a.target;if(a.target.nodeName=="IMG")f=$(f).parent(".glink").get(0);a=$(f).attr("href");f=$(f).attr("target");if(c+300>=window.screen.availHeight)c-=300;search_field_window=window.open(a,f,"width=300,height=300,resizable,titlebar,scrollbars,screenX="+b+",screenY="+c+",left="+b+",top="+c);search_field_window.focus()}
function reset_search_fields(){$("#searchfields-grid input[type=checkbox]:checked").attr("checked",false);$("#searchfields-allfields input[type=checkbox]:first").attr("checked",true);return false}function clear_all_fields(a){if($(a).parents("#searchfields-allfields").length>0)return true;else $(a).attr("checked")&&$("#searchfields-allfields input[type=checkbox]:first").attr("checked",false)}function unescape_HTML(a){return $("<div>"+a+"</div>").html()}
function Benchmark(){this.end=function(){b=(new Date).getTime()-b;a=false};this.getTime=function(){a&&this.end();return b/1E3};this.start=function(){a=true;b=(new Date).getTime()};var a=false,b=0}function benchmark_checkpoint(){}function benchmark_sum(){}
function benchmark_start_log(a){if(a.sum_only)window.bm_sum_only=a.sum_only;$("#benchmarklog").length==0?$("#header").before('<div id="benchmarklog"><table id="bm-entries"><thead><tr><th>Line</th><th>Delta</th></tr></thead><tbody></tbody></table></div>'):$("#bm-entries tbody").empty();a=(new Date).getTime();window.bm_start=a;window.bm_curr=a;window.bm_sum_only||(benchmark_checkpoint=function(b){if(!window.bm_sum_only){var c=(new Date).getTime(),f=c-window.bm_curr;$("#bm-entries tbody").append("<tr><td>"+
b+"</td><td>"+f+"</td></tr>");window.bm_curr=c}});benchmark_sum=function(b){var c=(window.bm_sum_only?(new Date).getTime():window.bm_curr)-window.bm_start;$("#bm-entries tbody").append("<tr><th>"+b+"</th><th>"+c+"</th></tr>")};benchmark_checkpoint("start")}
function close_clone(){var a=$("#base_ui_callback_url").attr("href")+"&Close+Clone=1";$.ajax({type:"GET",url:a,dataType:"json",success:function(){},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}},complete:function(){top.window.close()}})}
function bibliographic_display_navigation(a,b){for(var c=a.target;c!=null&&c.nodeName!="INPUT"&&c.nodeName!="A";)c=c.parentNode;if(c==null)return true;var f=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Get Bib Display")+"=";if(c.nodeName=="INPUT"){var e=$(c).attr("name").match(/^submit:(.+?)\|(.+)/);f=f+encodeURIComponent(e[1]+"|"+e[2])+"&on_msp="+main_search_page_display_flag();$("#main-content > form input").add("#main-content > form select option:selected").each(function(){var g=
$(this).attr("name"),l=$(this).attr("type");if(this.nodeName=="OPTION")g=$(this).parent().attr("name");if(!(g!=null&&g.match(/^(S)$/)))if(!(l!=null&&l=="submit")){if(l!=null&&l.match(/^(checkbox|radio)$/))if($(this).attr("checked")){if($(this).attr("value")==null){f=f+"&"+encodeURIComponent(g)+"=on";return}}else return;l=$(this).attr("value");l==null||l==""||(f=f+"&"+encodeURIComponent(g)+"="+encodeURIComponent(l))}})}else if(c.nodeName=="A"){e=$(c).attr("href");if(e==null)return true;var d=$(c).parent().hasClass("ovid-tab")?
0:1;e=e.match(/[&;?](Titles\+Display|Abstract|Complete\+Reference|AsciiFullText)=([^&;? ]+)/);if(e==null)return true;if(e[1]=="Complete+Reference"||e[1]=="Abstract")$("div.journal-browse-search","#main-content").remove();f=f+e[1]+"|"+e[2]+"&on_msp="+main_search_page_display_flag();if(e=$(c).attr("href").match(/[&;?](ous_filter)=([^&;? ]+)/))f=f+"&"+e[1]+"="+e[2];if(e=$(c).attr("href").match(/[&;?](from_gsrd)=([^&;? ]+)/)){f=f+"&"+e[1]+"="+e[2];d=e[2]==1?1:0}if(e=$(c).attr("href").match(/[&;?](general_search_tabs_view_mode)=([^&;? ]+)/))f=
f+"&"+e[1]+"="+e[2];update_view_selected_link(d)}$(c).parents("#GeneralSearch-tabs").length>0?bib_display_navigate_to(null,f,b):bib_display_navigate_to(c,f,b);a.preventDefault();return false}
function bib_display_navigate_to(a,b,c){var f="";if(a!=null)f=$("select",a).length>0?$("select",a).attr("name"):"";$("#nav-history-frame").length==0&&$("body").append('<iframe title="Navigation history details" id="nav-history-frame" name="nav-history-frame" src="javascript:false;document.write(\'\');"></iframe>');$("#nav-history-frame").unbind("load").load(function(e){process_bib_display_navigation(e,a,c);f.length>0&&$('select[name="'+f+'"]').focus()});a!=null&&$(a).css("cursor","wait").addClass("loading");
$("#nav-history-frame").attr("src",b)}
function process_bib_display_navigation(a,b,c){a=$("#nav-history-frame").contents();var f=a.find("body").html();if(f!=null&&f.length>0)if($("#timeout-message",a).length>0)get_timeout_popup("#nav-history-frame",f);else if($("#main-content form#nav-results").length>0){$("#nav-results").remove();$("#main-content").append(f);if(c==true){a=$("#nav-results").offset();f=window_scroll_top();c=$(window).height();a=a.top-f;if(a<0||a>c*0.4)scroll_to_id("nav-results")}titles_display_setup($("#titles-records"))}else alert("Can't find form#nav-results");else alert("Error loading page");
b!=null&&$(b).css("cursor","default").removeClass("loading");update_view_selected_link()}function window_scroll_top(){return window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}
function disable_search_history_action_buttons(a){var b=[$('#searchhistory-inner .searchhistory-tools-left > input[name="submit:Delete Sets|1"]'),$('#searchhistory-inner .searchhistory-tools-left > input[name="submit:Save Sets|1"]')],c=[$('#searchhistory-inner .searchhistory-tools-left > input[name="submit:Combine|and"]'),$('#searchhistory-inner .searchhistory-tools-left > input[name="submit:Combine|or"]')],f=function(d,g){g.removeAttr("disabled");g.unbind("click")},e=function(d,g){g.attr("disabled",
true)};$.each(b,a?e:f);if($('table#searchhistory-inner tr.searchhistory-row input[type=checkbox][class*="search_type_NLP"]:checked').length>0)a=true;else if($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length<2)a=true;else if($("#searchhistory-selectall").length>0&&$("#searchhistory-selectall").attr("checked")&&$("#is_nlp_available").val()>0)a=true;$.each(c,a?e:f)}
function open_service_links(a){$("#service-links").remove();var b=$(a.target),c=$(b).attr("href").match(/[&;?](Link\+Set)=([^&;? ]+)/);$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href")+"&Get+Links="+c[2],dataType:"html",beforeSend:function(){$(b).addClass("loading")},success:function(f){var e;if(f.match(/^ovid:/))window.location.href=$(b).attr("href");else if(e=f.match(/^<a id="redirect" href="([^"]+)">Redirect<\/a>/))window.open(e[1],"_blank");else{e=document.createElement("DIV");e.setAttribute("id",
"service-links");$("#main-content").append(e);$("#service-links").html(f);e=$("#service-links").width();f=$("#service-links").height();e=$(a.target).offset().left-e;var d=$(a.target).offset().top-f/2;if($.browser.msie&&$.browser.version<8)d-=f/2;$.browser.msie&&$.browser.version<7?$("#service-links").css({display:"block",position:"absolute",left:e+"px",top:d+"px"}).iframehack(3):$("#service-links").css({display:"block",position:"absolute",left:e,top:d});$("table.servicelinks-container").css({"margin-top":"0",
border:"none"});service_links_popup_close();$(".servicelinks-container a").click(function(){$("#service-links").remove()})}},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){$(b).removeClass("loading")}})}
function get_searchhistory_details(a){a.preventDefault();var b=a.target,c=$(b).attr("name");a=$(b).attr("name").match(/submit:(.+?)\|(.+)/);a=$("#base_ui_callback_url").attr("href")+"&Show+Quick=1&"+encodeURIComponent(a[1])+"="+encodeURIComponent(a[2]);$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){$(b).parent().addClass("loading")},success:function(f){$("div .widget",$msp_search_history).html(f);bind_search_history_events()},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},
complete:function(){customize_show_more_display();disable_search_history_action_buttons(true);$(b).parent().removeClass("loading");$('input[name="'+c+'"]').focus()}})}
function customize_show_more_display(a){var b=$(".search-history-actions-display").height(),c=b+$(".show-more").height();rows_to_perform_action=a?$(".searchhistory-col-Actions",a):$(".searchhistory-row .searchhistory-col-Actions .searchhistory-col-Annotations");rows_to_perform_action.each(function(){var f=$(this),e=f.height()-c,d="",g=f.children(".search-history-actions-container").children().length;if(g==2){f.find("a.show-more-link").css({display:"none"});f.children(".search-history-actions-container").children().removeClass("search-history-hide-actions")}else if(e>=
b){d=Math.floor(e/b);if(d>=g-2){f.find("a.show-more-link").css({display:"none"});f.children(".search-history-actions-container").children().removeClass("search-history-hide-actions")}else f.children(".search-history-actions-container").children().each(function(l){if(l<=d){$(this).removeClass("search-history-hide-actions");f.find("div.search-history-actions-popup-container div:nth-child("+l+")").addClass("search-history-hide-actions")}})}})}
function show_more_display(a){$("div.search-history-actions-popup-container").addClass("show-more-close");hide_RSS_options();a=a.target;$.browser.msie&&$("#msp-search-history, #msp-searchhistory").css("position","static");$(a).next(".search-history-actions-popup-container").removeClass("show-more-close");var b=$(a).parent(),c;if($.browser.msie){b=-$("div.search-history-actions-popup-container",b).width()-38;c="1.5em"}else{b=b.width()-($("div.search-history-actions-popup-container",b).width()+$("div.show-more").width()-
$("div.search-history-actions-display").width())+60;c="-2px"}$(a).next(".search-history-actions-popup-container").css({"margin-left":b,"margin-top":c})}function search_history_selectall(){$("#searchhistory-selectall").attr("checked")?$(".searchhistory-row input[type=checkbox]").attr("checked",true):$(".searchhistory-row input[type=checkbox]").attr("checked",false)}
function customize_US_details(a){if(!a)return"";var b="<span class='US_details'>";a=a.replace(/<span class="US_details">/i,"").replace(/<\/span>/ig,"").split(/<br>/i);for(var c=0;c<a.length;c++)if(!(a[c]==""||a[c]==null)){var f=/(<.*>)?(.*)(\(\d*\))\s*$/.exec(a[c]);if(f[1])b+=f[1];b+="<div><span class='searchhistory-details-dbName'>"+f[2]+"</span><span class='searchhistory-details-results'>"+f[3]+"</span></div>";if(f[1])b+="</span>"}b+="</span>";return b}
function search_history_details_popup(){$(".searchhistory-details").mouseover(function(a){a=a.pageX+"px";$(this).children("div.searchhistory-details-popup").css({display:"block",left:a});$("div.searchhistory-details-popup a").removeAttr("href")}).mouseout(function(){$(this).children("div.searchhistory-details-popup").css({display:"none"})})}
function bind_search_history_events(){search_history_set_results_height();$(".searchhistory-detailsbutton").bind("click",function(a){get_searchhistory_details(a)});$("table#searchhistory-inner th.searchhistory-col-Num a").bind("click",function(a){msp_sort_seach_history_click_handler(a)});$("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]").bind("click",function(){$(this).attr("checked")||$("#searchhistory-selectall:first").attr("checked",false);disable_search_history_action_buttons($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>
0?false:true)});close_show_more();$("#searchhistory-selectall").bind("click",function(){search_history_selectall();disable_search_history_action_buttons($("table#searchhistory-inner tr.searchhistory-row input[type=checkbox]:checked").length>0?false:true)});$(".searchhistory-details").bind("mouseover, mouseout",function(){search_history_details_popup()})}
function searchaid_star_filter(){var a=$("td.searchaid-star-checkbox input[type=checkbox]:checked").map(function(){return $(this).val()}).get().join(","),b=$("#searchaid-star input[name=StarFilter]").attr("value");a=$("#base_ui_callback_url").attr("href")+"&Select+Star="+encodeURIComponent(b)+"|"+encodeURIComponent(a)+"&on_msp="+main_search_page_display_flag();bib_display_navigate_to($("#searchaid-star"),a,false);return false}
function customize_msp_search_fields(){$("div#msp-searchfields-tabs-container a").click(function(a){if($(a.target).attr("id")=="msp-fields-reset")return false;var b=$("#base_ui_callback_url").attr("href")+"&Search+Fields="+encodeURIComponent($(a.target).attr("id"))+"&SELECT="+$("div#searchfields-body input[name='SELECT']").attr("value");$("input[type=checkbox][name=R]").each(function(){if($(this).attr("checked"))b=b+"&R="+$(this).attr("value")});$.ajax({type:"GET",url:b,dataType:"html",beforeSend:function(){$(a.target).addClass("loading")},
success:function(c){if($.browser.mozilla&&parseFloat($.browser.version)<1.9)c=c.replace(/searchfields-grid-links/g,"searchfields-grid-links' style='display:none");$("#searchfields-body").replaceWith(c);current_mode="fields";searchfields_ready()},error:function(c,f,e){try{console.error(c,f,e)}catch(d){}},complete:function(){$(a.target).removeClass("loading");$('div#searchfields-allfields input[type="checkbox"]').focus()}});return false});$("div#searchfields-grid div dl dd.searchfields-grid-links a").click(function(){if($(this).attr("href")){var a=
$(this),b=$(a).closest("div").find("input[type=checkbox]").val(),c=$(a).attr("href").match(/.*&(.+_my_fields=[^&]+)/)[1],f=$("#base_ui_callback_url").attr("href")+"&Search+Fields="+encodeURIComponent($("div#msp-searchfields-tabs-container span").attr("id"))+"&"+c+"&SELECT="+$("div#searchfields-body input[name='SELECT']").attr("value");$("input[type=checkbox][name=R]").each(function(){if($(this).attr("checked"))f=f+"&R="+$(this).attr("value")});$.ajax({type:"GET",url:f,dataType:"html",beforeSend:function(){$(a).addClass("loading")},
success:function(e){if($.browser.mozilla&&parseFloat($.browser.version)<1.9)e=e.replace(/searchfields-grid-links/g,"searchfields-grid-links' style='display:none");$("#searchfields-body").replaceWith(e);current_mode="fields";searchfields_ready()},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}},complete:function(){$(a).removeClass("loading");$('div#searchfields-grid input[value="'+b+'"]').length>0?$('div#searchfields-grid input[value="'+b+'"]').focus():$('div#searchfields-allfields input[type="checkbox"]').focus()}});
return false}})}
function initialize_searchfields_grid_handler(){$("div#searchfields-grid dd.searchfields-grid-links").css({display:"none"});$("div#searchfields-grid div.searchfields-grid-entry").hover(function(){$("dd.searchfields-grid-links",$(this)).css({display:"block"});$(this).addClass("searchfields-grid-entry-mouseover")},function(){$("div.searchfields-grid-entry").scrollTop(0);$("dd.searchfields-grid-links",$(this)).css({display:"none"});$(this).scrollLeft(0).removeClass("searchfields-grid-entry-mouseover")});var a=
function(b){$("div.searchfields-grid-entry").scrollTop(0);$("dd.searchfields-grid-links",$(b).closest("div")).css({display:"none"});$(b).closest("div").scrollLeft(0).removeClass("searchfields-grid-entry-mouseover")};$("div#searchfields-grid div.searchfields-grid-entry dd.searchfields-grid-term a").focus(function(){$("dd.searchfields-grid-links",$(this).closest("div")).css({display:"block"});$(this).closest("div").addClass("searchfields-grid-entry-mouseover")});$("div#searchfields-grid div.searchfields-grid-entry input").blur(function(){a(this)});
if($("div#searchfields-grid div.searchfields-grid-entry input.searchfields-grid-index-no").length>0)$("div#searchfields-grid div.searchfields-grid-entry input.searchfields-grid-index-no").blur(function(){a(this)});else{$("div#searchfields-grid div.searchfields-grid-entry a.searchfields-grid-add").blur(function(){a(this)});$("div#searchfields-grid div.searchfields-grid-entry a.searchfields-grid-delete").blur(function(){a(this)})}}
function close_show_more(){$(".show-more-link").click(function(){return false});var a=function(){$("a.show-more-link").removeClass("mouse-on-more");$(".search-history-actions-popup-container").addClass("show-more-close")};$(".show-more-link").hover(function(b){$(this).addClass("mouse-on-more");show_more_display(b)},function(){var b=$(this);b.removeClass("mouse-on-more");setTimeout(function(){!b.next(".search-history-actions-popup-container").hasClass("mouse-on-popup")&&!b.hasClass("mouse-on-more")&&
b.next(".search-history-actions-popup-container").addClass("show-more-close")},250)}).css({visibility:"visible"});$(".show-more-link").focus(function(b){$(this).addClass("mouse-on-more");show_more_display(b)});$(".search-history-actions-display a.glink").focus(function(){a()});$(".annotation-container a").focus(function(){a()});$(".search-history-actions-popup-container").hover(function(){$(this).removeClass("show-more-close");$(this).addClass("mouse-on-popup")},function(){var b=$(this);b.removeClass("mouse-on-popup");
setTimeout(function(){!b.prev(".show-more-link").hasClass("mouse-on-more")&&!b.hasClass("mouse-on-popup")&&b.addClass("show-more-close")},250)})}function jb_view_display(){var a=$(this).attr("href");get_content_pane(a,"","Journal+TOC=1");return false}
function jb_results_per_page(){var a=$("#base_ui_callback_url").attr("href")+"&TOC="+$("#Datalist").val();if($("div#titles-display div.journals-toc-container input#journal_browse_filter").length>0)a+="&journal_browse_filter="+$("div#titles-display div.journals-toc-container input#journal_browse_filter").val();else if($("div#titles-display div.journals-toc-container input#title_filter").length>0)a+="&title_filter="+$("div#titles-display div.journals-toc-container input#title_filter").val();var b=$(this).val();
$("div.journals-titlesheader-functionblock-right select[name=Results Per Page]").each(function(){$(this).val(b)});get_content_pane(a,"","Journal+TOC=1");return false}function toggle_widget(a,b){var c=$("#base_ui_callback_url").attr("href")+"&Widget+Action=toggle&list_id="+b+"&widget_id="+a;$.ajax({type:"GET",url:c,dataType:"json",error:function(f,e,d){try{console.error(f,e,d)}catch(g){}}})}
function reorder_widget(a,b,c){a=$("#base_ui_callback_url").attr("href")+"&Widget+Action=reorder&list_id="+c+"&widget_id="+a+"&position="+b;$.ajax({type:"GET",url:a,dataType:"json",error:function(f,e,d){try{console.error(f,e,d)}catch(g){}}})}
function attach_widget_toggle_and_reorder_events(){var a=$("#ovid-vertical-widgets");if(a.length!=0){a.sortable({connectWith:".ovid-vertical-widgets",handle:".ovid-vertical-widget-handler",axis:"y",opacity:0.8,tolerance:"pointer",scroll:true,stop:function(b,c){if($("#JO").length>0&&$("#journals_list_search").length>0)if(c.item.index()==0)return false},update:function(b,c){if($("#JO").length>0&&$("#journals_list_search").length>0)if(c.item.index()==0)return false;for(var f=$(this).sortable("toArray"),
e=0;e<f.length;e++)if(f[e]==c.item.attr("id")){f=$(this).parent().attr("id");var d=c.item.attr("id");reorder_widget(d,e,f);break}}});$("div.ovid-vertical-widget-header a.ovid-vertical-widget-toggle-link",a).unbind("click").click(function(){var b=$(this).find("span.ovid-vertical-widget-toggle");$(b).toggleClass("ui-icon-triangle-1-s");$(b).toggleClass("ui-icon-triangle-1-e");$(b).parents("div.ovid-vertical-widget:first").find("div.ovid-vertical-widget-content").toggle();var c=$(b).parent().parent().parent().parent().parent().attr("id");
b=$(b).parent().parent().parent().attr("id");toggle_widget(b,c);if($("body").hasClass("show-issue-page"))$("#IS").length>0&&resize_journal_issue_lhs_widget();else $("#JO").length>0&&resize_journal_lhs_widget();return false})}}
function get_content_pane(a,b,c,f){var e=$("div.journals-titlesheader-functionblock-right select[name=Results Per Page] option:selected").val();a=a+"&"+c+"&Results+Per+Page="+e;$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){b&&$(b+" div.ovid-vertical-widget-header").addClass("loading");$("#titles-display div.journals-header").addClass("loading")},success:function(d){if(d.match(/timeout/))get_timeout_popup("#titles-display",d);else{$("#titles-display").html(d);d=$("#titles-records").offset();
window_scroll_top()>d.top&&window.scrollTo(0,0)}c=="Ajax+Journal+Browse+Perform+Search=1"&&cleanup_journal_browse_search_form();add_space_after_title_records();resize_journal_lhs_widget();resize_journal_issue_lhs_widget()},error:function(d,g,l){try{console.error(d,g,l)}catch(n){}},complete:function(){b&&$(b+" div.ovid-vertical-widget-header").removeClass("loading");$("#titles-display div.journals-header").removeClass("loading");titles_display_setup("div#titles-records");if(b=="#journal_issue_list")if($("#SELECT").length>
0){var d=$("#SELECT").attr("value").split("|",1);$("#jb-datalist").val(d)}$.browser.msie&&$("div.journals-toc-row:last-child","#titles-records").css({"border-bottom":"none"});f&&f();update_view_selected_link()}})}
function jb_issue_check_uncheck_all(){var a=$(this).hasClass("select-all"),b;if(!(b=$("#jb-datalist").attr("value"))){b=$("#Datalist").attr("value");b=b.substring(0,b.indexOf("|"))}if(a){a="checked";$("#titles-display span.select-all a.unselect-all").removeClass("hide");$("#titles-display span.select-all a.select-all").addClass("hide")}else{a="";$("#titles-display span.select-all a.select-all").removeClass("hide");$("#titles-display span.select-all a.unselect-all").addClass("hide")}var c=$("#titles-records div.titles-checkbox input[name=R]").each(function(){this.checked=
a});titles_submit_citation_selection(b,c[0].value+"-"+c[c.length-1].value,a=="checked"?"Y":"N");update_view_selected_link();return false}
function jb_issue_image_cover(){var a=$(this).attr("href")+"&Journal+Cover+Status=1";$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){$("#titles-display div.issue-toggle-cover").addClass("loading")},success:function(b){b.match(/timeout/)?get_timeout_popup("#titles-display",b):$("#titles-display div.issue-toggle-cover").html(b)},complete:function(){$("#titles-display div.issue-toggle-cover").removeClass("loading");$("div.issue-toc-header div.toc-jtoc-left img").hasClass("hide")?$("div.issue-toc-header div.toc-jtoc-left img").removeClass("hide"):
$("div.issue-toc-header div.toc-jtoc-left img").addClass("hide")}});return false}
function jb_rss_setup(a){var b=$(this);if(b.siblings("div.jb-RSSoptions").length>0)return false;$("div.jb-RSSoptions").remove();var c=b.attr("href")+"&Journal+RSS+Popup=1";$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){b.parent().addClass("loading")},success:function(f){if(f.match(/timeout/))get_timeout_popup("#titles-display",f);else{$("#titles-display").append(f);f=a.pageX;var e=$("div.jb-RSSoptions");e.iframehack(7);$("div.jb-RSSoptions iframe").css({height:$.browser.msie&&$.browser.version<
7?"60px":""});if($("#rss .glink").length){var d=$(a.target).closest("#rss .tlink"),g=d.position().left,l=d.position().top,n=d.outerWidth();g+=n;d=d.outerHeight()}else{d=$(a.target).closest("span.rss");g=d.position().left;l=d.position().top;n=d.outerWidth();g+=n;d=d.outerHeight()}l+=d;e.css({visibility:"visible",left:$.browser.msie&&$.browser.version<8?f+"px":g,top:l})}},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){b.parent().removeClass("loading")}});$("#titles-records div.journals-icons-right, #titles-display div.jb-RSSoptions span.jb-popup-close, #titles-display div.jb-RSSoptions div.jb-popup-option a").live("click",
function(){$("div.jb-RSSoptions").remove()});return false}
function jb_email_jumpstart(){if(!validate_email($("span.jb-popup-value input[name=email]").val())){$("div.jb-email-jumpstart-popup div.error").removeClass("hide");return false}var a;a=$("#pdf_jsurl").css("display")=="block"?"#pdf-js-email a":"#email a";a=$("#base_ui_callback_url").attr("href")+"&Email+Jump+Start="+encodeURIComponent($("div.jb-email-jumpstart-popup input[name=email]").val())+"&Save+As+Jumpstart="+encodeURIComponent($(a).attr("href").match(/\?(.*)/)[1])+"&doEmail=1";$.ajax({type:"GET",
url:a,dataType:"html",beforeSend:function(){$("div.jb-email-jumpstart-popup span.jb-popup-value").addClass("loading")},success:function(b){if(b.match(/timeout/))get_timeout_popup("div.jb-email-jumpstart-popup",b);else{$("div.jb-email-jumpstart-popup div.jb-popup-option").addClass("hide");$("div.jb-email-jumpstart-popup div.error").addClass("hide");$("div.jb-email-jumpstart-popup div.info").remove();$(b).insertAfter("div.jb-email-jumpstart-popup div.error")}},error:function(b,c,f){try{console.error(b,
c,f)}catch(e){}},complete:function(){$("div.jb-email-jumpstart-popup span.jb-popup-value").removeClass("loading");window.setTimeout(function(){$("div.jb-email-jumpstart-popup").hide("slow");shift_div_up()},2E3)}});return false}
function jb_jumpstart_setup(a){shift_div_down();$("div.jb-email-jumpstart-popup div.error,div.jb-email-jumpstart-popup div.info").addClass("hide");$("span.jb-popup-value input[name=email]").val("");$("div.jb-email-jumpstart-popup div.jb-popup-option").removeClass("hide");$("div.jb-email-jumpstart-popup").iframehack(7);var b=$("div.jb-email-jumpstart-popup").width();a=$.browser.msie?"":a.pageY;var c=$("#email").offset().left,f=$("#email").outerWidth();b=c+f-b-($.browser.msie&&$.browser.version<8?15:
5);if($("div.weblinks-nav-container").length>0){$("div.jb-email-jumpstart-popup").css({display:"block",left:"18.5px",top:"20px"});$("div.jb-email-jumpstart-popup").delegate(".jb-popup-option input[name=submit:Send|1]","click",jb_email_jumpstart)}else $("div.jb-email-jumpstart-popup").css({display:"block",left:b/2,top:a/2,position:"absolute"});$("span.jb-popup-value input[name=submit:Cancel|1]").live("click",function(){$("div.jb-email-jumpstart-popup").css({display:"none"});shift_div_up();return false});
$("#main-form").live("submit",function(){return jb_email_jumpstart()});return false}function shift_div_down(){if($("div.weblinks-nav-container").length>0)$("div#fulltext-object-model").length>0?$("#fulltext-object-model").css({"padding-top":"260px"}):$("#embedded-frame").css({"padding-top":"40px",border:"0"})}
function shift_div_up(){if($("div.weblinks-nav-container").length>0)$("div#fulltext-object-model").length>0?$("#fulltext-object-model").css({"padding-top":"0"}):$("#embedded-frame").css({"padding-top":"0",border:"1px solid rgb(10,9,5)"})}function validate_email(a){var b=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/,c=a.split(/,|;/);if(c&&c.length){for(a=0;a<c.length;a++){var f=$.trim(c[a]);if(!b.test(f))return false}return true}else return b.test(a)}
function jb_pagination(){get_content_pane($(this).attr("href"),"","Journal+TOC=1");return false}
function jb_title_widget(a){$.ajax({type:"GET",url:a+"&Journal+Filter+By+Title=1",dataType:"html",beforeSend:function(){$("#title_index div.ovid-vertical-widget-header").addClass("loading");$("#titles-display div.journals-tocheader").addClass("loading")},success:function(b){if(b.match(/timeout/))get_timeout_popup("#titles-display",b);else{$("#title_index_content").html(b);get_content_pane(a,"","Journal+TOC=1")}},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}},complete:function(){$("#title_index div.ovid-vertical-widget-header").removeClass("loading")}})}
function set_journal_browse_search_toggle_handler(){var a=$(".journal-browse-search-toggle").attr("id");a=$("#base_ui_callback_url").attr("href")+"&Ajax+Journal+Browse+Toggle+Search+Type="+a;$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){$(".journal-browse-loading-placeholder").addClass("loading")},success:function(b){if(b.result=="OK"){$(".journal-browse-search-form-details").html(b.search_form);init_journal_browse_search_default_text()}else try{console.dir(b)}catch(c){}},error:function(b,
c){try{console.error(c)}catch(f){}},complete:function(){$(".journal-browse-loading-placeholder").removeClass("loading")}});return false}
function perform_journal_browse_search(){var a=$("#base_ui_callback_url").attr("href"),b=$("#search_type").attr("value");a+="&search_type="+b;switch(b){case "filter":a+="&jb-browse-jn="+encodeURIComponent($("#autocomplete-jn").attr("value"));case "basic":a+="&jb-search-keywords-textbox="+$("#jb-search-keywords-textbox").attr("value");a+="&search_area="+$("#search_area").attr("value");a+="&jb-datalist="+$("#jb-datalist").attr("value");case "advance":a+="&jb-search-title-textbox="+$("#jb-search-title-textbox").attr("value");
a+="&jb-search-author-textbox="+$("#jb-search-author-textbox").attr("value");a+="&jb-search-volume-textbox="+$("#jb-search-volume-textbox").attr("value");a+="&jb-search-issue-textbox="+$("#jb-search-issue-textbox").attr("value");a+="&jb-search-year-textbox="+$("#jb-search-year-textbox").attr("value");a+="&jb-search-page-textbox="+$("#jb-search-page-textbox").attr("value");a+="&search_area="+$("#search_area").attr("value");a+="&jb-datalist="+$("#jb-datalist").attr("value")}get_content_pane(a,"","Ajax+Journal+Browse+Perform+Search=1");
return false}
function get_autocomplete_suggestions(){var a=$("#base_ui_callback_url").attr("href")+"&Get+AutoComplete+Suggestions=1",b=$(this).attr("id").split("-",2)[1],c={};$(".autocomplete").autocomplete({source:function(f,e){if(c.term==f.term&&c.content)e(c.content);else RegExp(c.term).test(f.term)&&c.content&&c.content.length<13?e($.ui.autocomplete.filter(c.content,f.term)):$.ajax({url:a+"&FIELD="+b+"&DISPLAYRECORDS=10",dataType:"json",data:f,success:function(d){c.term=f.term;c.content=d;e(d);d=$("ul.ui-autocomplete");
d.css({"z-index":"100"}).iframehack(3);$("ul.ui-autocomplete li").hover(function(){$(this).addClass("autocomplete-on")},function(){$(this).removeClass("autocomplete-on")});for(var g=0;g<$("li",d).length;g++)$("li",d).eq(g).addClass(g%2?"ac_odd":"ac_even").find("a").removeClass("ui-corner-all").addClass("no-border");$(".autocomplete").unbind("keypress").bind("keypress",function(){$("#titles-panel-control").css("z-index","0");$("ul.ui-autocomplete").css({"z-index":"100"}).iframehack(3)});$("ul.ui-autocomplete").blur(function(){$(".autocomplete").unbind("keypress");
$("#titles-panel-control").css("z-index","1")})}})},minLength:3})}function display_timeout_message(a,b){a.addClass("session-timeout-popup-dimensions");$(window).scrollTop()>$(window).height()*2/3&&$(".session-timeout-popup-dimensions").css("top",$(window).scrollTop());a.html(b).overlay({popup:a,action:"show_popup"});$("#session-timeout input").bind("click",function(){window.location=$("#base_ui_callback_url").attr("href").split("?")[0]})}
function display_timeout_popup(a){$("#popup-overlay").length?$("#below-banner").prepend('<div id="session-timeout-popup" class="overlay-popup-box"></div>'):$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="session-timeout-popup" class="overlay-popup-box"></div>');$("#popup-overlay").height($("#below-banner").outerHeight());display_timeout_message($("#session-timeout-popup"),a)}
function get_timeout_popup(a,b){var c=$(a).html();$(a).html(b);var f=$("#timeout-message").text(),e=$("#return-url").text();$(a).html(c);alert(f);window.location=e}function get_json_timeout_popup(a){alert(a.message);window.location=a.return_url}
function ft_image_gallery_select_all(){var a=$(this).hasClass("select-all");if(a){a="checked";$("#fulltext-image-gallery-select-all a.unselect-all").removeClass("hide");$("#fulltext-image-gallery-select-all a.select-all").addClass("hide")}else{a="";$("#fulltext-image-gallery-select-all a.select-all").removeClass("hide");$("#fulltext-image-gallery-select-all a.unselect-all").addClass("hide")}$("#fulltext-image-gallery input.image-gallery-checkbox").each(function(){this.checked=a});return false}
function expand_issue_list_thru_ajax(a,b,c){a=$(a.target);var f=c.find("ul");if(f.hasClass("issues")){f.show();resize_journal_issue_lhs_widget()}else{c=a.parent().find("span").html().split(",");c=$("#base_ui_callback_url").attr("href")+"&Get+Issue+Volumes=1&datalist_name="+c[0]+"&current_year="+c[1];$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){f.addClass("loading")},success:function(e){if(e.match(/timeout/))get_timeout_popup("#journal_issue_list_content",e);else{f.addClass("issues").html(e);
issue_list_attach_click();resize_journal_issue_lhs_widget()}},error:function(e,d){try{console.error(d)}catch(g){}},complete:function(){f.removeClass("loading")}})}}function validate_export_to_powerpoint(){var a=0;$("#fulltext-image-gallery input.image-gallery-checkbox").each(function(){this.checked&&a++});$("#image-gallery-none-selected-error").removeClass("hide");if(a==0)return false;else{$("#image-gallery-none-selected-error").addClass("hide");return true}}
function cleanup_journal_browse_search_form(){if(!($("#search_type").length<=0))switch($("#search_type").attr("value")){case "filter":$("#autocomplete-jn").val($("#autocomplete-jn").attr("title"));$("#autocomplete-jn").addClass("default-text-active");$(".journal_srch_btn").focus();case "basic":$("#jb-search-keywords-textbox").val($("#jb-search-keywords-textbox").attr("title"));$("#jb-search-keywords-textbox").addClass("default-text-active");case "advance":$("#jb-search-title-textbox").val("");$("#jb-search-author-textbox").val("");
$("#jb-search-volume-textbox").val("");$("#jb-search-issue-textbox").val("");$("#jb-search-year-textbox").val("");$("#jb-search-page-textbox").val("")}}
function toggle_resources_widget(a){var b;b=$(a.target).attr("href")?$(a.target):$(a.target).parent();a=parseInt(b.attr("href").split("Get+Resources+Widget=")[1],10);a=$("#base_ui_callback_url").attr("href")+"&Ajax+Get+Resources+Widget="+a;$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(c){if(c.session_timeout_error){display_timeout_popup(c.session_timeout_error);return false}$(".currently-searching-db-widget",$msp_searchform).html(c.widget)},
error:function(c,f,e){try{console.error(c,f,e)}catch(d){}},complete:function(){b.removeClass("loading")}})}
function show_us_sources(){var a=$("a.us-sources-link",$msp_searchform),b=a.attr("href")+"&Ajax_request=1";$.ajax({type:"GET",url:b,dataType:"html",success:function(c){if(c.match(/session-timeout/)){display_timeout_popup(c);return false}$("#US-sources-popup").length||$("#below-banner").prepend('<div id="US-sources-popup" class="overlay-popup-box"></div>');$("#US-sources-popup").html(c);a.overlay({popup:"#US-sources-popup",action:"show_popup"});add_OUS_selection_screen_handlers()},error:function(c,
f){try{console.error(f)}catch(e){}}});return false}
function select_us_sources(){ax_url=$("a.us-sources-link",$msp_searchform).attr("href");var a="";$("input[type=checkbox][name=R]","#US-sources").each(function(){if($(this).attr("checked"))a=a+"&R="+$(this).attr("value")});var b=$('input[name="SELECT"]',"#US-sources").attr("value");ax_url=ax_url+a+"&SELECT="+b+"&Ajax_request=1";$.ajax({type:"GET",url:ax_url,dataType:"html",success:function(c){if(c.match(/session-timeout/)){display_timeout_popup(c);return false}$(".us-sources-list").html(c);$("a.us-sources-link",
$msp_searchform).overlay({action:"close_all"})},error:function(c,f){try{console.error(f)}catch(e){}}});return false}function set_search_terms_state(a){var b=$("#base_ui_callback_url").attr("href");b=$("#search_tab_type").length&&$("#search_tab_type").attr("value")=="OUS"?b+"&search_terms_state_ous="+a:b+"&search_terms_state="+a;$.ajax({type:"GET",url:b,dataType:"html",success:function(){},error:function(c,f){try{console.error(f)}catch(e){}}})}
function get_delete_resource_group(a){var b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Delete Resource Group")+"=1&Ajax_request=1";$("input","#database-form").each(function(){if($(this).attr("type")=="checkbox")if($(this).attr("checked"))b+="&"+$(this).attr("name")+"="+$(this).attr("value")});$.ajax({type:"GET",url:b,dataType:"json",beforeSend:function(){$(a.target).addClass("loading")},success:function(c){if(c.session_timeout_error){display_timeout_popup(c.session_timeout_error);
return false}$(a.target).removeClass("loading");c.status=="FAILD"?$("#database-list-popup-error").removeClass("hide").html(c.ERROR):$("#database-list-popup-error").addClass("hide").html("");if($AppleWebKit){if($("#databaselist-resource-groups-scroller").length){$("#databaselist-resource-groups-scroller").remove();$("#databaselist-resource-groups-header").after(c.html)}else $("#databaselist-resource-groups").replaceWith(c.html);$("#databaselist-resource-groups>li").length&&add_iscroll_to("databaselist-resource-groups")}else $("#databaselist-resource-groups").replaceWith(c.html);
$("#databaselist-resource-groups>li").length||$("#databaselist-resource-groups, #databaselist-resource-groups-level").addClass("hide");enable_disable_rg_delete_option();databaselist_ready()},error:function(c,f,e){try{console.error(c,f,e)}catch(d){}}})}
function get_new_resource_group_data(a){var b="";b=$(a.target).attr("href")?$(a.target).attr("href")+"&Ajax_request=1":$("a.new_group_url","#databaselist-resource-groups-options").attr("href")+"&Ajax_request=1";var c=$("#resource-group-popup-box");$.ajax({type:"GET",url:b,dataType:"html",beforeSend:function(){c.html("<div class='loading-big set-height'></div>")},success:function(f){if(f.match(/session-timeout/)){display_timeout_popup(f);return false}c.html(f);setup_resource_group_page(c);databaselist_ready();
$("#pin-name").length>0&&$("#pin-name").focus()},error:function(f,e){try{console.error(e)}catch(d){}}});return false}
function save_add_edit_resource_group(a){var b=0;$("#all-resource-error, #select-resource-error, #group-name-error").addClass("hidden");if($("#resource-group-name").val().match(/^\s*$/)){$("#resource-group-name").val("");$("#group-name-error").removeClass("hidden");b=1}if(!$("#add-edit-resource-group-dblist-databases input[type=checkbox]:checked").length){$("#all-resource-error, #select-resource-error").removeClass("hidden");b=1}if(b)return false;var c=$("#submit_url").attr("value")+"&Ajax_request=1";
$("input",a).each(function(){if($(this).attr("type")=="text")c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).attr("value"));else if($(this).attr("type")=="checkbox")if($(this).attr("checked"))c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).attr("value"))});$("#loading-popup-box").length||$("#below-banner").prepend('<div id="loading-popup-box" class="overlay-popup-box"></div>');b={popup:"#loading-popup-box",action:"show_popup"};a.overlay(b);$(b.popup).css("height","10em");$.ajax({type:"GET",
url:c,dataType:"json",success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}var e;if($("#db-overlay-popup-box").length)e={popup:"#db-overlay-popup-box",action:"show_popup"};else{$("#below-banner").prepend('<div id="db-overlay-popup-box" class="overlay-popup-box"></div>');e={popup:"#db-overlay-popup-box",action:"show_popup",more_action:function(){get_database_list()}}}a.overlay(e);if(f.status=="OK"){if($AppleWebKit){if($("#databaselist-resource-groups-scroller").length){$("#databaselist-resource-groups-scroller").remove();
$("#databaselist-resource-groups-header").after(f.html)}else $("#databaselist-resource-groups").replaceWith(f.html);add_iscroll_to("databaselist-resource-groups")}else $("#databaselist-resource-groups").replaceWith(f.html);$("#databaselist-resource-groups").removeClass("hide");$("#databaselist-resource-groups-level").removeClass("hide")}else if(f.status=="FAILD"){$("#resource-group-popup-box").length||$("#below-banner").prepend('<div id="resource-group-popup-box" class="overlay-popup-box"></div>');
e={popup:"#resource-group-popup-box",overlay:"#popup-overlay",action:"show_popup"};$("#popup-overlay").overlay(e);$("#resource-group-error").html(f.ERROR).removeClass("hide")}$("#titles-display").length||$(e.overlay).css({height:"60em"});databaselist_ready()},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}}});return false}
function update_view_selected_link(a){if($(".view_selected_link").length==0)return true;var b=$("#base_ui_callback_url").attr("href")+"&View+Current+Selected=1";if(a==undefined)a=$("#gs-ovid-tab").length>0&&!$("#gs-ovid-tab").hasClass("selected");if(a){$(".view_selected_link").unbind("click").click(function(){return false});$(".view_selected_link").addClass("tlinkdisable").attr("tabindex","-1");return true}$.ajax({type:"GET",url:b,dataType:"json",success:function(c){if(parseInt(c.record_count,10)>
0){$(".view_selected_link").unbind("click").click(function(){return true});$(".view_selected_link").removeClass("tlinkdisable").attr("tabindex","0")}else if(!$("input[type=checkbox].bibrecord-checkbox").attr("checked")&&$("input[type=text].cmRecords").length>0&&$("input[type=text].cmRecords").attr("value").match(/^\d+(-\d+)?(,\d+(-\d+)?)*$/)){$(".view_selected_link").removeClass("tlinkdisable").attr("tabindex","0");$(".view_selected_link").unbind("click").click(function(){var f=$("#msp-results #Datalist").attr("value").split("|").splice(0,
1);make_range_selection($("input[type=text].cmRecords").attr("value"),$(".view_selected_link").attr("href"),f);return false})}else{$(".view_selected_link").unbind("click").click(function(){return false});$(".view_selected_link").addClass("tlinkdisable").attr("tabindex","-1")}},error:function(c,f,e){try{console.error(c,f,e)}catch(d){}}});return true}function avoid_undefined_value(a){return a!=null?a:""}
function close_overlay_popup(){var a=$("#overlay-container");a.addClass("hide");a.html("");return false}
function open_overlay_popup(a,b){var c=$(this);if(b)c=b;for(var f=$("#overlay-container"),e=c.attr("input_args").split("|"),d="",g="",l=1,n=0;n<e.length;n++){var o=e[n].split(":"),u=o[0];o=o[1];if(u=="form_name")d=o;else{g+=e[n]+"|";if(u=="index")l="0"}}g=g.slice(0,-1);var r=$("#base_ui_callback_url").attr("href")+"&AjaxFormProcessor="+d+"&InputArgs="+g;r+=get_range();l=="1"&&$("input:checkbox[name=R]").length>0&&$("input:checkbox[name=R]").each(function(){if($(this).attr("checked"))r+="&R="+$(this).attr("value")});
var p;if($(".mm-popup").length>0)p=true;var s=$(a.target),z=$(a.target).offset().top;$.ajax({type:"GET",url:r,dataType:"json",beforeSend:function(){c.hasClass("menu-item-link")?$("#mp-widget-active div.projects-action-menu").css("padding-left","2em").addClass("loading"):c.addClass("loading")},success:function(A){if(A.pin_login_possible==1)if(s.attr("href"))window.location=s.attr("href");else if(s.parents(".render-form").attr("href"))window.location=s.parents(".render-form").attr("href");else s.parents("form").append('<input type="hidden" name="'+
s.attr("name")+'" value="'+s.val()+'">').submit();else if(A.result=="OK"){var x=$("#below-banner");if($("body.show-book-browse").length>0){f.css({height:$("#right-browse-content").outerHeight()+400,width:"98%"}).removeClass("hide").html(A.content);$("#full-overlay").width($("#header").width())}else f.css({height:x.outerHeight()+200}).removeClass("hide").html(A.content);if(p){$(".overlay-popup-box").css({"z-index":202});$("#overlay-container").attr("id","overlay-container-mm")}update_after_select_range(A.selected_results,
A.num_selected,A.is_all_selected);p||$("#mp-main-page-container").length||($(window).scrollTop()>$(window).height()?$("#form-popup-box").css({top:z-$("#form-popup-box").offset().top-$(window).height()*1/2}):$("#form-popup-box").css({top:z-$("#form-popup-box").offset().top}));if(s.parents("#trash-widget-empty-link").length>0)window.location="#below-banner";if($.browser.msie&&$.browser.version<7){$("#full-overlay").css({"margin-left":"-490px",height:f.height()}).iframehack(3);f.css({left:x.css("left")})}setup_overlay_form()}else try{console.dir(A)}catch(h){}},
error:function(A,x,h){try{if(h.match(/Ovid: Idle Time Exceeded/))window.location=$("#base_ui_callback_url").attr("href");else console.error(A,x,h)}catch(F){}},complete:function(){c.hasClass("menu-item-link")?$("#mp-widget-active div.projects-action-menu").removeClass("loading"):c.removeClass("loading")}});return false}
function process_form(){var a=$(this),b=$("#overlay-container");if($(".mm-popup").length>0){$("#overlay-container").attr("id","overlay-container-mm");b=$("#overlay-container-mm")}if($("#form-popup-box #generic-error-message").text())b.addClass("hide").html("");else{var c=$("#base_ui_callback_url").attr("href");$("input",b).each(function(){if($(this).attr("type")=="hidden"||$(this).attr("type")=="text")if($(this).attr("type")=="hidden"&&$(this).attr("name")=="FormProcessor")c+="&Ajax"+$(this).attr("name")+
"="+encodeURIComponent($(this).attr("value"));else{if($(this).attr("name")!="S")c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).attr("value"))}else if($(this).attr("type")=="radio"||$(this).attr("type")=="checkbox")if($(this).attr("checked"))c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).attr("value"))});$("select",b).each(function(){c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).attr("value"))});$("textarea",b).each(function(){c+="&"+$(this).attr("name")+"="+encodeURIComponent($(this).val())});
c+="&"+$(a).attr("name")+"=1";$.ajax({type:"POST",url:c,dataType:"json",beforeSend:function(){$("#form-loading").removeClass("hide")},success:function(f){if(f.result=="OK"){if(f.action=="DISPLAY"){var e=$("#form-popup-box").css("top");if($("body.show-book-browse").length>0){b.html(f.content).removeClass("hide").height($("#right-browse-content").outerHeight()+400);$("#full-overlay").width($("#header").width())}else b.html(f.content).removeClass("hide").height($("#below-banner").outerHeight());if($.browser.msie&&
$.browser.version<7){$("#full-overlay").css("margin-left","-490px").iframehack(3);b.css({left:$("#below-banner").css("left")}).iframehack(3)}$("#form-popup-box").css({top:e});setup_overlay_form();if(f.additional&&f.additional.target_element&&f.additional.content){e=f.additional.target_element;$(e).html(f.additional.content)}}else if(f.action=="CLOSE"){if($(".mm-popup").length>0){$("#overlay-container-mm").attr("id","overlay-container");$(".overlay-popup-box ").css({"z-index":999})}b.addClass("hide");
b.html("")}else if(f.action=="CLOSE and REFRESH"){e=f.target_element;$(e).html(f.content);b.addClass("hide");b.html("")}else if(f.action=="CLOSE and REPLACE"){e=f.target_element;$(e).replaceWith(f.content);b.addClass("hide");b.html("")}else if(f.action=="GO TO URL")window.location=$("#base_ui_callback_url").attr("href")+f.content;else if(f.action=="HAS ERROR"){e=f.error_place_holder;$("#response_error").length?$("#response_error").html(f.error):$(e).prepend("<div id='response_error' class='error'>"+
f.error+"</div>");b.addClass("hide");b.html("")}if(window.location.href.match(/#below-banner/))window.location="#trash-widget-empty-link";f.keep_selection=="N"&&$("input[type=checkbox][name=R]").each(function(){$(this).attr("checked")&&$(this).attr("checked",false)});f.target_element&&attach_events(f.target_element);f.additional.target_element&&attach_events(f.additional.target_element)}else if(f.result=="FAIL")display_timeout_message($("#form-popup-box"),f.session_timeout_error);else try{console.dir(f)}catch(d){}},
error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){post_process_form()}});return false}}
function setup_overlay_form(){var a=$("#overlay-container");if($(".mm-popup").length>0){$("#overlay-container").attr("id","overlay-container-mm");a=$("#overlay-container-mm")}$("input,select",a).each(function(){var b=$(this);b.attr("type")!="hidden"&&b.attr("id")!="close-popup"&&b.attr("id")!="close-popup-x"&&b.keypress(function(c){if(c.keyCode==13){$("#form-submit",a).click();return false}});b.attr("type")=="text"&&b.focus()})}function post_process_form(){}
function open_text_snippet_popup(a,b){var c=$(a),f=get_url_params(c.attr("href")),e=parseInt(f.max_words,10);if(e!="NaN")if(b.split(" ").length>e){if(f=f.max_words_message){f=f.replace(/\+/g," ");f=decodeURIComponent(f)}else f="You have exceeded the "+e+" word limit for adding a text excerpt.";alert(f);return false}var d=["dlname","index"],g;for(e=[];g=d.shift();)e.push(g+":"+f[g]);f=$("#base_ui_callback_url").attr("href");d=get_url_params(f).S;$.ajax({type:"POST",url:f,data:{AjaxFormProcessor:"textSnippet__add",
InputArgs:e.join("|"),S:d},dataType:"json",beforeSend:function(){c.addClass("loading")},success:function(l){if(l.result=="OK"){var n=$("#overlay-container");n.html(l.content);n.css("height",$("#main-content").outerHeight());l=$("#form-popup-box textarea[name=textSnippet__add___text-snippet]");l.val(b);l.attr("readonly",true);n.removeClass("hide")}else try{console.dir(l)}catch(o){}},error:function(l,n){try{console.error(n)}catch(o){}},complete:function(){c.removeClass("loading")}});return false}
function get_selected_text(){var a="";if(document.getSelection)a=document.getSelection().toString();else if(document.selection.type=="Text")a=document.selection.createRange().text;return a}function get_url_params(a){a=a.slice(a.indexOf("?")+1).split("&");for(var b=[],c=0;c<a.length;c++){var f=a[c].split("=");b.push(f[0]);b[f[0]]=f[1]}return b}
function add_annotation_popup(a,b,c){$("#popup-overlay").length&&$("#popup-overlay, #annotate-overlay-popup-box").remove();$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="annotate-overlay-popup-box" class="overlay-popup-box"></div>');c==1&&$("#popup-overlay").width("100%");$annotate_overlay=$("#annotate-overlay-popup-box");$annotate_overlay.addClass("loading-big");c={popup:"#annotate-overlay-popup-box",overlay:"#popup-overlay",bind_events_to:"#below-banner",
all_popups:"div.overlay-popup-box",action:"show_all"};if(a)c.more_action=a;if(a=b.target||b.srcElement){$(a).overlay(c);a=a.parentNode;if(a.className=="book-has-annotation"||a.className=="book-can-annotate"){b=b.pageY-$annotate_overlay.offset().top;if($.browser.msie&&$.browser.version<9)b=$(window).scrollTop();$annotate_overlay.css({top:b});$("#annotate-popup-top-pos").length>0&&$("#annotate-popup-top-pos").val(b);$("#below-banner").prepend('<input type="hidden" id="annotate-popup-top-pos" value="'+
b+'"></div>')}else{b=$("#annotate-popup-top-pos").val()+"px";$annotate_overlay.css({top:b})}}else{b.overlay(c);b=b.top-$annotate_overlay.offset().top;if(a=$("#annotatescrollpos").attr("value"))b=a+"px";$annotate_overlay.css({top:b});$("#annotate-popup-top-pos").length>0&&$("#annotate-popup-top-pos").val(b);$("#below-banner").prepend('<input type="hidden" id="annotate-popup-top-pos" value="'+a+'"></div>')}$("a.annotation_popup_close, div.close-annotation-popup input[type=submit]",$annotate_overlay).unbind("click").click("click",
function(f){annotation_attached_to();$annotate_overlay.empty();$(f.target).overlay({action:"close_all"});if($("annotation-view").length<1){$("book-has-annotation").addClass("book-can-annotate");$("book-has-annotation").removeClass("book-has-annotation")}return false});$("#annotation-body input[name^=submit:Cancel|1]").live("click",function(f){if($("#annotation-box").hasClass("annotation-box-hide")){$(f.target).overlay({action:"close_all"});return false}$("textarea[name=Annotation]","#annotation-box").length&&
$("div.selected","#annotation-box").removeClass("annotation-box-hide");$("#annotation-edit, div.edit-annotation-header, div.error").addClass("annotation-box-hide");$("span.annotation-links").removeClass("annotation-box-hide");$("span.add-annotation-link, div.close-annotation-popup","#annotation-list-popup").removeClass("annotation-box-hide");return false})}
function annotation_attached_to(){var a=$("#annotation_attached_to").attr("value")||"",b=$("span.has-annotation, span.can-annotate, span.book-has-annotation, span.book-can-annotate"),c=a.split("|"),f="";if($("#msp-results").hasClass("journal-results"))f="&Journal+Annotation=1";f=$("#base_ui_callback_url").attr("href")+"&Get+Annotation+Link="+a+f;$.ajax({type:"GET",url:f,dataType:"json",success:function(e){e.link?b.each(function(){var d=$("a",this).attr("href");d=d.replace(/%7c/g,"|");d=d.match(/(?:Annotate|View.Annotation)=([^&;]+)/)[1].split("|",
2);if(c[1]===d[1]){$("a",this).attr({href:e.link.a_href,title:e.link.img_title});$("a img",this).attr({src:e.link.img_src,title:e.link.img_title});refresh_annotations(this,a)}}):alert("Error: "+e.msg)},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}}})}
function close_annotation_form(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false;a=$("#annotate-overlay-popup-box");annotation_attached_to();a.empty();a.overlay({action:"close_all"});set_height_books_browse();return false}function close_search_annotation_form(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false;a=$("#search-annotations-popup-box");a.empty();a.overlay({action:"close_all"});return false}
function close_edit_term_form(a){(new OmnitureTracker).Track({action:"Cancel Edit Search Statement"});close_search_searchterm_edit_form(a)}function close_search_searchterm_edit_form(a){if(a.preventDefault){a.preventDefault();a=$("[name='Index']").val();$(".search-actions-edit").eq(a-1).focus()}else a.returnValue=false;a=$("#search-edit-popup-box");a.empty();a.overlay({action:"close_all"});$(".popupOverlay").remove();return false}
function add_search_annotation_form(){var a=$("#search-annotation-form").serialize(),b=$("#base_ui_callback_url").attr("href")+"&"+a+"&Add Annotation=1&Ajax_request=1";$.ajax({url:b,type:"POST",dataType:"json",beforeSend:function(){$("#search-annotations-popup-box").html("").addClass("set-height loading-big")},success:function(){var c=/^R=([0-9]+)\&Search_Annotation=(.*)$/.exec(a);if(c[1]!=undefined&&c[2]!=""&&c[2]!="Add+annotation..."){$(".annotation-index-"+c[1]).removeClass("annotations-widget");
$(".annotation-index-"+c[1]).parent().attr("href",$("#base_ui_callback_url").attr("href")+"&R="+c[1]+"&Annotation="+c[2]+"&View+Edit+Annotation=1");$(".annotation-index-"+c[1]).addClass("added-annotations-widget")}else{$(".annotation-index-"+c[1]).removeClass("added-annotations-widget");$(".annotation-index-"+c[1]).addClass("annotations-widget")}},error:function(c,f){try{console.error(f)}catch(e){}}})}
function update_search_term_form(){var a=$("#search-term-edit-popup").find('input[name="Index"]').val(),b=$("textarea#search-term-edit-text").val(),c=$("#base_ui_callback_url").attr("href")+"&index="+a+"&updated_term="+encodeURIComponent(b)+"&Edit_Search_Term=1&Ajax_request=1";$.ajax({url:c,type:"POST",dataType:"json",beforeSend:function(){$("#search-annotations-popup-box").html("").addClass("set-height loading-big")},success:function(f){if(f.result=="OK"){$("#search-history-line").find("tr#search-hist-line-"+
a).find("td.edit-search-term").html(b);(new OmnitureTracker).Track({action:"Update Search Statement"})}else alert(f.message)},error:function(f,e){try{console.error(e)}catch(d){}}})}
function remove_search_annotation_form(){var a=$("#search-annotation-form").serialize(),b=$("#base_ui_callback_url").attr("href")+"&"+a+"&Remove Annotation=1&Ajax_request=1";$.ajax({url:b,type:"POST",dataType:"json",beforeSend:function(){$("#search-annotations-popup-box").html("").addClass("set-height loading-big")},success:function(){var c=/^R=([0-9]+).*$/.exec(a);$(".annotation-index-"+c[1]).removeClass("added-annotations-widget");$(".annotation-index-"+c[1]).parent().attr("href",$("#base_ui_callback_url").attr("href")+
"&R="+c[1]+"&View+Edit+Annotation=1&Ajax_request=1");$(".annotation-index-"+c[1]).addClass("annotations-widget")},error:function(c,f){try{console.error(f)}catch(e){}}})}
function submit_save_annotation_form(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false;var b=$("#annotation-form").serialize();b=$("#base_ui_callback_url").attr("href")+"&"+b+"&Save Annotation=1&AjaxGetAnnotation=1";$.ajax({url:b,type:"POST",dataType:"json",beforeSend:function(){$("#annotate-overlay-popup-box").html("").addClass("set-height loading-big")},success:function(c){replace_popup_content(c.annotation);set_height_books_browse_for_annotate();link.overlay({popup:"#annotate-overlay-popup-box",
recalculate:true,action:"show_popup"})},error:function(c,f){try{console.error(f)}catch(e){}},complete:function(){set_annotation_field_focus()}});a.unbind()}
function call_annotation_popup(a){var b=a.attr("href")+"&AjaxGetAnnotation=1";$.ajax({url:b,type:"GET",dataType:"json",beforeSend:function(){$("#annotate-overlay-popup-box").html("").addClass("set-height loading-big")},success:function(c){replace_popup_content(c.annotation);a.overlay({popup:"#annotate-overlay-popup-box",compute:true,action:"show_popup"})},error:function(c,f){try{console.error(f)}catch(e){}},complete:function(){set_annotation_field_focus();var c=$("#annotate-overlay-popup-box");$("a.annotation_popup_close, div.close-annotation-popup input[type=submit]",
c).unbind("click").click("click",function(){annotation_attached_to();c.empty();c.overlay({action:"close_all"});return false});set_height_books_browse_for_annotate()}})}
function get_annotation_popup(a){if(a.preventDefault)a.preventDefault();else a.returnValue=false;a=a.target||a.srcElement;var b=$(a);button=a.nodeName=="IMG"?b.parent():b;if(button[0]!=null&&button[0].nodeName!="INPUT"&&button[0].nodeName=="A")$.ajax({url:button.attr("href")+"&AjaxGetAnnotation=1",type:"GET",dataType:"json",beforeSend:function(){$("#annotate-overlay-popup-box").html("").addClass("set-height loading-big")},success:function(e){replace_popup_content(e.annotation);b.overlay({popup:"#annotate-overlay-popup-box",
compute:true,action:"show_popup"})},error:function(e,d){try{console.error(d)}catch(g){}},complete:function(){set_annotation_field_focus();var e=$("#annotate-overlay-popup-box");$("a.annotation_popup_close, div.close-annotation-popup input[type=submit]",e).unbind("click").click("click",function(){annotation_attached_to();e.empty();e.overlay({action:"close_all"});return false});set_height_books_browse_for_annotate()}});else if(button[0]!=null&&button[0].nodeName=="INPUT"&&button[0].nodeName!="A"){a=
$("textarea[name=Annotation]","#annotation-list-popup").val();var c=$("#Record","#annotation-list-popup").attr("value"),f=$("#base_ui_callback_url").attr("href").match(/(.*)[&;?](S)=([^&;? ]+)/);$.ajax({type:"POST",url:f[1],dataType:"json",beforeSend:function(){$("#annotate-overlay-popup-box").html("").addClass("set-height loading-big")},data:"Save Annotation=1&Annotation="+encodeURIComponent(a)+"&Record="+c+"&AjaxGetAnnotation=1&"+f[2]+"="+f[3],success:function(e){replace_popup_content(e.annotation);
b.overlay({popup:"#annotate-overlay-popup-box",recalculate:true,action:"show_popup"})},error:function(e,d){try{console.error(d)}catch(g){}},complete:function(){set_annotation_field_focus();var e=$("#annotate-overlay-popup-box");$("a.annotation_popup_close, div.close-annotation-popup input[type=submit]",e).unbind("click").click("click",function(){annotation_attached_to();e.empty();e.overlay({action:"close_all"});return false});set_height_books_browse_for_annotate()}})}}
function set_annotation_field_focus(){$("textarea[name=Annotation]","#annotation-list-popup").length&&$("textarea[name=Annotation]","#annotation-list-popup").focus().select()}
function replace_popup_content(a){$("#annotate-overlay-popup-box").removeClass("set-height loading-big").html(a);$.browser.msie&&$.browser.version<7&&$("span.annotation-links a:first-child").each(function(){$(this).css({"border-left":"none","padding-left":0})});$.browser.msie&&$("div.annotation-view:last-child").css({"border-bottom":"none"})}
function update_citation_from_selection(){var a=$("#citation-form-type-select").val(),b=$("#citation__add-form").find("input[name=InputArgs]").val();b="form_name:citation__add|keep_selection:Y|citation_form_type:"+a+"|"+b;var c=$("#overlay-container");a=$("#base_ui_callback_url").attr("href")+"&AjaxFormProcessor=citation__add&InputArgs="+b;$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){$(".form-top-container").addClass("loading")},success:function(f){$(".form-top-container").removeClass("loading");
if(f.result=="OK"){c.html(f.content);attach_add_citation_form_events();c.css({height:$("#below-banner").outerHeight()});if($.browser.msie&&$.browser.version<7){$("#full-overlay").iframehack(3);$("#full-overlay").css({"margin-left":"-490px"});c.css({left:$("#below-banner").css("left")})}c.removeClass("hide")}else try{console.dir(f)}catch(e){}},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){}})}
function attach_add_citation_form_events(){var a=$("#citation__add");if(a.length>0){$(a).delegate('input[name="citation__add___accessed_date"]',"click",function(){var b=new Date;$(this).val($.datepicker.formatDate("yy-M-dd",b)+" "+b.toLocaleTimeString());return false});$(".form-textbox",a).focus(function(){$(this).removeClass("msp-search-default-text-active")});$(".form-textbox",a).blur(function(){$(this).val()!=""&&$(this).val()==$(this).attr("title")&&$(this).addClass("msp-search-default-text-active")})}}
function init_inline_view_annotation_links(){var a=$("div.titles-inline-annotation > input:submit");if(a.length>0){$(a).unbind("click").unbind("keypress");$(a).click(function(b){return view_inline_annotations(b)}).keypress(function(b){if(b.which===13){b.preventDefault();return view_inline_annotations(b)}}).filter(".standard-button").removeClass("standard-button").addClass("titles-inline-annotation-closed")}else $("div.titles-anno").css("display","block")}
function attach_myproject_widget_events(){var a=$("#active-project-list-container span.has-childrens a.glink img");if($(a).length>0){$(a).unbind("click");$(a).click(function(b){toggle_project(b);return false})}a=$("#view-all-action-container a.tlink");if($(a).length>0){$(a).unbind("click");$(a).click(function(b){$(b.target).attr("href");encodeURIComponent("Ajax Get All Active Projects");get_all_active_projects(b);return false})}}
function toggle_project(a){a=$(a.target).parent();var b=$(a).attr("href");a=b.match(/[&;?]Project\+Toggle\+Control=([^&;? ]+)/)[1].split("%7c")[1];b=b+"&"+encodeURIComponent("Ajax Get Active Project")+"=1";var c=".project-parent-"+a,f=".project-child-"+a;$.ajax({type:"GET",url:b,dataType:"html",beforeSend:function(){$("#my_projects_header").addClass("loading")},success:function(e){if($("#timeout-message",e).length>0)get_timeout_popup(c,e);else{$(f).remove();$(c).replaceWith(e);attach_myproject_widget_events();
attach_item_drag_drop_events()}},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}},complete:function(){$("#my_projects_header").removeClass("loading")}});return false}
function get_all_active_projects(a){a=$(a.target).attr("href")+"&"+encodeURIComponent("Ajax Get All Active Projects")+"=1";$.ajax({type:"GET",url:a,dataType:"html",beforeSend:function(){$("#my_projects_header").addClass("loading")},success:function(b){if($("#timeout-message",b).length>0)get_timeout_popup("#active-project-list-container",b);else{$("#view-all-action-container").remove();$("#active-project-list-container").length||$("#my_projects_content").html($("#new-project-action-container")).append("<div id='active-project-list-container'></div>");
$("#active-project-list-container").html(b);attach_myproject_widget_events();attach_item_drag_drop_events()}},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}},complete:function(){$("#my_projects_header").removeClass("loading")}});return false}
function projects_update_widget(a){a=a.currentTarget.href;var b=/.+&(.+)?=(.+)?$/.exec(a);if(b==null)return true;b=b[1];a=a.replace(b,"Ajax+"+b);$.ajax({type:"GET",url:a,dataType:"json",success:function(c){c.result=="OK"&&$(c.target_element).replaceWith(c.content)},error:function(c,f,e){try{console.error(c,f,e)}catch(d){}}});return false}
function projects_drag_drop_project(a,b){var c=(new URI(b.draggable.attr("href"))).param("Project Item Display"),f=/mp-widget-(.+)$/.exec(a.target.id);if(c&&f&&c.split("|")[0]==f[1])return false;c=$("#base_ui_callback_url").attr("href")+"&Ajax+Drag+Drop+Project="+f[1]+encodeURIComponent("|")+c;$.ajax({type:"GET",url:c,dataType:"json",beforeSend:function(){$(a.target).addClass("loading")},success:function(e){if(e.result=="OK")window.location=$("#base_ui_callback_url").attr("href")+e.url},error:function(e,
d,g){try{console.error(e,d,g)}catch(l){}},complete:function(){$(a.target).removeClass("loading")}})}
function projects_drag_drop_folder(a,b){var c=$(b.draggable).attr("href").match(/Project\+Item\+Display=([^ &;]+)/);c=decodeURIComponent(c[1]).split("|");var f=$(a.target).attr("href").match(/Project\+Item\+Display=([^ &;]+)/);f=decodeURIComponent(f[1]).split("|");if(f[1]==c[4])return false;c=$("#base_ui_callback_url").attr("href")+"&Ajax+Drag+Drop+Folder="+c[0]+"|"+c[1]+"|"+f[0]+"|"+f[1]+"|"+f[2];$.ajax({type:"GET",url:c,dataType:"json",beforeSend:function(){$(a.target).addClass("loading")},success:function(e){if(e.result==
"OK")window.location=$("#base_ui_callback_url").attr("href")+e.url;else if(e.content){$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="folder-already-exists" class="overlay-popup-box"></div>');$("#popup-overlay").height($("#below-banner").outerHeight());var d=$("#folder-already-exists");d.html(e.content).overlay({popup:d,action:"show_popup"});$("input",d).bind("click",function(){d.overlay({action:"close_all"});$("#popup-overlay, #folder-already-exists").remove()})}},
error:function(e,d,g){try{console.error(e,d,g)}catch(l){}},complete:function(){$(a.target).removeClass("loading")}})}function setup_print_preview_results(a,b){$("#print-citation-preview",a).click(function(){$("#print-citation-form",a).attr("target","_blank");$("#display_print_preview_results",a).attr("value","1");b.overlay({action:"close_all"});return true})}
function drag_drop_to_my_projects(a){$.ajax({type:"GET",url:a,dataType:"json",success:function(b){if(b.result!="OK")try{console.dir(b.reason)}catch(c){}},error:function(b,c){try{console.error(c)}catch(f){}}})}
function get_drag_elements(a){var b;if($(".titles-left",a).length)b=".titles-left";else if($(".titles-top",a).length)b=".titles-top";else return false;a=$(b,a);a.mouseover(function(){$(this).addClass("highlight-drag-handle")});a.mouseout(function(){$(this).removeClass("highlight-drag-handle")});return[a,b]}
function attach_item_drag_drop_events(){if(!$(".ovid-vertical-widget-header","#my_projects").length)return true;if(!$("#active-project-list-container").length)return true;var a=get_drag_elements("#titles-records");if(typeof a=="boolean")return true;var b=a[0];a=a[1];add_space_after_title_records();b.draggable({containment:"#msp-results",scope:"msp_project_item",revert:"invalid",opacity:0.75,handle:"#titles-records "+a,helper:$global_draggee.selector,cursor:"move",cursorAt:{left:0,top:0},start:drag_selection_handler({".titles-record":function(c){return c.parent().find("input:checkbox")},
"dl.DC":function(c){return c.parent().prev("input:checkbox")},".ui-draggable":drag_selection_handler.find_in_parent},"#titles-records"),stop:function(){$global_draggee.end_drag()}});$("div.drop-items","#active-project-list-container").droppable({accept:"#titles-records "+a,scope:"msp_project_item",hoverClass:"dragtarget-hover",tolerance:"pointer",greedy:false,over:function(){$global_draggee.setState("allowed")},out:function(){$global_draggee.setState("denied")},drop:function(){var c=$(this).find("a.tlink").attr("href"),
f=$("#Datalist").attr("value").match(/([^\|]+)/)[1];c=c+"&Ajax+Add+Item+To+Project="+f+"|"+$global_draggee.expando.records_dragged;$global_draggee.end_drag();drag_drop_to_my_projects(c)}})}
function set_toc_select_all_status(){var a=$("#titles-display input.bibrecord-checkbox").length,b=$("#titles-display input.bibrecord-checkbox:checked").length;if(a==b){$("#titles-display span.select-all a.select-all").addClass("hide");$("#titles-display span.select-all a.unselect-all").removeClass("hide")}else{$("#titles-display span.select-all a.select-all").removeClass("hide");$("#titles-display span.select-all a.unselect-all").addClass("hide")}}
function add_OUS_selection_screen_handlers(){var a=$("#US-sources-data");a.length>0&&$("input",a).click(function(b){var c=$(b.target),f=c.parent();b=f.parent();var e=b.parent();if(c.hasClass("US_selectall"))$("input",a).attr("checked",this.checked);else{f.find("ul").length&&f.find("ul input").attr("checked",this.checked);c=e.find(">input");if(b.find("input[type=checkbox]:checked").length==b.find("input[type=checkbox]").length)c.attr("checked",this.checked);else{c.removeAttr("checked");$(".US_selectall",
a).removeAttr("checked")}a.find("input[type=checkbox]:checked").length==a.find("input[type=checkbox]").length-1&&$(".US_selectall",a).attr("checked",this.checked)}});us_sources_close_links=$("#US-sources-cancel, #US-sources .sources_popup_close");us_sources_close_links.length>0&&us_sources_close_links.click(function(){$("a.us-sources-link",$msp_searchform).overlay({action:"close_all"});return false});$("#US-sources-select").click(select_us_sources)}
function open_content_box(){var a=$(this);$("#main-content").prepend('<div id="content-box-container" class="hide"></div>');var b=$("#content-box-container"),c=a.attr("href")+"&AjaxRequest=1";$.ajax({type:"GET",url:c,dataType:"html",beforeSend:function(){a.addClass("loading")},success:function(f){b.html(f);f=$("#content-box-overlay");var e=$("#content-box");b.css({height:$("#below-banner").outerHeight()});var d=e.offset().top;e.css({top:d});if($.browser.msie&&$.browser.version<7){f.iframehack(3);
f.css({"margin-left":"-490px"});b.css({left:$("#below-banner").css("left")})}b.removeClass("hide")},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){a.removeClass("loading");var f=$("#content-box");$(".close-content-box",f).click(function(){return close_content_box()});$("#content-box-overlay").click(function(){return close_content_box()});$(document).keyup(function(e){if(e.keyCode==27)return close_content_box()})}});return false}
function close_content_box(){$("#content-box-container").remove();$(document).unbind("keyup");return false}
function attach_mp_item_drag_drop_events(){if($("#mp-widget-active").length){var a=get_drag_elements("#item-records");if(typeof a=="boolean")return true;var b=a[1];$(b,"#item-records").livequery(function(){$(this).draggable({containment:"project-items",revert:"invalid",opacity:0.75,handle:"#item-records "+b,helper:$global_draggee.selector,cursor:"move",cursorAt:{left:0,top:0},scope:"mp_project_item",start:drag_selection_handler({".titles-record":function(c){return c.parent().find("input:checkbox")},
".ui-draggable":drag_selection_handler.find_in_parent},"#item-records"),stop:function(){$global_draggee.end_drag()}})});$("div.projects-tab-row","#mp-main-page-widgets .projects-dir-listing").livequery(function(){$(this).droppable({accept:"#item-records "+b,hoverClass:"dragtarget-hover",tolerance:"pointer",scope:"mp_project_item",greedy:false,over:function(){$global_draggee.setState("allowed")},out:function(){$global_draggee.setState("denied")},drop:function(c){var f=$("#Datalist").attr("value").match(/([^\|]+)/)[1],
e=$("#mp-main-page-widgets a.projects-selected-link").attr("href").match(/Project\+Item\+Display=(.+?%7c.+?)%7c/)[1],d=$("a.tlink.projects-display-item",this).attr("href"),g=$("a.tlink.project-folder",this).attr("href");d=d||g||"";if(d.match(RegExp(e)))return false;f=d+"&Ajax+Move+Item+To+Project="+f+"|"+$global_draggee.expando.records_dragged;$global_draggee.end_drag();drag_drop_items_to_project_folder(c,f)}})})}}
function drag_drop_items_to_project_folder(a,b){$.ajax({type:"GET",url:b,dataType:"json",beforeSend:function(){$(a.target).addClass("loading")},success:function(c){if(c.result=="OK"){if(c.action=="GO TO URL")window.location=$("#base_ui_callback_url").attr("href")+c.content}else try{console.dir(c.reason)}catch(f){}},error:function(c,f){try{console.error(f)}catch(e){}},complete:function(){$(a.target).removeClass("loading")}})}
function attach_events(a){if(a.match(/my_projects_content/)){attach_myproject_widget_events();attach_item_drag_drop_events()}}function init_mp_nav_jump(){$("#project_item_jump_control").length&&$("#project_item_jump_control").bind("keypress",function(a){if(a.keyCode==13){$("#item_nav_form_go").length&&$("#item_nav_form_go").click();return false}});return true}
function convert_epoch_to_local_timestamp(a){a=new Date(a*1E3);return a.getFullYear()+"-"+convert_month_integer_to_string(a.getMonth())+"-"+append_zero(a.getDate())+" "+append_zero(revert_military_time(a.getHours()))+":"+a.getMinutes()+":"+a.getSeconds()+" "+get_am_pm(a.getHours())}function revert_military_time(a){return a==0||a==12?12:a<12?a:a-12}function get_am_pm(a){return a<12?"AM":"PM"}function append_zero(a){if(a<10)a="0"+a;return a}
function convert_month_integer_to_string(a){if(a==0)return"Jan";else if(a==1)return"Feb";else if(a==2)return"Mar";else if(a==3)return"Apr";else if(a==4)return"May";else if(a==5)return"Jun";else if(a==6)return"Jul";else if(a==7)return"Aug";else if(a==8)return"Sep";else if(a==9)return"Oct";else if(a==10)return"Nov";else if(a==11)return"Dec"}
function init_bibheader_go_jump(){var a=$("#msp-results .bibheader-go .startRecord");a.length&&a.bind("keypress",function(b){var c=$("input[type=submit]",$(b.target).parent());if(b.keyCode==13){c.length&&c.click();return false}});$("#msp-results .bibheader-go input[type=submit]").bind("keypress",function(b){if(b.keyCode==13){b.preventDefault();$(this).click();return false}});return true}
function select_range_default_text(){var a=$("input[type=text].cmRecords");if(a.val()==""||a.val()==a.attr("title"))a.addClass("select-range-default-style").val(a.attr("title"))}function activate_default(){$("#titles-display").delegate("input[type=text].cmRecords","focus",remove_default_text_from_select_range);$("#titles-display").delegate("input[type=text].cmRecords","blur",add_default_text_from_select_range)}
function remove_default_text_from_select_range(){var a=$(".view_selected_link");if($(this).val()==$(this)[0].title)if($("input[type=text].cmRecords")){$(this).removeClass("select-range-default-style").val("");var b=$("#msp-results #Datalist").attr("value").split("|").splice(0,1);$("input[type=text].cmRecords").keyup(function(c){if($(c.target).attr("value").match(/^\d+(-\d+)?(,\d+(-\d+)?)*$/)){a.unbind("click").click(function(f){make_range_selection($(c.target).attr("value"),$(f.target).attr("href"),
b);return false});a.removeClass("tlinkdisable").attr("tabindex","0");$("input[type=text].cmRecords").removeClass("select-range-default-style").val($(c.target).val())}else if($("input[type=checkbox].bibrecord-checkbox").attr("checked")){a.removeClass("tlinkdisable").attr("tabindex","0").unbind("click").click(function(){return true});update_view_selected_link(0)}else a.addClass("tlinkdisable").attr("tabindex","-1")})}}
function preload_pc_images(){for(var a=[],b=["gifs/tab_left_on.gif","gifs/tab_right_on.gif","gifs/loading.gif"],c=0;c<b.length;c++){var f=document.createElement("img");f.src=b[c];a.push(f)}}
function add_default_text_from_select_range(){if($(this).val()==$(this)[0].title||$(this).val()==""){$("input[type=text].cmRecords").addClass("select-range-default-style").val($(this)[0].title);$("input[type=checkbox].bibrecord-checkbox").attr("checked")==false&&$(".view_selected_link").unbind("click").click(function(){return false}).addClass("tlinkdisable").attr("tabindex","-1")}}
function update_after_select_range(a,b,c){$("#filter-sel-recs").html("( "+a+" )");a!=0&&update_view_selected_link();if(b){$("input[type=checkbox].bibrecord-checkbox").attr("checked",false);a=b.split(",");for(i=0;i<=a.length;i++)$("input[type=checkbox][value="+a[i]+"].bibrecord-checkbox").attr("checked",true)}$("#titles-display div.journals-tocheader").length>0&&$("#titles-display span.select-all").length>0?set_toc_select_all_status():$("#citation-select-all").attr("checked",c?true:false)}
function citman_clear_selected(){var a=$("#SELECT").attr("value");a=a.substring(0,a.indexOf("|"));a=$("#base_ui_callback_url").attr("href")+"&Clear+Selected+Results="+encodeURIComponent(a);$.ajax({type:"GET",url:a,dataType:"html",success:function(){$("#citation-select-all, #citation-select-all-subfooter").attr("checked",false);$("input[type=text].cmRecords").attr("disabled",false);var b=$("input[type=text].cmRecords");b.val(b.attr("title"));b.addClass("select-range-default-style");$("#filter-sel-recs").html("( 0 )");
update_view_selected_link(1);$("input[type=checkbox].bibrecord-checkbox:checked").each(function(){$(this).attr("checked",false)});set_toc_select_all_status();$("#max_limit_error").addClass("hidden")},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}},complete:function(){}});return false}
function make_range_selection(a,b,c){a=$("#base_ui_callback_url").attr("href")+"&Ajax+Make+Range+Selection=1&Range="+a+"&datalist="+c;$.ajax({type:"GET",url:a,dataType:"text",success:function(){window.location=b},error:function(f,e,d){try{console.error(f,e,d)}catch(g){}},complete:function(){}})}
function issue_list_attach_click(){$("#journal_issue_list_content a.tlink").click(function(){if($(this).hasClass("current"))return false;$("a.current","#journal_issue_list_content").removeClass("current");$(this).addClass("current");$("#journal_issue_list_content ul li ul li").removeClass("selected_issue");$("#journal_issue_list_content ul li").removeClass("selected_issue");$(this).parent().addClass("selected_issue");$("span","#breadcrumb").html($("a.current","#journal_issue_list").attr("title"));
get_content_pane($(this).attr("href"),"#journal_issue_list","Journal+TOC=1",issue_list_attach_click);return false})}
function add_iscroll_to(a){if(!$("#"+a+"-scroller").length){var b=$("#"+a),c=b.css("height");b.css("width");var f=document.createElement("DIV");f.setAttribute("id",a+"-scroller");var e=document.createElement("DIV");e.setAttribute("id",a+"-inner-div");f.appendChild(e);b.before(f);$("#"+a+"-inner-div").append(b);document.addEventListener("DOMContentLoaded",setTimeout(function(){$("#"+a+"-scroller").css({position:"relative","z-index":"1",top:"0",left:"0",height:c,border:"0.13em solid rgb(10,9,5)","margin-bottom":"0.5em"});
b.css({height:"auto","border-size":"none","border-style":"none","border-color":"none"});new iScroll(a+"-scroller")},100),false);$("#"+a+"-scroller input:checkbox").each(function(){$(this).bind("touchstart",function(d){d.stopPropagation()})})}}
function add_space_after_title_records(){var a=$("#titles-records"),b=$("#titles-panel");if(!$("#top-tab li a[href*=journals]").parent("li").hasClass("current"))if(a.height()/b.height()<1.25){b=b.height()*1.25-a.height();a.next().hasClass("extra-spacer")||a.after('<div id="extra-spacer" class="extra-spacer"></div>');$("#extra-spacer").height(b)}}
function jbi_content_hide_show(a,b){if($("#"+a).css("display")=="none"){$("#"+a).css({display:"block"});$("#"+b).removeClass("widget-closed");$("#"+b).addClass("widget-open")}else if($("#"+a).css("display")=="block"){$("#"+a).css({display:"none"});$("#"+b).removeClass("widget-open");$("#"+b).addClass("widget-closed")}}function jbi_tool_tip_show(a){a=$(a.target).parent();$(".jbi_tooltip",a).css({display:"block"})}
function jbi_tool_tip_hide(a){a=$(a.target).parent();$(".jbi_tooltip",a).css({display:"none"})}
function bookmarkPage(a,b){var c=navigator.userAgent.toLowerCase();if(window.sidebar)window.sidebar.addPanel(b,a,"");else if(window.external)c.indexOf("chrome")==-1?window.external.AddFavorite(a,b):alert("Please Press CTRL+D (or Command+D for macs) to bookmark this page");else if(window.opera&&window.print)return true;else if(c.indexOf("konqueror")!=-1)alert("Please press CTRL+B to bookmark this page.");else c.indexOf("webkit")!=-1?alert("Please press CTRL+B (or Command+D for macs) to bookmark this page."):
alert("Your browser cannot add bookmarks  this link. Please add this link manually.")}
function CloseOvidWindow(){if($.browser.mozilla){$("#jbi-iframe-id").hide();$("body").append("<style type='text/css'>.box-rounded-corners {width: 415px;background-color: #c6dbf7;-moz-border-radius: 20px;-webkit-border-radius: 0px;border-radius: 20px;padding: 30px 0;margin: 30px 0;}</style><div class='box-rounded-corners' style='padding-left: 0px; border-left-width: 100px; margin-left: 250px; margin-top: 100px;'><div align='center'><B>You have been successfully logged out !!</B></div></div>")}else window.close()}
function get_jbi_bookmark_popup(a,b){$("#popup-overlay").length&&$("#popup-overlay, #jbi-bookmark-tool-popup-box").remove();var c;b.attr("class");c=b.attr("href").match(/JBI\+Bookmark\+Page\=(.+)/)[1];c=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Ajax JBI Bookmark Page")+"="+c;$("#below-banner").prepend('<div id="popup-overlay" class="popupOverlay"></div><div id="jbi-bookmark-tool-popup-box" class="overlay-popup-box" ></div>');var f;f=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-
$("#jbi-bookmark-tool-popup-box").offset().top-$(window).height()*2/3:$(a.target).offset().top-$("#jbi-bookmark-tool-popup-box").offset().top-50;$("#jbi-bookmark-tool-popup-box").css({top:f,width:"25em"});var e=$("#jbi-bookmark-tool-popup-box");$.ajax({url:c,dataType:"json",beforeSend:function(){e.html("<div class='loading-big set-height'></div>")},success:function(d){if(d.result=="FAIL"&&d.reason=="timeout"){display_timeout_message(e,d.session_timeout_error);return false}e.html(d.content);b.overlay({popup:e,
action:"show_popup",recalculate:true});$("#popup-overlay").css({height:"85em"});$(".jbi-email-jumpstart").click(function(g){get_jbi_popup_overlay_for_email(g,$(this));return false});$("a.popup-close",e).click(function(){b.overlay({action:"close_all"});window.location.href.match(/#below-banner/)&&history.back();$("#jbi-bookmark-tool-popup-box").remove();$("#popup-overlay").remove();return false})},error:function(d,g){try{alert("Error ->\n"+g)}catch(l){}}});$(this).overlay({popup:"#jbi-bookmark-tool-popup-box",
overlay:"#popup-overlay",bind_events_to:"#below-banner",all_popups:"div.overlay-popup-box",action:"show_all"})}
function player_popup(a,b,c,f,e,d,g,l,n,o,u,r){b=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Play Multimedia")+"=1&dlname="+o+"&entry_id="+b+"&"+encodeURIComponent("citation args")+"="+c+"&mm_index="+f+"&mmdatalist="+e+"&set_number="+g+"&mode="+l+"&browser_type="+d+"&return_url="+n;if(u.length>0&&r.length>0)b=b+"&parent_dlist="+u+"&parent_index="+r;element=$("#mm-overlay-container");$.ajax({type:"GET",url:b,dataType:"json",success:function(p){$("div #mm-overlay-container").css("display",
"block");var s=$("#below-banner");element.css({height:s.outerHeight()+200}).removeClass("hide").html(p.content);p=get_popup_top(a,$("#player-display-popup-box"));$("#player-display-popup-box").css({top:p});$("div #player-display-popup-box a.popup-close").click(function(){var z=$("#base_ui_callback_url").attr("href")+"&"+encodeURIComponent("Release Multimedia License")+"=1&mode="+l+"&browser_type="+d;$.ajax({type:"GET",url:z,dataType:"json",success:function(){},error:function(A,x,h){try{console.error(A,
x,h)}catch(F){}},complete:function(){}});$("div #mm-overlay-container").css("display","none");$("div #player-display-popup-box").remove();window.location.href.match(/#below-banner/)&&history.back();return false});$("div #player-display-popup-box a.popup-minimize").click(function(){$("div #div-mm-player").css("display","none");$("div #mm-galleries").css("display","none");$("#player-display-popup-box").css("height","");$("#player-display-popup-box").css("height","auto");return false});$("div #player-display-popup-box a.popup-maximize").click(function(){$("div #div-mm-player").css("display",
"block");$("div #mm-galleries").css("display","block");return false});$("div #player-display-popup-box #mm-galleries #gallery .media-gallery-class").unbind("click").click(function(z){play_multimedia_inline(z);return false})},error:function(p,s,z){try{console.error(p,s,z)}catch(A){}},complete:function(){}})}
function play_multimedia_inline(a){var b=$(a.target),c=b.parent();if(a.target.nodeName=="A")c=b;a=$(c).attr("href").replace("Open+Player","Play+Inline+Multimedia");$.ajax({type:"GET",url:a,dataType:"json",beforeSend:function(){$("#popup-control h2, #media-tools-header, #bottom-panel").addClass("loading")},success:function(f){f=f.content;$("#popup-control h2, #media-tools-header, #bottom-panel").removeClass("loading");$("#div-mm-player").replaceWith($("#div-mm-player",f))},error:function(f,e,d){try{console.error(f,
e,d)}catch(g){}},complete:function(){}})}function get_popup_top(a,b){return popup_top=$(window).scrollTop()>$(window).height()?$(a.target).offset().top-b.offset().top-$(window).height()*1/3:$(a.target).offset().top-b.offset().top-50}
function expand_collapse_mm_filters(a){var b=$(a.target),c=b.parent();$.ajax({url:b.attr("href"),dataType:"json",beforeSend:function(){$(a.target).addClass("loading")},success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}$(a.target).removeClass("loading");c.replaceWith(f.filters);$("#browse_by_content a.filter-control").unbind("click").click(function(e){expand_collapse_mm_filters(e);return false});$("#browse_by_content a.date-range-control, #browse_by_content a.date-range-control-text").unbind("click").click(function(e){get_mm_filters_date_widget(e);
return false})},error:function(f,e){try{console.error(e)}catch(d){}}})}
function get_mm_filters_date_widget(a){var b=$(a.target),c=b.parent();$.ajax({url:b.attr("href"),dataType:"json",beforeSend:function(){b.addClass("loading")},success:function(f){if(f.session_timeout_error){display_timeout_popup(f.session_timeout_error);return false}c.replaceWith(f.filters);$("#browse_by_content a.date-range-control, #browse_by_content a.date-range-control-text").unbind("click").click(function(e){get_mm_filters_date_widget(e);return false})},error:function(f,e){try{console.error(e)}catch(d){}}})}
function multimedia_gallery_scrolling(){$("#mm-scroll-right-Video").live("click",function(){$("#mm-gallery-Video").animate({scrollLeft:"+=700"},1E3)});$("#mm-scroll-left-Video").live("click",function(){$("#mm-gallery-Video").animate({scrollLeft:"-=700"},1E3)});$("#mm-scroll-right-Image").live("click",function(){$("#mm-gallery-Image").animate({scrollLeft:"+=700"},1E3)});$("#mm-scroll-left-Image").live("click",function(){$("#mm-gallery-Image").animate({scrollLeft:"-=700"},1E3)});$("#mm-scroll-right-Audio").live("click",
function(){$("#mm-gallery-Audio").animate({scrollLeft:"+=400"},1E3)});$("#mm-scroll-left-Audio").live("click",function(){$("#mm-gallery-Audio").animate({scrollLeft:"-=400"},1E3)})}$("#player-display-popup-box").livequery(function(){$(this).draggable({iframeFix:true})});
function performbrowsebookssearch(a,b){if(a.preventDefault)a.preventDefault();else a.returnValue=false;var c=document.getElementById("ft_textBox");if(c.value.trim()==null||c.value.trim()==""||c.value.trim()==c.title){$(".bookbrowse_srch_btn").blur();$(".booknav-search-box").blur();alert("Please enter a search statement.");return false}document.getElementById("ft_search").ft_search_type.value=b;var f=$("#base_ui_callback_url").attr("href");c=f+"&Search+Textbook=1&q="+escape(c.value);var e;$.ajax({type:"GET",
url:c,dataType:"html",beforeSend:function(){$(".bookbrowse_srch_btn").click(function(){return false});$(".bookbrowse_srch_btn").addClass("bookbrowse_srch_loading")},success:function(d){d=eval("("+d+")");if(d.result.indexOf("OK")>=0&&d.count>0){e=f+"&Titles+Display="+d.datalist;window.location=e}else{$(".bookbrowse_srch_btn").removeClass("bookbrowse_srch_loading");$(".booknav-search-box").focus();alert("Search failed; no results")}},error:function(d,g,l){try{console.error(d,g,l)}catch(n){}}})}
function browsebookssearch(a,b){(a.keyCode?a.keyCode:a.which)===13&&performbrowsebookssearch(a,b);return false}function browse_search_activate_default_text(){$(".booknav-search").delegate(".bookbrowse-srch","focus",browse_search_remove_default_text);$(".booknav-search").delegate(".bookbrowse-srch","blur",browse_search_add_default_text)}function browse_search_remove_default_text(){var a=document.getElementById("ft_textBox");if(a.value.trim()==a.title)a.value=""}
function browse_search_add_default_text(){var a=document.getElementById("ft_textBox");if(a.value.trim()=="")a.value=a.title}function set_window_height(){var a=$(window).height()-($("#header").height()+$("#header-tabs-container").height());a=a-$("#ovid-footer").height()-26;$("#book-read-content").height(a+"px");$("#book-read-content").css("margin-bottom","-10px")}
function adjust_footer_elements_width(){var a=$("#ovid-footer").width();$("#language-select-widget").width();var b=$(window).width()+14;if(b>=1E3){$("#footer-buttons-lower").css("width","auto");b=$("#footer-buttons-lower").width();a=a-b-29;$("#language-select-widget").css("width",a+"px");$("#footer-buttons-lower").css("float","right");$("#footer-copyright").css("width","auto")}else if(b>=768&&b<1E3){$("#language-select-widget").css("width","auto");$("#footer-buttons-lower").css("width",a+"px");$("#footer-buttons-lower").css("float",
"left");$("#footer-copyright").css("width","auto")}else{$("#language-select-widget").css("width","auto");$("#footer-buttons-lower").css("width",a+"px");$("#footer-buttons-lower").css("float","left");$("#footer-copyright").css("width","100%")}}function add_browse_book_overlay(){$("#browse-books-popup-box").addClass("browse-books-popup-overlay")}function remove_browse_book_overlay(){$("#browse-books-popup-box").removeClass("browse-books-popup-overlay")}
function get_books_by_title(a,b,c){if($(".browse-books-popup-overlay").length>0&&$.browser.msie)return false;add_browse_book_overlay();$.browser.msie&&$.browser.version<9||send_heartbeat_ajax_call();$("ul#booknav-list li").each(function(e,d){$(d);$(d).removeClass("booknav-list-selected");$(d).html().match(">"+a+"<")&&$(d).addClass("booknav-list-selected")});$("#browse_book_title_index").attr("value",a);var f=$("#base_ui_callback_url").attr("href");if(a=="#")a="0";f+=a=="All"?"&Browse+Books=|"+b+"|1&pg_count="+
c+"&New+Books=1":"&Browse+Books=J|"+b+"|"+a+"&pg_count="+c+"&New+Books=1";$.ajax({type:"GET",url:f,cache:false,dataType:"html",beforeSend:function(){c==0&&$("#right-browse-content").empty();var e=$("#right-browse-content").height();$("#right-browse-content").append("<div class='loading-books-tab set-height'></div>");$("#books-newsstand-view").hasClass("active")&&$(".loading-books-tab").css("margin-top",e)},success:function(e){c==0&&$(".booknav-category").removeClass("browse-book-selected");$("div").remove(".loading-books-tab");
if($(".login-container",e).html()){location.reload();return false}else{if($(e).filter(".error").length>0){$("#right-browse-content").append("<div id='nomore_data_to_display'></div>");return false}if(c==0)$("#right-browse-content").html(e);else c>=1&&$("#right-browse-content").append(e)}$("#right-browse-content").append("<input type='hidden' id='enable_lazy_loading' value='1'/>");$("#browse_book_subject_dlname").attr("value","");set_height_books_browse();remove_browse_book_overlay();e=$("#annotatescrollpos").attr("value");
var d=$("#annindex").attr("value"),g=$(window).scrollTop();if(d){if(g!=e&&e!=undefined&&g!=undefined){$(window).scrollTop(e);g=$(window).scrollTop()}var l=$("#annotate_link_"+d);if(g>=e&&e!=undefined&&g!=undefined){$("#annindex").val("");$("#left-browse-navigator").append("<input type='hidden' id='showannotationpopupafterpinlogin' value='Done' />");add_annotation_popup(function(){call_annotation_popup(l)},l,1);$("#annotatescrollpos").val("")}}},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}remove_browse_book_overlay()}});
return false}
function load_subject_heading_for_browse(a){var b=$("input[name=search]").attr("value"),c=$("input[name=inisrch]").attr("value"),f=$("#base_ui_callback_url").attr("href");f+="&Load+Browse+Subjects=1&New+Books=1&search="+b+"&inisrch="+c;$.ajax({type:"GET",url:f,dataType:"json",beforeSend:function(){$("#booknav-browser-by-subject").empty();$("#booknav-browser-by-subject").html("<div class='loading-books-tab set-height'></div>")},success:function(e){$("#booknav-browser-by-subject").empty();$("#booknav-browser-by-subject").html(e.html);
set_height_books_browse_subject();a&&$('div[index="'+a+'"] td.booknav-catlink-text a').click()},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}}});return false}
function get_books_by_subject(a,b,c,f){$("#selectedsubjectindex").val()&&$("#selectedsubjectindex").remove();if($(".browse-books-popup-overlay").length>0&&$.browser.msie)return false;add_browse_book_overlay();$.browser.msie&&$.browser.version<9||send_heartbeat_ajax_call();if(c==true){for($("#booknav-cat-list div").each(function(e,d){$(d).removeClass("browse-book-selected")});a.tagName!="DIV";)a=a.parentNode;a.className+=" browse-book-selected"}$("#browse_book_subject_dlname").attr("value",b);a=$("#base_ui_callback_url").attr("href");
a+="&"+b+"&pg_count="+f;$.ajax({type:"GET",url:a,cache:false,dataType:"html",beforeSend:function(){f==0&&$("#right-browse-content").empty();var e=$("#right-browse-content").height();$("#right-browse-content").append("<div class='loading-books-tab set-height'></div>");$("#books-newsstand-view").hasClass("active")&&$(".loading-books-tab").css("margin-top",e)},success:function(e){f==0&&$(".booknav-list-item").removeClass("booknav-list-selected");$("div").remove(".loading-books-tab");if($(".login-container",
e).html()){location.reload();return false}else{if($(e).filter(".error").length>0){$("#right-browse-content").append("<div id='nomore_data_to_display'></div>");return false}if(f==0)$("#right-browse-content").html(e);else f>=1&&$("#right-browse-content").append(e)}$("#right-browse-content").append("<input type='hidden' id='enable_lazy_loading' value='1'/>");$("meta[name=browse_datalist]").attr("content","NO");set_height_books_browse_subject();remove_browse_book_overlay();(e=$("#selectedsubjectindex").attr("value"))&&
$('div[index="'+e+'"]').addClass("browse-book-selected");e=$("#annotatescrollpos").attr("value");var d=$("#annindex").attr("value"),g=$(window).scrollTop();if(d){if(g<e&&e!=undefined&&g!=undefined){$(window).scrollTop(e+200);g=$(window).scrollTop()}var l=$("#annotate_link_"+d);if(g>=e&&e!=undefined&&g!=undefined){$("#annindex").val("");$("#annotatescrollpos").val("");$("#left-browse-navigator").append("<input type='hidden' id='showannotationpopupafterpinlogin' value='Done' />");add_annotation_popup(function(){call_annotation_popup(l)},
l,1)}}},error:function(e,d,g){try{console.error(e,d,g)}catch(l){}remove_browse_book_overlay()}});return false}function menuAction(a,b){var c=document.getElementById(b);if(c.style.display=="none"){c.style.display="block";a.className="expanded-tree";a.parentNode.title=c.getAttribute("hide_msg")}else{c.style.display="none";a.className="collapse-tree";a.parentNode.title=c.getAttribute("show_msg")}set_height_books_browse_subject()}
function set_height_books_browse_for_annotate(){if($("#annotation-list-popup").length>0){var a=$("#annotate-overlay-popup-box").position().top+$("#annotate-overlay-popup-box").outerHeight(true);if($(window).height()<a){$("#left-browse-navigator").css("height",a);$("#popup-overlay").css("height","100%")}}}
function set_footer_height_for_dropdownpopup(){if($(".drop-menu").length>0){var a=$("div.ovid-footer").position().top;$("#footerpos").length>0?$("#footerpos").val(a):$("span.drop-menu-container").append("<input type='hidden' id='footerpos' value="+a+" />");a=$("ul.drop-menu").position().top+$("ul.drop-menu").outerHeight(true);if($(window).height()<a)$("#left-browse-navigator").length>0?$("#left-browse-navigator").css("height",a):$("#main-content").css("height",a)}else $("#left-browse-navigator").length>
0?$("#left-browse-navigator").css("height",$(window).height()):$("#main-content").css("height",$(window).height())}function reset_footer_height_for_dropdownpopup(){if($("#footerpos").length>0){var a=$("#footerpos").attr("value");if(a){$("#left-browse-navigator").length>0?$("#left-browse-navigator").css("height",a):$("#main-content").css("height","auto");$("#footerpos").val("")}}}
function set_height_books_browse(){var a=$(window).height()-($("#header").height()+$("#header-tabs-container").height()+$(".book-content-header").height());a=a-$("#ovid-footer").height()-48;$("#right-browse-content").height()>a?$("#left-browse-navigator").css("height",$("#right-browse-content").height()):$("#left-browse-navigator").css("height",a+20)}
function set_height_books_browse_subject(){var a=$(window).height()-($("#header").height()+$("#header-tabs-container").height()+$(".book-content-header").height());a=a-$("#ovid-footer").height()-48;if($("#right-browse-content").height()<a&&$("#booknav-cat-list").height()<a)$("#left-browse-navigator").css("height",a+20);else $("#right-browse-content").height()>$("#booknav-cat-list").height()?$("#left-browse-navigator").css("height",$("#right-browse-content").height()+200):$("#left-browse-navigator").css("height",
$(".booknav-tab").height()+$("#booknav-cat-list").height()+200);$("#popup-overlay").length&&$(".overlay-popup-box").css("display")=="block"&&set_height_books_browse_for_annotate()}
function display_citation_view(){if($("meta[name=browse_datalist]").attr("content")!="NO"){var a=$("#dl_name").val(),b=$("#browse_book_title_index").val();if(b=="0")b="#";if(b=="1")b="All";var c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book_citation&FIELDS=BOOK_CITATION&view_type=book_citation&New+Books=1&get_book_citation_view=1"}else if($("#browse_book_subject_dlname").val()!=""){var f=$("#browse_book_subject_dlname").val();c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book_citation&FIELDS=BOOK_CITATION&view_type=book_citation&get_book_citation_view=1"}$.ajax({type:"GET",
url:c,dataType:"html",success:function(){if($("meta[name=browse_datalist]").attr("content")!="NO")get_books_by_title(b,a,0);else $("#browse_book_subject_dlname").val()!=""&&get_books_by_subject(this,f,false,0)},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function display_hybrid_view(){if($("meta[name=browse_datalist]").attr("content")!="NO"){var a=$("#dl_name").val(),b=$("#browse_book_title_index").val();if(b=="0")b="#";if(b=="1")b="All";var c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&New+Books=1&get_book_hybrid_view=1"}else if($("#browse_book_subject_dlname").val()!=""){var f=$("#browse_book_subject_dlname").val();c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&get_book_hybrid_view=1"}$.ajax({type:"GET",
url:c,dataType:"html",success:function(){if($("meta[name=browse_datalist]").attr("content")!="NO")get_books_by_title(b,a,0);else $("#browse_book_subject_dlname").val()!=""&&get_books_by_subject(this,f,false,0)},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function display_newstand_view(){if($("meta[name=browse_datalist]").attr("content")!="NO"){var a=$("#dl_name").val(),b=$("#browse_book_title_index").val();if(b=="0")b="#";if(b=="1")b="All";var c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&New+Books=1&get_book_newstand_view=1"}else if($("#browse_book_subject_dlname").val()!=""){var f=$("#browse_book_subject_dlname").val();c=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&get_book_newstand_view=1"}$.ajax({type:"GET",
url:c,dataType:"html",success:function(){if($("meta[name=browse_datalist]").attr("content")!="NO")get_books_by_title(b,a,0);else $("#browse_book_subject_dlname").val()!=""&&get_books_by_subject(this,f,false,0)},error:function(e,d){try{console.error(d)}catch(g){}}});return false}
function set_books_view_type(a){if($("#toggle_title").hasClass("active")){$("#dl_name").val();var b=$("#browse_book_title_index").val();if(b=="0")b="#";if(b=="1")b="All";b=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&New+Books=1&set_book_view_type="+a}else if($("#toggle_subject").hasClass("active")){$("#browse_book_subject_dlname").val();b=$("#base_ui_callback_url").attr("href")+"&FORMAT=book&FIELDS=BOOK&view_type=book&set_book_view_type="+a}$.ajax({type:"GET",
url:b,cache:false,dataType:"html",success:function(){},error:function(c,f){try{console.error(f)}catch(e){}}});return false}function alert_to_select(a){$("html,body").scrollTop(0);a=$("#base_ui_callback_url").attr("href")+"&GetSelectAlert="+a;$.ajax({type:"GET",url:a,dataType:"json",success:function(b){alert(b.msg+"\n");remove_browse_book_overlay()},error:function(b,c,f){try{console.error(b,c,f)}catch(e){}}})}
function resize_journal_lhs_widget(){var a=$("#journals_list_search").height(),b=$("#available_journals").height(),c=$("#title_index").height(),f=$("#subject_categories").height(),e=$("#favorite_journals").height(),d=$("#titles-display").height();a=a+b+c+f+e;d>a?$("#JO #ovid-vertical-widgets").height(d+40):$("#JO #ovid-vertical-widgets").height(a+200);return false}function remove_default_text_from_search_annotate_popup(a){a.val()==a[0].title&&a.val("");return false}
function remove_default_text_from_edit_search_term_popup(a){a.val()==a[0].title&&a.val("");return false}function display_default_text_from_search_annotate_popup(a){a.val()==""&&a.val(a[0].title);return false}function display_default_text_from_edit_search_term_popup(a){a.val()==""&&a.val(a[0].title);return false}
function resize_journal_issue_lhs_widget(){var a=$("#journals_issue_search").height(),b=$("#journal_information").height(),c=$("#journal_issue_list").height(),f=$("#titles-display").height();a=a+b+c;f>a?$("#IS #ovid-vertical-widgets").height(f+40):$("#IS #ovid-vertical-widgets").height(a+200);return false}function redirect_on_load(a){window.location=a}
var ddlMouseClick=false,toggle_title_panel=function(){var a=$("#titles-panel"),b=$("#titles-panel-control"),c=$("#searchaid-rtoptions"),f=a.hasClass("open")?{state:{current:"open",change_to:"closed"},display:{current:"partial",change_to:"full"},width:"0"}:{state:{current:"closed",change_to:"open"},display:{current:"full",change_to:"partial"},width:"17em"};a.removeClass(f.state.current).addClass(f.state.change_to);b.removeClass(f.state.current).addClass(f.state.change_to);a.hasClass("open")?c.show():
c.hide();$("#titles-display").removeClass(f.display.curent).addClass(f.display.change_to);var e=b.attr("name").split("|")[2];a.animate({width:f.width},25,"linear",function(){$.ajax({type:"GET",url:$("#base_ui_callback_url").attr("href"),data:{"Toggle Titles Panel State":[e,f.state.change_to].join("|")},dataType:"json",success:function(d){b.attr("title",d.title).val(unescape_HTML(d.value));if($("body").hasClass("show-issue-page"))f.state.change_to=="open"&&$("#IS").length>0&&resize_journal_issue_lhs_widget();
else f.state.change_to=="open"&&$("#JO").length>0&&resize_journal_lhs_widget()},error:function(d,g,l){try{console.error(d,g,l)}catch(n){}}})})},bind_keypress_event_title_display_setup=function(){$("#msp-results .action-export, #project_item_subheader input.action-export-project, #project_item_footer input.action-export-project").bind("keypress",function(a){if(a.which===13){a.preventDefault();get_popup_overlay_for_export(a,$(this));return false}});$("#msp-results .action-email, #project_item_subheader input.action-email-project, #project_item_footer input.action-email-project").bind("keypress",
function(a){if(a.which===13){a.preventDefault();get_popup_overlay_for_email(a,$(this));return false}});$("#msp-results .action-print, #project_item_subheader input.action-print-project, #project_item_footer input.action-print-project").bind("keypress",function(a){if(a.which===13){a.preventDefault();get_popup_overlay_for_print(a,$(this));return false}});$("#below-banner button.render-form").bind("keypress",function(a){if(a.which===13){a.preventDefault();open_overlay_popup(a,$(this));return false}});
$("#below-banner input[type=submit].render-form").bind("keypress",function(a){if(a.which===13){a.preventDefault();open_overlay_popup(a,$(this));return false}});$("input.citman-clear-selected").bind("keypress",function(a){if(a.which===13){a.preventDefault();return citman_clear_selected()}});$("#titles-records input[type=submit].search-buttons").bind("keypress",function(a){if(a.which===13){a.preventDefault();$(this).click();return false}})};
